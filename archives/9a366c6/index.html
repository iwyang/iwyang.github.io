<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="æ³¨å†Œä¼ä¸šå¾®ä¿¡ 1ï¼æœç´¢ä¸‹è½½ä¼ä¸šï¼Œå¹¶ä½¿ç”¨æ‰‹æœºå·è¿›è¡Œä¼ä¸šå¾®ä¿¡æ³¨å†Œ\n2ï¼é€‰æ‹©æˆç«‹ä¼ä¸š\n3ï¼è¾“å…¥ä¼ä¸šåç§°ç­‰ä¿¡æ¯\n4ï¼å®Œæˆåï¼Œåœ¨é€šè®¯å½•å†…æ·»åŠ æˆå‘˜\nä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨ åœ¨ â€œä¼ä¸šå¾®ä¿¡ â€”â€” åº”ç”¨ç®¡ç†â€ æœ€åº•éƒ¨çš„ â€œè‡ªå»ºâ€ åº”ç”¨å¤„ï¼Œæ–°å»ºä¸€ä¸ª â€œåº”ç”¨â€ã€‚åç§°æ¯”å¦‚å°±å«æ¶ˆæ¯é€šçŸ¥ï¼Œé…ç½®å®Œæˆåè®°å½•ä¸‹åº”ç”¨é¡µé¢çš„ AgentId å’Œ Secretã€‚æ³¨æ„ï¼ŒæŸ¥çœ‹ Secret éœ€è¦å®‰è£…ä¸€ä¸ªä¼ä¸šå¾®ä¿¡ï¼ŒæŸ¥çœ‹å®Œå¯ä»¥å¸è½½ã€‚\n"><title>åˆ©ç”¨ä¼ä¸šå¾®ä¿¡å®ç°twikooæ–°æ¶ˆæ¯æé†’&&æ•°æ®å¯¼å‡ºç­‰</title><link rel=canonical href=https://bore.vip/archives/9a366c6/><link rel=stylesheet href=/scss/style.min.4f458e4356e8c7b6d78a37bd0591e10602c6193c531f719db1e3ac2a7c9703d4.css><meta property='og:title' content="åˆ©ç”¨ä¼ä¸šå¾®ä¿¡å®ç°twikooæ–°æ¶ˆæ¯æé†’&&æ•°æ®å¯¼å‡ºç­‰"><meta property='og:description' content="æ³¨å†Œä¼ä¸šå¾®ä¿¡ 1ï¼æœç´¢ä¸‹è½½ä¼ä¸šï¼Œå¹¶ä½¿ç”¨æ‰‹æœºå·è¿›è¡Œä¼ä¸šå¾®ä¿¡æ³¨å†Œ\n2ï¼é€‰æ‹©æˆç«‹ä¼ä¸š\n3ï¼è¾“å…¥ä¼ä¸šåç§°ç­‰ä¿¡æ¯\n4ï¼å®Œæˆåï¼Œåœ¨é€šè®¯å½•å†…æ·»åŠ æˆå‘˜\nä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨ åœ¨ â€œä¼ä¸šå¾®ä¿¡ â€”â€” åº”ç”¨ç®¡ç†â€ æœ€åº•éƒ¨çš„ â€œè‡ªå»ºâ€ åº”ç”¨å¤„ï¼Œæ–°å»ºä¸€ä¸ª â€œåº”ç”¨â€ã€‚åç§°æ¯”å¦‚å°±å«æ¶ˆæ¯é€šçŸ¥ï¼Œé…ç½®å®Œæˆåè®°å½•ä¸‹åº”ç”¨é¡µé¢çš„ AgentId å’Œ Secretã€‚æ³¨æ„ï¼ŒæŸ¥çœ‹ Secret éœ€è¦å®‰è£…ä¸€ä¸ªä¼ä¸šå¾®ä¿¡ï¼ŒæŸ¥çœ‹å®Œå¯ä»¥å¸è½½ã€‚\n"><meta property='og:url' content='https://bore.vip/archives/9a366c6/'><meta property='og:site_name' content="Bore's Notes"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='hexo'><meta property='article:published_time' content='2022-02-06T09:27:38+00:00'><meta property='article:modified_time' content='2026-02-09T22:08:24+08:00'><meta name=twitter:title content="åˆ©ç”¨ä¼ä¸šå¾®ä¿¡å®ç°twikooæ–°æ¶ˆæ¯æé†’&&æ•°æ®å¯¼å‡ºç­‰"><meta name=twitter:description content="æ³¨å†Œä¼ä¸šå¾®ä¿¡ 1ï¼æœç´¢ä¸‹è½½ä¼ä¸šï¼Œå¹¶ä½¿ç”¨æ‰‹æœºå·è¿›è¡Œä¼ä¸šå¾®ä¿¡æ³¨å†Œ\n2ï¼é€‰æ‹©æˆç«‹ä¼ä¸š\n3ï¼è¾“å…¥ä¼ä¸šåç§°ç­‰ä¿¡æ¯\n4ï¼å®Œæˆåï¼Œåœ¨é€šè®¯å½•å†…æ·»åŠ æˆå‘˜\nä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨ åœ¨ â€œä¼ä¸šå¾®ä¿¡ â€”â€” åº”ç”¨ç®¡ç†â€ æœ€åº•éƒ¨çš„ â€œè‡ªå»ºâ€ åº”ç”¨å¤„ï¼Œæ–°å»ºä¸€ä¸ª â€œåº”ç”¨â€ã€‚åç§°æ¯”å¦‚å°±å«æ¶ˆæ¯é€šçŸ¥ï¼Œé…ç½®å®Œæˆåè®°å½•ä¸‹åº”ç”¨é¡µé¢çš„ AgentId å’Œ Secretã€‚æ³¨æ„ï¼ŒæŸ¥çœ‹ Secret éœ€è¦å®‰è£…ä¸€ä¸ªä¼ä¸šå¾®ä¿¡ï¼ŒæŸ¥çœ‹å®Œå¯ä»¥å¸è½½ã€‚\n"><link rel="shortcut icon" href=/img/avatar.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar.png width=170 height=170 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Bore's Notes</a></h1><h2 class=site-description>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/link/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>é“¾æ¥</span></a></li><li><a href=/shuoshuo/><svg class="icon icon-tabler icon-tabler-message-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 20l1.3-3.9A9 8 0 117.7 19L3 20"/><line x1="12" y1="12" x2="12" y2="12.01"/><line x1="8" y1="12" x2="8" y2="12.01"/><line x1="16" y1="12" x2="16" y2="12.01"/></svg>
<span>è¯´è¯´</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav class=toc-nav id=TableOfContents><ol><li><a href=#æ³¨å†Œä¼ä¸šå¾®ä¿¡>æ³¨å†Œä¼ä¸šå¾®ä¿¡</a></li><li><a href=#ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨>ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨</a></li><li><a href=#åˆ›å»º-api-äº‘å‡½æ•°>åˆ›å»º API äº‘å‡½æ•°</a><ol><li><a href=#vercelç‰ˆæœ¬>Vercelç‰ˆæœ¬</a><ol><li><a href=#å®‰è£…python>å®‰è£…python</a></li><li><a href=#å®‰è£…pipenv>å®‰è£…pipenv</a></li><li><a href=#ä¸‹è½½requests>ä¸‹è½½requests</a></li><li><a href=#æ–°å»ºpythonpy>æ–°å»ºpython.py</a></li><li><a href=#åœ¨twikooä¸­é…ç½®>åœ¨twikooä¸­é…ç½®</a></li><li><a href=#åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯>åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯</a></li></ol></li><li><a href=#è…¾è®¯äº‘ç‰ˆæœ¬>è…¾è®¯äº‘ç‰ˆæœ¬</a><ol><li><a href=#twikoo-é…ç½®>Twikoo é…ç½®</a></li></ol></li></ol></li><li><a href=#æ›´æ¢-cdn-é•œåƒ>æ›´æ¢ CDN é•œåƒ</a></li><li><a href=#æ›´æ¢è¡¨æƒ…cdn>æ›´æ¢è¡¨æƒ…CDN</a></li><li><a href=#twikoo-å¯¼å‡ºè¯„è®ºæ•°æ®>Twikoo å¯¼å‡ºè¯„è®ºæ•°æ®</a><ol><li><a href=#å¯¼å‡º-twikoo-åœ¨-vercel-çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨ Vercel çš„æ•°æ®</a></li><li><a href=#å¯¼å‡º-twikoo-åœ¨è…¾è®¯äº‘çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨è…¾è®¯äº‘çš„æ•°æ®</a></li></ol></li><li><a href=#å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><style>.article-meta-info{display:flex!important;align-items:center!important;flex-wrap:wrap!important;gap:15px!important;margin-top:12px!important;margin-bottom:8px!important;opacity:1!important;color:var(--card-text-color-secondary)!important}.article-meta-item{display:flex!important;align-items:center!important;gap:8px!important;font-size:14px!important;line-height:1!important;text-decoration:none!important;color:inherit!important;opacity:1!important}.article-meta-item svg{width:14px!important;height:14px!important;display:block!important;margin:0!important;padding:0!important;opacity:1!important;color:inherit!important}.article-meta-item time,.article-meta-item span{font-size:14px!important;line-height:1!important;display:block!important;margin:0!important;color:inherit!important;font-weight:400!important}</style><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%8A%80%E6%9C%AF/ style=background-color:#beefd9;color:#0f3d29>æŠ€æœ¯</a></header><h2 class=article-title><a href=/archives/9a366c6/>åˆ©ç”¨ä¼ä¸šå¾®ä¿¡å®ç°twikooæ–°æ¶ˆæ¯æé†’&&æ•°æ®å¯¼å‡ºç­‰</a></h2><footer class=article-meta-info><div class=article-meta-item><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<time class=article-time--published>2022-02-06</time></div><div class=article-meta-item><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<time class=article-time--updated>2026-02-09</time></div><div class=article-meta-item><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
<span class=article-reading-time>é˜…è¯»æ—¶é•¿: 9 åˆ†é’Ÿ</span></div></footer></div></header><aside class=article-toc><details><summary><div class=article-toc-title><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-right"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6-6 6"/></svg>
<span>ç›®å½•</span></div></summary><nav class=toc-nav><ol><li><a href=#æ³¨å†Œä¼ä¸šå¾®ä¿¡>æ³¨å†Œä¼ä¸šå¾®ä¿¡</a></li><li><a href=#ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨>ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨</a></li><li><a href=#åˆ›å»º-api-äº‘å‡½æ•°>åˆ›å»º API äº‘å‡½æ•°</a><ol><li><a href=#vercelç‰ˆæœ¬>Vercelç‰ˆæœ¬</a><ol><li><a href=#å®‰è£…python>å®‰è£…python</a></li><li><a href=#å®‰è£…pipenv>å®‰è£…pipenv</a></li><li><a href=#ä¸‹è½½requests>ä¸‹è½½requests</a></li><li><a href=#æ–°å»ºpythonpy>æ–°å»ºpython.py</a></li><li><a href=#åœ¨twikooä¸­é…ç½®>åœ¨twikooä¸­é…ç½®</a></li><li><a href=#åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯>åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯</a></li></ol></li><li><a href=#è…¾è®¯äº‘ç‰ˆæœ¬>è…¾è®¯äº‘ç‰ˆæœ¬</a><ol><li><a href=#twikoo-é…ç½®>Twikoo é…ç½®</a></li></ol></li></ol></li><li><a href=#æ›´æ¢-cdn-é•œåƒ>æ›´æ¢ CDN é•œåƒ</a></li><li><a href=#æ›´æ¢è¡¨æƒ…cdn>æ›´æ¢è¡¨æƒ…CDN</a></li><li><a href=#twikoo-å¯¼å‡ºè¯„è®ºæ•°æ®>Twikoo å¯¼å‡ºè¯„è®ºæ•°æ®</a><ol><li><a href=#å¯¼å‡º-twikoo-åœ¨-vercel-çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨ Vercel çš„æ•°æ®</a></li><li><a href=#å¯¼å‡º-twikoo-åœ¨è…¾è®¯äº‘çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨è…¾è®¯äº‘çš„æ•°æ®</a></li></ol></li><li><a href=#å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ol></nav></details></aside><section class=article-content><h2 id=æ³¨å†Œä¼ä¸šå¾®ä¿¡>æ³¨å†Œä¼ä¸šå¾®ä¿¡</h2><p>1ï¼æœç´¢ä¸‹è½½ä¼ä¸šï¼Œå¹¶ä½¿ç”¨æ‰‹æœºå·è¿›è¡Œä¼ä¸šå¾®ä¿¡æ³¨å†Œ</p><p>2ï¼é€‰æ‹©æˆç«‹ä¼ä¸š</p><p>3ï¼è¾“å…¥ä¼ä¸šåç§°ç­‰ä¿¡æ¯</p><p>4ï¼å®Œæˆåï¼Œåœ¨é€šè®¯å½•å†…æ·»åŠ æˆå‘˜</p><h2 id=ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨>ä¼ä¸šå¾®ä¿¡åˆ›å»ºä¸€ä¸ªåº”ç”¨</h2><p>åœ¨ â€œä¼ä¸šå¾®ä¿¡ â€”â€” åº”ç”¨ç®¡ç†â€ æœ€åº•éƒ¨çš„ â€œè‡ªå»ºâ€ åº”ç”¨å¤„ï¼Œæ–°å»ºä¸€ä¸ª â€œåº”ç”¨â€ã€‚åç§°æ¯”å¦‚å°±å«æ¶ˆæ¯é€šçŸ¥ï¼Œé…ç½®å®Œæˆåè®°å½•ä¸‹åº”ç”¨é¡µé¢çš„ AgentId å’Œ Secretã€‚æ³¨æ„ï¼ŒæŸ¥çœ‹ Secret éœ€è¦å®‰è£…ä¸€ä¸ªä¼ä¸šå¾®ä¿¡ï¼ŒæŸ¥çœ‹å®Œå¯ä»¥å¸è½½ã€‚</p><p>åœ¨ â€œä¼ä¸šå¾®ä¿¡ â€”â€” æˆ‘çš„ä¼ä¸šâ€ åº•éƒ¨ï¼Œè®°å½•ä¸‹ â€œä¼ä¸š IDâ€ã€‚</p><p>è‡³æ­¤ï¼Œå¾®ä¿¡é…ç½®å®Œæˆï¼Œå¼€å§‹é…ç½®æé†’ APIã€‚</p><h2 id=åˆ›å»º-api-äº‘å‡½æ•°>åˆ›å»º API äº‘å‡½æ•°</h2><p>é¦–å…ˆå‚è€ƒ Heo çš„æ•™ç¨‹ï¼Œåˆ›å»ºä¸€ä¸ªè…¾è®¯äº‘æˆ– vercel ç‰ˆæœ¬çš„äº‘å‡½æ•°ã€‚</p><h3 id=vercelç‰ˆæœ¬>Vercelç‰ˆæœ¬</h3><p>æˆ‘ä¹‹å‰ä½¿ç”¨verceléƒ¨ç½²è¿‡twikooï¼Œå› æ­¤ä¸éœ€è¦å†åˆ›å»ºæ–°çš„äº‘å‡½æ•°ã€‚å¦‚æœä½ ä¸æ˜¯ä½¿ç”¨vercelï¼Œ<a class=link href=https://blog.zhheo.com/p/1e9f35bc.html#%e4%bd%bf%e7%94%a8vercel%e5%bc%80%e5%8f%91%e6%90%ad%e5%bb%ba%e6%95%99%e7%a8%8b%ef%bc%88%e6%8e%a8%e8%8d%90%ef%bc%89 target=_blank rel=noopener>å‚è€ƒè¿™é‡Œ</a>ã€‚</p><h4 id=å®‰è£…python>å®‰è£…python</h4><p>ä¸‹è½½å¹¶å®‰è£…pythonï¼Œå®‰è£…æ—¶æ³¨æ„å‹¾é€‰<code>Add Python 3.10 to PATH</code></p><h4 id=å®‰è£…pipenv>å®‰è£…pipenv</h4><p>æ‰¾åˆ°ä½ çš„twikoo githubä»“åº“ï¼Œcloneåˆ°æœ¬åœ°ï¼Œè¿›å…¥<code>api/</code>ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>pip</span> <span class=n>install</span> <span class=n>pipenv</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœå®‰è£…æ—¶æŠ¥é”™ï¼š<code>ERROR: Exception: Traceback (most recent call last)</code>ï¼Œå°±ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>pip</span> <span class=n>install</span> <span class=n>pipenv</span>Â <span class=n>-i</span>Â <span class=n>http</span><span class=err>:</span><span class=p>//</span><span class=n>pypi</span><span class=p>.</span><span class=py>douban</span><span class=p>.</span><span class=n>com</span><span class=p>/</span><span class=n>simple</span>Â <span class=p>-</span><span class=n>-trusted-host</span>Â <span class=n>pypi</span><span class=p>.</span><span class=py>douban</span><span class=p>.</span><span class=py>com</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ä¸‹è½½requests>ä¸‹è½½requests</h4><p>ç»§ç»­åœ¨<code>api/</code>æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>pipenv</span> <span class=n>install</span> <span class=n>requests</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæŒ‰ç…§æŠ¥é”™ï¼Œè¯·å…ˆå…³é—­dlã€‚</p><h4 id=æ–°å»ºpythonpy>æ–°å»ºpython.py</h4><p>ç„¶ååœ¨è¯¥ç›®å½•åˆ›å»ºä¸€ä¸ª<code>python.py</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>http.server</span> <span class=kn>import</span> <span class=n>BaseHTTPRequestHandler</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib.parse</span> <span class=kn>import</span> <span class=n>parse_qs</span>
</span></span><span class=line><span class=cl><span class=c1># -*- coding: utf8 -*-</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>handler</span><span class=p>(</span><span class=n>BaseHTTPRequestHandler</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>do_GET</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>getTocken</span><span class=p>(</span><span class=nb>id</span><span class=p>,</span> <span class=n>secert</span><span class=p>,</span> <span class=n>msg</span><span class=p>,</span> <span class=n>agentId</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>url</span> <span class=o>=</span> <span class=s2>&#34;https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=&#34;</span> <span class=o>+</span> \
</span></span><span class=line><span class=cl>                <span class=nb>id</span> <span class=o>+</span> <span class=s2>&#34;&amp;corpsecret=&#34;</span> <span class=o>+</span> <span class=n>secert</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>tocken_json</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>r</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># print(tocken_json[&#39;access_token&#39;])</span>
</span></span><span class=line><span class=cl>            <span class=n>sendText</span><span class=p>(</span><span class=n>tocken</span><span class=o>=</span><span class=n>tocken_json</span><span class=p>[</span><span class=s1>&#39;access_token&#39;</span><span class=p>],</span> <span class=n>agentId</span><span class=o>=</span><span class=n>agentId</span><span class=p>,</span> <span class=n>msg</span><span class=o>=</span><span class=n>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>sendText</span><span class=p>(</span><span class=n>tocken</span><span class=p>,</span> <span class=n>agentId</span><span class=p>,</span> <span class=n>msg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>sendUrl</span> <span class=o>=</span> <span class=s2>&#34;https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=&#34;</span> <span class=o>+</span> <span class=n>tocken</span>
</span></span><span class=line><span class=cl>            <span class=c1># print(sendUrl)</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;safe&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;touser&#34;</span><span class=p>:</span> <span class=s2>&#34;@all&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;msgtype&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;agentid&#34;</span><span class=p>:</span> <span class=n>agentId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;text&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;content&#34;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>sendUrl</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>params</span> <span class=o>=</span> <span class=n>parse_qs</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>path</span><span class=p>[</span><span class=mi>12</span><span class=p>:])</span>
</span></span><span class=line><span class=cl>            <span class=n>apiid</span> <span class=o>=</span> <span class=n>params</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>apisecert</span> <span class=o>=</span> <span class=n>params</span><span class=p>[</span><span class=s1>&#39;secert&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>apiagentId</span> <span class=o>=</span> <span class=n>params</span><span class=p>[</span><span class=s1>&#39;agentId&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>apimsg</span> <span class=o>=</span> <span class=n>params</span><span class=p>[</span><span class=s1>&#39;msg&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>apimsg</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>path</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#try:</span>
</span></span><span class=line><span class=cl>            <span class=c1># æ‰§è¡Œä¸»ç¨‹åº</span>
</span></span><span class=line><span class=cl>            <span class=n>getTocken</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=n>apiid</span><span class=p>,</span> <span class=n>secert</span><span class=o>=</span><span class=n>apisecert</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=n>msg</span><span class=o>=</span><span class=n>apimsg</span><span class=p>,</span> <span class=n>agentId</span><span class=o>=</span><span class=n>apiagentId</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>#except:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#    status = 1</span>
</span></span><span class=line><span class=cl>            <span class=c1>#    apimsg = &#39;ä¸»ç¨‹åºè¿è¡Œæ—¶å‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥å‚æ•°æ˜¯å¦å¡«å†™æ­£ç¡®ã€‚è¯¦æƒ…å¯ä»¥å‚é˜…ï¼šhttps://blog.zhheo.com/p/1e9f35bc.html&#39;</span>
</span></span><span class=line><span class=cl>            <span class=c1>#else:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#    status = 0</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(event)</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(&#34;Received event: &#34; + json.dumps(event, indent = 2))</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(&#34;Received context: &#34; + str(context))</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(&#34;Hello world&#34;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>send_response</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>send_header</span><span class=p>(</span><span class=s1>&#39;Content-type&#39;</span><span class=p>,</span> <span class=s1>&#39;text/plain&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>end_headers</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>wfile</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>apimsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span></code></pre></td></tr></table></div></div><p>pushå½“å‰çš„æ›´æ”¹ä¹‹åï¼Œå½“Vercelå®Œæˆéƒ¨ç½²åï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ ·çš„æ–¹å¼ï¼Œæ‹¼æ¥ä¸€ä¸ª URLï¼Œæµè§ˆå™¨è®¿é—®ï¼Œçœ‹çœ‹æ‰‹æœºå¾®ä¿¡èƒ½ä¸èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://&lt; vercel_app_address&gt;/api/python?id=&lt;ww....&gt;&amp;secert=&lt;secret...&gt;&amp;agentId=&lt;agentId...&gt;&amp;msg=æµ‹è¯•ä¸€ä¸‹å§
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæˆåŠŸçš„è¯ä½ çš„æ‰‹æœºä¼šæ¥æ”¶åˆ°å¯¹åº”çš„æ¨é€ï¼ˆå¦‚æœä½ çš„ä¼ä¸šå¾®ä¿¡æ³¨å†ŒæˆåŠŸä¸”æ‰€å¡«ä¿¡æ¯æ­£ç¡®ï¼‰ã€‚</p><h4 id=åœ¨twikooä¸­é…ç½®>åœ¨twikooä¸­é…ç½®</h4><p><del>åœ¨twikooåå°ç®¡ç†<code>WECOM_API_URL</code>ä¸­æ·»åŠ ä½ æ‹¼æ¥çš„urlå³å¯ã€‚æ³¨æ„<code>msg</code>åé¢ä¸è¦æœ‰å‚æ•°ï¼š</del></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://&lt;vercel_app_address&gt;/api/python?id=&lt;ä¼ä¸šid&gt;&amp;secert=&lt;secret&gt;&amp;agentId=&lt;agentId&gt;&amp;msg=
</span></span></code></pre></td></tr></table></div></div><hr><p>2022.3.6 <a class=link href=https://twikoo.js.org/ target=_blank rel=noopener>Twikoo</a> v1.5.0æ›´æ–°ï¼š æ¶ˆæ¯æ¨é€é€»è¾‘ï¼Œä» 1.5.0 ä¹‹å‰çš„ç‰ˆæœ¬å‡çº§åï¼Œè¯·åœ¨ç®¡ç†é¢æ¿é‡æ–°é…ç½®è¯„è®ºæé†’çš„æ¶ˆæ¯æ¨é€æœåŠ¡ï¼Œå¢åŠ äº†å¯¹ Barkã€Telegram ç­‰å¹³å°çš„æ”¯æŒ</p><h5 id=ä¼ä¸šå¾®ä¿¡-ç¼©å†™-wecom><a class=link href=https://guole.fun/posts/626/ target=_blank rel=noopener>ä¼ä¸šå¾®ä¿¡</a> ç¼©å†™: <code>wecom</code></h5><p>ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯æ¨é€ï¼Œå…è´¹ï¼Œé™åˆ¶è¾ƒå°‘ã€‚</p><ol><li>ç”¨ç”µè„‘æ‰“å¼€ <a class=link href=https://work.weixin.qq.com/ target=_blank rel=noopener>https://work.weixin.qq.com/</a>ï¼Œæ³¨å†Œä¸€ä¸ªä¼ä¸š</li><li>æ³¨å†ŒæˆåŠŸåï¼Œç‚¹ã€Œç®¡ç†ä¼ä¸šã€è¿›å…¥ç®¡ç†ç•Œé¢ï¼Œé€‰æ‹©ã€Œåº”ç”¨ç®¡ç†ã€ â†’ ã€Œè‡ªå»ºã€ â†’ ã€Œåˆ›å»ºåº”ç”¨ã€</li><li>åº”ç”¨åç§°å¡«å…¥æœºå™¨äººçš„åç§°ï¼Œåº”ç”¨ logo é€‰æ‹©æœºå™¨äººçš„å¤´åƒï¼Œå¯è§èŒƒå›´é€‰æ‹©å…¬å¸å</li><li>åˆ›å»ºå®Œæˆåè¿›å…¥åº”ç”¨è¯¦æƒ…é¡µï¼Œå¯ä»¥å¾—åˆ°åº”ç”¨ID( <code>agentid</code> )ï¼Œåº”ç”¨Secret( <code>secret</code> )ï¼Œå¤åˆ¶
PSï¼šè·å–åº”ç”¨Secretæ—¶ï¼Œå¯èƒ½ä¼šå°†å…¶æ¨é€åˆ°ä¼ä¸šå¾®ä¿¡å®¢æˆ·ç«¯ï¼Œè¿™æ—¶å€™å¾®ä¿¡é‡Œè¾¹æ˜¯çœ‹ä¸åˆ°çš„ï¼Œéœ€è¦åœ¨ä¼ä¸šå¾®ä¿¡å®¢æˆ·ç«¯é‡Œè¾¹æ‰èƒ½çœ‹åˆ°</li><li>è¿›å…¥ã€Œ<a class=link href=https://work.weixin.qq.com/wework_admin/frame#profile target=_blank rel=noopener>æˆ‘çš„ä¼ä¸š</a>ã€é¡µé¢ï¼Œæ‹‰åˆ°æœ€ä¸‹è¾¹ï¼Œå¯ä»¥çœ‹åˆ°ä¼ä¸šIDï¼Œå¤åˆ¶</li><li>è¿›å…¥ã€Œæˆ‘çš„ä¼ä¸šã€ â†’ ã€Œ<a class=link href=https://work.weixin.qq.com/wework_admin/frame#profile/wxPlugin target=_blank rel=noopener>å¾®ä¿¡æ’ä»¶</a>ã€ï¼Œæ‹‰åˆ°ä¸‹è¾¹æ‰«æäºŒç»´ç ï¼Œå…³æ³¨ä»¥åå³å¯æ”¶åˆ°æ¨é€çš„æ¶ˆæ¯</li><li>å°†ç¬¬ 4 æ­¥å’Œç¬¬ 5 æ­¥å–å¾—çš„ <code>ä¼ä¸šID#åº”ç”¨Secret#åº”ç”¨ID</code> æ‹¼åˆ°ä¸€èµ·ï¼Œä¸­é—´ç”¨ â€œ<code>#</code>â€ å·åˆ†éš”ï¼Œå¡«å…¥ pushoo çš„ token ä¸­</li></ol><p>ç¤ºä¾‹ tokenï¼š<code>ww97a01a*****1e5f1#xHapDXmgZtlBgRQQXMb4kfh3y75Ynoubl*****l9ytE#1000005</code></p><p>PSï¼šå¦‚æœå‡ºç°æ¥å£è¯·æ±‚æ­£å¸¸ï¼Œä¼ä¸šå¾®ä¿¡æ¥å—æ¶ˆæ¯æ­£å¸¸ï¼Œä¸ªäººå¾®ä¿¡æ— æ³•æ”¶åˆ°æ¶ˆæ¯çš„æƒ…å†µï¼Œè¯·ç¡®è®¤å¦‚ä¸‹é…ç½®ï¼š</p><ul><li>è¿›å…¥ã€Œæˆ‘çš„ä¼ä¸šã€ â†’ ã€Œå¾®ä¿¡æ’ä»¶ã€ï¼Œæ‹‰åˆ°æœ€ä¸‹æ–¹ï¼Œå‹¾é€‰ã€Œå…è®¸æˆå‘˜åœ¨å¾®ä¿¡æ’ä»¶ä¸­æ¥æ”¶å’Œå›å¤èŠå¤©æ¶ˆæ¯ ã€</li><li>åœ¨ä¼ä¸šå¾®ä¿¡å®¢æˆ·ç«¯ ã€Œæˆ‘ã€ â†’ ã€Œè®¾ç½®ã€ â†’ ã€Œæ–°æ¶ˆæ¯é€šçŸ¥ã€ä¸­å…³é—­ã€Œä»…åœ¨ä¼ä¸šå¾®ä¿¡ä¸­æ¥å—æ¶ˆæ¯ã€é™åˆ¶æ¡ä»¶</li></ul><h4 id=åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯>åœ¨å¾®ä¿¡ä¸­æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯</h4><p>åœ¨â€œä¼ä¸šå¾®ä¿¡â€”â€”æˆ‘çš„ä¼ä¸šâ€”â€”å¾®ä¿¡æ’ä»¶â€é¡µé¢é…ç½®ï¼Œ<a class=link href=https://work.weixin.qq.com/wework_admin/frame#profile/wxPlugin target=_blank rel=noopener>ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</a>ã€‚</p><p>ä½¿ç”¨å¾®ä¿¡æ‰«ç ï¼Œå…³æ³¨ä½ çš„ä¼ä¸šå¾®ä¿¡ï¼Œå¹¶ä¸”åœ¨è®¾ç½®ä¸­æ‰“å¼€<code>å…è®¸æˆå‘˜åœ¨å¾®ä¿¡æ’ä»¶ä¸­æ¥æ”¶å’Œå›å¤èŠå¤©æ¶ˆæ¯</code>é€‰é¡¹ã€‚</p><h3 id=è…¾è®¯äº‘ç‰ˆæœ¬>è…¾è®¯äº‘ç‰ˆæœ¬</h3><p>å¯ä»¥å¤ç”¨ä¹‹å‰ Twikoo é‚£ä¸ªäº‘å¼€å‘ç¯å¢ƒï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„äº‘å‡½æ•°ï¼Œåç§°è‡ªå®šä¹‰å¦‚ weixin-pushï¼Œé€‰æ‹© helloworld ç©ºç™½æ¨¡æ¿å‡½æ•°ï¼ŒPython3.6 ç¯å¢ƒï¼Œ 128MB å°± OK äº†ã€‚ä¸‹ä¸€æ­¥ç²˜è´´ä¸‹é¢çš„ä»£ç ï¼Œç‚¹å‡»åˆ›å»ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># -*- coding: utf8 -*-</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>getTocken</span><span class=p>(</span><span class=nb>id</span><span class=p>,</span><span class=n>secert</span><span class=p>,</span><span class=n>msg</span><span class=p>,</span><span class=n>agentId</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s2>&#34;https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=&#34;</span> <span class=o>+</span> <span class=nb>id</span> <span class=o>+</span> <span class=s2>&#34;&amp;corpsecret=&#34;</span> <span class=o>+</span> <span class=n>secert</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>r</span> <span class=o>=</span><span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tocken_json</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>r</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(tocken_json[&#39;access_token&#39;])</span>
</span></span><span class=line><span class=cl>    <span class=n>sendText</span><span class=p>(</span><span class=n>tocken</span><span class=o>=</span><span class=n>tocken_json</span><span class=p>[</span><span class=s1>&#39;access_token&#39;</span><span class=p>],</span><span class=n>agentId</span><span class=o>=</span><span class=n>agentId</span><span class=p>,</span><span class=n>msg</span><span class=o>=</span><span class=n>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sendText</span><span class=p>(</span><span class=n>tocken</span><span class=p>,</span><span class=n>agentId</span><span class=p>,</span><span class=n>msg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>sendUrl</span> <span class=o>=</span> <span class=s2>&#34;https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=&#34;</span> <span class=o>+</span> <span class=n>tocken</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(sendUrl)</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;safe&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;touser&#34;</span> <span class=p>:</span> <span class=s2>&#34;@all&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msgtype&#34;</span> <span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;agentid&#34;</span> <span class=p>:</span> <span class=n>agentId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;text&#34;</span> <span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;content&#34;</span> <span class=p>:</span> <span class=n>msg</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>sendUrl</span><span class=p>,</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>(</span><span class=n>event</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>apiid</span><span class=o>=</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;queryStringParameters&#39;</span><span class=p>][</span><span class=s1>&#39;id&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>apisecert</span><span class=o>=</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;queryStringParameters&#39;</span><span class=p>][</span><span class=s1>&#39;secert&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>apiagentId</span> <span class=o>=</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;queryStringParameters&#39;</span><span class=p>][</span><span class=s1>&#39;agentId&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>apimsg</span> <span class=o>=</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;queryStringParameters&#39;</span><span class=p>][</span><span class=s1>&#39;msg&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>apimsg</span> <span class=o>=</span> <span class=s1>&#39;æœ‰å¿…å¡«å‚æ•°æ²¡æœ‰å¡«å†™ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å¡«å†™æ­£ç¡®å’Œæ ¼å¼æ˜¯å¦é”™è¯¯ã€‚è¯¦æƒ…å¯ä»¥å‚é˜…ï¼šhttps://blog.zhheo.com/p/1e9f35bc.html&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>status</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># æ‰§è¡Œä¸»ç¨‹åº</span>
</span></span><span class=line><span class=cl>            <span class=n>getTocken</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=n>apiid</span><span class=p>,</span><span class=n>secert</span><span class=o>=</span><span class=n>apisecert</span><span class=p>,</span><span class=n>msg</span><span class=o>=</span><span class=n>apimsg</span><span class=p>,</span><span class=n>agentId</span><span class=o>=</span><span class=n>apiagentId</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>status</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>apimsg</span> <span class=o>=</span> <span class=s1>&#39;ä¸»ç¨‹åºè¿è¡Œæ—¶å‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥å‚æ•°æ˜¯å¦å¡«å†™æ­£ç¡®ã€‚è¯¦æƒ…å¯ä»¥å‚é˜…ï¼šhttps://blog.zhheo.com/p/1e9f35bc.html&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>status</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(event)</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(&#34;Received event: &#34; + json.dumps(event, indent = 2)) </span>
</span></span><span class=line><span class=cl>    <span class=c1># print(&#34;Received context: &#34; + str(context))</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(&#34;Hello world&#34;)</span>
</span></span><span class=line><span class=cl>    <span class=n>status_str</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;status&#34;</span><span class=p>:</span><span class=n>status</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;msg&#34;</span><span class=p>:</span><span class=n>apimsg</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span><span class=p>(</span><span class=n>status_str</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>é…ç½®å¥½è®¿é—®æœåŠ¡ï¼ˆå¦‚æœç¬¬ä¸€æ¬¡åˆ›å»ºï¼Œå‚è€ƒ Twikoo æ•™ç¨‹è¿˜éœ€è¦é…ç½®å®‰å…¨åŸŸåç­‰ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>åŸŸåï¼š*
</span></span><span class=line><span class=cl>è§¦å‘è·¯å¾„ï¼š/weixin-push           (è‡ªå®šä¹‰)
</span></span><span class=line><span class=cl>å…³è”èµ„æºï¼šäº‘å‡½æ•°   weixin-push    (ä¸Šæ–‡åˆ›å»ºçš„äº‘å‡½æ•°)
</span></span></code></pre></td></tr></table></div></div><p><img src=/archives/9a366c6/202202061010000.jpg width=500 height=390 loading=lazy class=gallery-image data-flex-grow=128 data-flex-basis=307px></p><p>è‡³æ­¤ï¼Œäº‘å‡½æ•°åˆ›å»ºå®Œæˆã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ ·çš„æ–¹å¼ï¼Œæ‹¼æ¥ä¸€ä¸ª URLï¼Œæµè§ˆå™¨è®¿é—®ï¼Œçœ‹çœ‹æ‰‹æœºå¾®ä¿¡èƒ½ä¸èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚</p><p>äº‘å‡½æ•°çš„è®¿é—®æœåŠ¡ URL + è§¦å‘è·¯å¾„ + ?id = ä½ çš„ä¼ä¸šå¾®ä¿¡ ID + secert = ä¸Šæ–‡è®°å½•çš„ secert + Id = ä¸Šæ–‡è®°å½•çš„ AgentId + &amp;msg = éšä¾¿æµ‹è¯•ä¸€ä¸‹å§</p><p>å¦‚æˆ‘ä¸‹é¢è¿™æ ·çš„ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://blogpkly-13278c-1258453354.ap-shanghai.app.tcloudbase.com/weixin-push?id=ww*******&amp;secert=Ne******&amp;agentId=1000003&amp;msg=éšä¾¿æµ‹è¯•ä¸€ä¸‹å§
</span></span></code></pre></td></tr></table></div></div><p>æµè§ˆå™¨è¿”å›ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜é…ç½®å®Œæˆ (msg åçš„å†…å®¹ï¼Œæ˜¯ Unicode ç¼–ç åçš„ â€œéšä¾¿æµ‹è¯•ä¸€ä¸‹å§â€ å†…å®¹ï¼Œç‚¹å‡»è¿™é‡Œå¯ä»¥è½¬æ¢ )ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=nt>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;\u968f\u4fbf\u6d4b\u8bd5\u4e00\u4e0b\u5427&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=twikoo-é…ç½®>Twikoo é…ç½®</h4><p>åœ¨ Twikoo v1.4.5 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œåœ¨ä¸Šè¿°ä¼ä¸šå¾®ä¿¡ API æ­å»ºå®Œæˆåï¼Œæ‹¼æ¥æˆä¸‹è¿°æ ·å¼çš„ URLï¼Œå¡«å†™åœ¨å³æ—¶é€šçŸ¥ â€”â€”WECOM_API_URL ä¸­å³å¯å®Œæˆé…ç½®ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://blogpkly-13278c-1258453354.ap-shanghai.app.tcloudbase.com/weixin-push?id=ä¼ä¸šå¾®ä¿¡è·å–&amp;secert=ä¼ä¸šå¾®ä¿¡è·å–&amp;agentId=ä¼ä¸šå¾®ä¿¡è·å–&amp;msg=
</span></span></code></pre></td></tr></table></div></div><p>å¾®ä¿¡å…³æ³¨è‡ªå·±çš„ä¼ä¸šå¾®ä¿¡è´¦å·ï¼Œç„¶åç”¨å…¶ä»–éåšä¸»é‚®ç®±åœ¨ç½‘ç«™ç•™è¨€ï¼Œè¯•è¯•å³æ—¶é€šçŸ¥å§ï¼</p><h2 id=æ›´æ¢-cdn-é•œåƒ>æ›´æ¢ CDN é•œåƒ</h2><blockquote><p>å¦‚æœé‡åˆ°é»˜è®¤ CDN åŠ è½½é€Ÿåº¦ç¼“æ…¢ï¼Œå¯æ›´æ¢å…¶ä»– CDN é•œåƒã€‚ä»¥ä¸‹ä¸ºå¯ä¾›é€‰æ‹©çš„å…¬å…± CDNï¼Œå…¶ä¸­ä¸€äº› CDN å¯èƒ½éœ€è¦æ•°å¤©æ—¶é—´åŒæ­¥æœ€æ–°ç‰ˆæœ¬ï¼š</p><ul><li><code>https://cdn.staticfile.org/twikoo/1.6.4/twikoo.all.min.js</code></li><li><code>https://lib.baomitu.com/twikoo/1.6.4/twikoo.all.min.js</code></li><li><code>https://cdn.bootcdn.net/ajax/libs/twikoo/1.6.4/twikoo.all.min.js</code></li><li><code>https://cdn.jsdelivr.net/npm/twikoo@1.6.4/dist/twikoo.all.min.js</code></li></ul></blockquote><p>ä¾‹å¦‚<a class=link href=https://github.com/jerryc127/hexo-theme-butterfly target=_blank rel=noopener>Butterflyä¸»é¢˜ </a>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>  custom_format:
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  option:
</span></span><span class=line><span class=cl>    # main_css:
</span></span><span class=line><span class=cl>    # main:
</span></span><span class=line><span class=cl>    # utils:
</span></span><span class=line><span class=cl>    # translate:
</span></span><span class=line><span class=cl>    # local_search:
</span></span><span class=line><span class=cl>    # algolia_js:
</span></span><span class=line><span class=cl>    # algolia_search_v4:
</span></span><span class=line><span class=cl>    # instantsearch_v4:
</span></span><span class=line><span class=cl>    # pjax:
</span></span><span class=line><span class=cl>    # gitalk:
</span></span><span class=line><span class=cl>    # gitalk_css:
</span></span><span class=line><span class=cl>    # blueimp_md5:
</span></span><span class=line><span class=cl>    # valine:
</span></span><span class=line><span class=cl>    # disqusjs:
</span></span><span class=line><span class=cl>    # disqusjs_css:
</span></span><span class=line><span class=cl><span class=gi>+     twikoo: https://cdn.staticfile.org/twikoo/1.6.4/twikoo.all.min.js
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>ä»¥å‰è®°å¾—åªéœ€æ›´æ”¹åç«¯ç‰ˆæœ¬å·å³å¯ï¼Œä¸çŸ¥ä»€ä¹ˆæ—¶å€™å¼€å§‹è¿˜è¦æ›´æ”¹å‰ç«¯CDNæ‰è¡Œã€‚ä¹Ÿè®¸ä¸»é¢˜å‰ç«¯æ²¡æœ‰æ›´æ–°åˆ°æœ€æ–°çš„ç‰ˆæœ¬å·ã€‚è¿™æ—¶åªæœ‰è‡ªå®šä¹‰CDNäº†ï¼Œè¿˜å¥½</p><p><code>butterfly</code>ä¸»é¢˜å¾ˆå®¹æ˜“å°±èƒ½è‡ªå®šä¹‰CDN</p></blockquote><h2 id=æ›´æ¢è¡¨æƒ…cdn>æ›´æ¢è¡¨æƒ…CDN</h2><p>ä»“åº“åœ°å€ï¼š<a class=link href=https://github.com/zhheo target=_blank rel=noopener>zhheo</a>/<a class=link href=https://github.com/zhheo/Sticker-Heo target=_blank rel=noopener>Sticker-Heo</a></p><p>ä½¿ç”¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>https:</span><span class=c1>//cdn.jsdelivr.net/npm/sticker-heo@2022.7.5/twikoo.json
</span></span></span><span class=line><span class=cl><span class=err>https:</span><span class=c1>//cdn1.tianli0.top/npm/sticker-heo@2022.7.5/twikoo.json
</span></span></span></code></pre></td></tr></table></div></div><h2 id=twikoo-å¯¼å‡ºè¯„è®ºæ•°æ®>Twikoo å¯¼å‡ºè¯„è®ºæ•°æ®</h2><blockquote><p>Twikooå‰ç«¯åå°åªæœ‰å¯¼å…¥æ•°æ®åŠŸèƒ½ï¼Œæ²¡æœ‰å¯¼å‡ºï¼Œè¦æƒ³å¯¼å‡ºæ•°æ®ï¼Œçœ‹ä¸‹é¢ã€‚</p></blockquote><h3 id=å¯¼å‡º-twikoo-åœ¨-vercel-çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨ Vercel çš„æ•°æ®</h3><p>1.ä¸‹è½½å¹¶å®‰è£… MongoDB æ•°æ®åº“å·¥å…·ï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.mongodb.com/try/download/database-toolsï¼›</p><p>`</p><p>ç„¶åæ·»åŠ ç¯å¢ƒå˜é‡ï¼š<code>D:\Program Files\mongodb-database-tools-windows-x86_64-100.5.4\bin</code>åˆ°<code>Path</code></p><p>2.ç™»å½• <a class=link href=https://vercel.com/ target=_blank rel=noopener>Vercel ç®¡ç†åå°</a>ï¼Œç‚¹å¼€ Twikoo çš„ç¯å¢ƒï¼Œç‚¹å‡»ä¸Šæ–¹çš„ Settingsï¼Œç‚¹å‡»å·¦ä¾§çš„ Environment Variablesï¼Œåœ¨é¡µé¢ä¸‹æ–¹æ‰¾åˆ° MONGODB_URIï¼Œç‚¹å‡»å¯¹åº”çš„å°çœ¼ç›å›¾æ ‡ï¼Œä¼šå‡ºç°æ•°æ®åº“è¿æ¥åœ°å€ï¼Œç‚¹å‡»ä»¥å¤åˆ¶è¿™ä¸²åœ°å€ï¼›</p><p>3.å¦‚æœåœ°å€ä¸­åŒ…å«å‚æ•°ï¼Œè¯·å…ˆåˆ å»å‚æ•°ï¼Œå‚æ•°å³ â€œ?â€ å’Œ â€œ?â€ åé¢çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚ <code>?journal=true&amp;w=majority</code>ï¼›</p><p>4.æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œç²˜è´´ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>mongoexport</span> <span class=o>--</span><span class=n>uri</span> <span class=err>è¿™é‡Œæ¢æˆåˆšæ‰å¤åˆ¶çš„åœ°å€</span> <span class=o>--</span><span class=n>collection</span> <span class=n>comment</span> <span class=o>--</span><span class=n>type</span> <span class=n>json</span> <span class=o>--</span><span class=n>out</span> <span class=n>twikoo</span><span class=o>-</span><span class=n>comments</span><span class=o>.</span><span class=n>json</span>
</span></span></code></pre></td></tr></table></div></div><p>5.å¦‚æœæˆåŠŸï¼Œä½ å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹æ‰¾åˆ°å¯¼å‡ºçš„ twikoo-comments.json æ–‡ä»¶ã€‚</p><h3 id=å¯¼å‡º-twikoo-åœ¨è…¾è®¯äº‘çš„æ•°æ®>å¯¼å‡º Twikoo åœ¨è…¾è®¯äº‘çš„æ•°æ®</h3><p>1.ç™»å½• <a class=link href=https://console.cloud.tencent.com/tcb target=_blank rel=noopener>è…¾è®¯äº‘</a>ï¼›</p><p>2.æ‰“å¼€äº‘å¼€å‘ CloudBaseï¼›</p><p>3.é€‰æ‹©è¦å¯¼å‡ºçš„ç¯å¢ƒï¼›</p><p>4.ç‚¹å‡»å·¦ä¾§çš„æ•°æ®åº“ï¼Œç‚¹å‡» comment é›†åˆï¼Œç‚¹å‡»å¯¼å‡ºæŒ‰é’®ï¼›</p><p>5.å¯¼å‡ºæ ¼å¼é€‰æ‹© JSONï¼ˆæ¨èï¼Œå¦‚æœæƒ³ç”¨ Excel ç­‰è½¯ä»¶æŸ¥çœ‹ï¼Œå¯ä»¥é€‰æ‹© CSVï¼‰ï¼Œå­—æ®µä¸å¡«ï¼›</p><p>6.ç‚¹å‡»å¯¼å‡ºæŒ‰é’®ï¼Œå¯¼å‡ºçš„æ•°æ®ä¼šé€šè¿‡æµè§ˆå™¨è‡ªåŠ¨ä¸‹è½½ã€‚</p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://guole.fun/posts/626/ target=_blank rel=noopener>æ­å»ºå¾®ä¿¡é€šçŸ¥ API å®ç° Twikoo æ–°æ¶ˆæ¯æé†’</a></li><li><a class=link href=https://www.cnblogs.com/yyyzyyyz/p/15542401.html#%E5%88%A9%E7%94%A8%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%AE%9E%E7%8E%B0twikoo%E6%96%B0%E6%B6%88%E6%81%AF%E6%8F%90%E9%86%92 target=_blank rel=noopener>åˆ©ç”¨ä¼ä¸šå¾®ä¿¡å®ç°twikooæ–°æ¶ˆæ¯æé†’(python.pyé”™è¯¯)</a></li><li><a class=link href=https://lucheng.xyz/2022/01/09/wechat-message-vercel/ target=_blank rel=noopener>å¾®ä¿¡é€šçŸ¥Twikooæ–°æ¶ˆæ¯æé†’ï¼ˆVercelç‰ˆæœ¬ï¼‰ï¼ˆpython.pyæ­£ç¡®)</a></li><li><a class=link href=https://pushoo.js.org/ target=_blank rel=noopener>twikooå³æ—¶æ¶ˆæ¯æ¨é€</a></li><li><a class=link href=https://www.codeleading.com/article/43653014515/ target=_blank rel=noopener>pipå®‰è£…virtualenvæŠ¥é”™ï¼šERROR: Exception: Traceback (most recent call last)&mdash;æœ‰æ•ˆè§£å†³æ–¹æ³•</a></li><li><a class=link href=https://blog.csdn.net/weixin_45252106/article/details/121973562 target=_blank rel=noopener>pipenv install åŒ…å æŠ¥é”™é—®é¢˜è§£å†³</a></li><li><a class=link href=https://www.imaegoo.com/2022/twikoo-data-export/ target=_blank rel=noopener>Twikoo è¯„è®ºæ•°æ®å¯¼å‡ºæ•™ç¨‹</a></li></ul></section><footer class=article-footer><style>.article-edit-container a{-webkit-tap-highlight-color:transparent!important;outline:none!important}.article-edit-container a:hover{text-decoration:underline!important}.article-edit-container{border-top:1px dashed var(--body-background);padding-top:15px;margin-top:20px;width:100%;display:flex;align-items:center;gap:10px;flex-wrap:wrap}</style><section class=article-tags><a href=/tags/hexo/>Hexo</a></section><section class=article-edit-container><a style=color:#1e90ff;font-size:14px;text-decoration:none;display:flex;align-items:center;gap:8px href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/%e5%88%a9%e7%94%a8%e4%bc%81%e4%b8%9a%e5%be%ae%e4%bf%a1%e5%ae%9e%e7%8e%b0twikoo%e6%96%b0%e6%b6%88%e6%81%af%e6%8f%90%e9%86%92/index.md target=_blank rel="noopener noreferrer" title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:-2px"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span style=font-size:14px;color:#1e90ff>|</span><a href=https://github.com/iwyang/iwyang.github.io/commit/84e6bb501103ad84c414f9f438bf4cb7c38b876b target=_blank rel="noopener noreferrer" title="Commit Hash: #84e6bb5" style=color:#1e90ff;font-weight:400;text-decoration:none;font-size:14px>
#84e6bb5</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/archives/d5e37958/><div class=article-details><h2 class=article-title>Memoséƒ¨ç½²è®°å½•</h2></div></a></article><article><a href=/archives/5b629e16/><div class=article-details><h2 class=article-title>hexo butterflyä¸»é¢˜é…ç½®ä¸ä½¿ç”¨</h2></div></a></article><article><a href=/archives/c7ccd27d/><div class=article-details><h2 class=article-title>GitHub Actionsåˆ©ç”¨FTP&&amp;rsyncè‡ªåŠ¨éƒ¨ç½²hugo-hexoåˆ°Centos 8</h2></div></a></article><article><a href=/archives/d6da8e6c/><div class=article-details><h2 class=article-title>hexoç‰ˆæœ¬å‡çº§</h2></div></a></article><article><a href=/archives/db6e761/><div class=article-details><h2 class=article-title>hexoåˆ©ç”¨Github Actionsè‡ªåŠ¨æ„å»ºåšå®¢</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send,.twikoo .tk-comments-no,.twikoo .el-input__count,.twikoo .tk-submit-action-icon{color:var(--twikoo-body-text-color-main)!important}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://t.bore.vip",el:"#tcomment"})</script><footer class=site-footer><style>.site-footer .running-time,.site-footer .powerby{font-size:14px!important;line-height:1.6!important;margin:10px 0!important;display:block!important;font-weight:400!important}.site-footer .running-time,.site-footer .running-time *,[data-scheme=dark] .site-footer .running-time,[data-scheme=dark] .site-footer .running-time *{color:#1e90ff!important}.site-footer .powerby,.site-footer .powerby *{color:var(--sys-color-text-muted)!important}[data-scheme=dark] .site-footer .powerby,[data-scheme=dark] .site-footer .powerby *{color:rgba(255,255,255,.7)!important}.footer-separator{margin:0 6px!important;font-size:14px!important}.site-footer .running-time .footer-separator{color:#1e90ff!important;opacity:1!important}.site-footer .powerby .footer-separator{color:inherit!important}.site-footer a{text-decoration:none!important;cursor:pointer}.site-footer a:hover{text-decoration:underline!important}.site-footer .powerby a:hover{color:var(--accent-color)!important}</style><section class=copyright>&copy;
2020 -
2026 Bore's Notes</section><section class=running-time>æœ€è¿‘æ›´æ–°ï¼š<span id=site-last-update data-time=2026-02-16T01:02:30Z title="2026-02-16 01:02">--</span><span class=footer-separator>|</span>
<a href=https://github.com/iwyang/iwyang.github.io/commit/bcdcf5b39f00a53065c3332e53960db66ae3adda target=_blank rel=noopener title="Commit Hash: bcdcf5b">#bcdcf5b</a></section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º
<span class=footer-separator>|</span>
ä¸»é¢˜ <a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=4.0.0>Stack</a> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><script>(function(){var e,t,n,o,i,a,r,c,l,d,s=document.getElementById("site-last-update");s&&(n=new Date(s.getAttribute("data-time")),o=new Date,e=(o-n)/1e3,i=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),c=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0"),d=i+"-"+a+"-"+r+" "+c+":"+l,s.setAttribute("title",d),t="",e<60?t="åˆšåˆš":e<3600?t=Math.floor(e/60)+" åˆ†é’Ÿå‰":e<86400?t=Math.floor(e/3600)+" å°æ—¶å‰":e<2592e3?t=Math.floor(e/86400)+" å¤©å‰":e<31536e3?t=Math.floor(e/2592e3)+" ä¸ªæœˆå‰":t=Math.floor(e/31536e3)+" å¹´å‰",s.innerText=t)})()</script><script type=module>
    import gallery from '\/ts\/gallery.js';

    const articleContent = document.querySelector('.article-content');
    const shouldLoad = articleContent && (articleContent.querySelectorAll('figure').length > 0 || articleContent.querySelectorAll('img.gallery-image').length > 0);
    
    if (shouldLoad) {
        gallery(articleContent);

        const PhotoSwipeLightbox = (await import("https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js")).default;
        const styleHref = "https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe.css";

        const styleTag = document.createElement('link');
        styleTag.rel = 'stylesheet';
        styleTag.href = styleHref;
        document.head.appendChild(styleTag);

        const lightbox = new PhotoSwipeLightbox({
            gallerySelector: '.article-content',
            childSelector: 'figure a.image-link',
            pswpModule: () => import("https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js")
        });
        lightbox.init();
    }
</script></main></div><script type=text/javascript src=/ts/main.acaf849f2b273f6a8368a58b001f336738d0c948d92e79b116467d0c7515f932.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>