<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰ å‚è€ƒchatgpt:\nåœ¨ä½ çš„ fork ä»“åº“ä¸­æ–°å»ºï¼š\n1 .github/workflows/sync.yml å†…å®¹å¦‚ä¸‹ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 name: Sync Upstream on: schedule: - cron: '0 0 * * *' # æ¯å¤©è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡ workflow_dispatch: # æ‰‹åŠ¨è§¦å‘æŒ‰é’® watch: types: started jobs: sync: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v3 with: fetch-depth: 0 - name: Add upstream run: | git remote add upstream https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git git fetch upstream - name: Merge upstream run: | git merge upstream/main --allow-unrelated-histories || true - name: Push run: | git push origin main ä½ éœ€è¦ä¿®æ”¹ä¸¤å¤„:\n"><title>åˆ©ç”¨Github Actionsè‡ªåŠ¨åŒæ­¥Fork&&è‡ªåŠ¨åŒæ­¥Releases</title><link rel=canonical href=https://bore.vip/archives/12dd937c/><link rel=stylesheet href=/scss/style.min.5c47c07dab4fbb27f7e4ce71efdf956ea4871b5e79a58b1cfbebdd622704d1b0.css><meta property='og:title' content="åˆ©ç”¨Github Actionsè‡ªåŠ¨åŒæ­¥Fork&&è‡ªåŠ¨åŒæ­¥Releases"><meta property='og:description' content="è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰ å‚è€ƒchatgpt:\nåœ¨ä½ çš„ fork ä»“åº“ä¸­æ–°å»ºï¼š\n1 .github/workflows/sync.yml å†…å®¹å¦‚ä¸‹ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 name: Sync Upstream on: schedule: - cron: '0 0 * * *' # æ¯å¤©è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡ workflow_dispatch: # æ‰‹åŠ¨è§¦å‘æŒ‰é’® watch: types: started jobs: sync: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v3 with: fetch-depth: 0 - name: Add upstream run: | git remote add upstream https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git git fetch upstream - name: Merge upstream run: | git merge upstream/main --allow-unrelated-histories || true - name: Push run: | git push origin main ä½ éœ€è¦ä¿®æ”¹ä¸¤å¤„:\n"><meta property='og:url' content='https://bore.vip/archives/12dd937c/'><meta property='og:site_name' content="Bore's Notes"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='github'><meta property='article:published_time' content='2023-07-13T18:02:15+00:00'><meta property='article:modified_time' content='2026-02-09T22:08:24+08:00'><meta name=twitter:title content="åˆ©ç”¨Github Actionsè‡ªåŠ¨åŒæ­¥Fork&&è‡ªåŠ¨åŒæ­¥Releases"><meta name=twitter:description content="è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰ å‚è€ƒchatgpt:\nåœ¨ä½ çš„ fork ä»“åº“ä¸­æ–°å»ºï¼š\n1 .github/workflows/sync.yml å†…å®¹å¦‚ä¸‹ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 name: Sync Upstream on: schedule: - cron: '0 0 * * *' # æ¯å¤©è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡ workflow_dispatch: # æ‰‹åŠ¨è§¦å‘æŒ‰é’® watch: types: started jobs: sync: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v3 with: fetch-depth: 0 - name: Add upstream run: | git remote add upstream https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git git fetch upstream - name: Merge upstream run: | git merge upstream/main --allow-unrelated-histories || true - name: Push run: | git push origin main ä½ éœ€è¦ä¿®æ”¹ä¸¤å¤„:\n"><link rel="shortcut icon" href=/img/avatar.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar.png width=170 height=170 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Bore's Notes</a></h1><h2 class=site-description>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/link/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>é“¾æ¥</span></a></li><li><a href=/shuoshuo/><svg class="icon icon-tabler icon-tabler-message-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 20l1.3-3.9A9 8 0 117.7 19L3 20"/><line x1="12" y1="12" x2="12" y2="12.01"/><line x1="8" y1="12" x2="8" y2="12.01"/><line x1="16" y1="12" x2="16" y2="12.01"/></svg>
<span>è¯´è¯´</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav class=toc-nav id=TableOfContents><ol><li><a href=#è‡ªåŠ¨åŒæ­¥forkç°åœ¨ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰</a></li><li><a href=#è‡ªåŠ¨åŒæ­¥forkä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥å‰ç”¨çš„ï¼‰</a></li><li><a href=#è‡ªåŠ¨åŒæ­¥forkä»¥ä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥ä»¥å‰ç”¨çš„ï¼‰</a><ol><li><a href=#åˆ›å»ºworkflow>åˆ›å»ºworkflow</a></li><li><a href=#åˆ›å»ºgithubè®¿é—®token>åˆ›å»ºgithubè®¿é—®token</a></li><li><a href=#æ·»åŠ ç¯å¢ƒå˜é‡secret>æ·»åŠ ç¯å¢ƒå˜é‡secret</a></li><li><a href=#è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°giteeæœªæµ‹è¯•>è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°Gitee(æœªæµ‹è¯•)</a></li></ol></li><li><a href=#è‡ªåŠ¨åŒæ­¥releases>è‡ªåŠ¨åŒæ­¥Releases</a></li><li><a href=#å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%8A%80%E6%9C%AF/ style=background-color:#beefd9;color:#0f3d29>æŠ€æœ¯</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/archives/12dd937c/>åˆ©ç”¨Github Actionsè‡ªåŠ¨åŒæ­¥Fork&&è‡ªåŠ¨åŒæ­¥Releases</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2023-07-13T18:02:15Z>2023-07-13</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 8 åˆ†é’Ÿ</time></div></footer></div></header><aside class=article-toc><details><summary><div class=article-toc-title><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-right"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6-6 6"/></svg>
<span>ç›®å½•</span></div></summary><nav class=toc-nav><ol><li><a href=#è‡ªåŠ¨åŒæ­¥forkç°åœ¨ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰</a></li><li><a href=#è‡ªåŠ¨åŒæ­¥forkä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥å‰ç”¨çš„ï¼‰</a></li><li><a href=#è‡ªåŠ¨åŒæ­¥forkä»¥ä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥ä»¥å‰ç”¨çš„ï¼‰</a><ol><li><a href=#åˆ›å»ºworkflow>åˆ›å»ºworkflow</a></li><li><a href=#åˆ›å»ºgithubè®¿é—®token>åˆ›å»ºgithubè®¿é—®token</a></li><li><a href=#æ·»åŠ ç¯å¢ƒå˜é‡secret>æ·»åŠ ç¯å¢ƒå˜é‡secret</a></li><li><a href=#è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°giteeæœªæµ‹è¯•>è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°Gitee(æœªæµ‹è¯•)</a></li></ol></li><li><a href=#è‡ªåŠ¨åŒæ­¥releases>è‡ªåŠ¨åŒæ­¥Releases</a></li><li><a href=#å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ol></nav></details></aside><section class=article-content><h2 id=è‡ªåŠ¨åŒæ­¥forkç°åœ¨ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆç°åœ¨ç”¨çš„ï¼‰</h2><p><strong>å‚è€ƒchatgpt</strong>:</p><p>åœ¨ä½ çš„ fork ä»“åº“ä¸­æ–°å»ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>.github/workflows/sync.yml</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>å†…å®¹å¦‚ä¸‹ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0 0 * * *&#39;</span><span class=w>   </span><span class=c># æ¯å¤©è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>       </span><span class=c># æ‰‹åŠ¨è§¦å‘æŒ‰é’®  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>watch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>types</span><span class=p>:</span><span class=w> </span><span class=l>started</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Add upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git remote add upstream https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git
</span></span></span><span class=line><span class=cl><span class=sd>          git fetch upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Merge upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git merge upstream/main --allow-unrelated-histories || true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Push</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git push origin main</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä½ éœ€è¦ä¿®æ”¹ä¸¤å¤„:</p><p>1.æŠŠï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git
</span></span></code></pre></td></tr></table></div></div><p>æ›¿æ¢æˆä½ è¦åŒæ­¥çš„ä¸Šæ¸¸ä»“åº“åœ°å€ã€‚</p><p>2.å¦‚æœä¸Šæ¸¸ä¸»åˆ†æ”¯ä¸æ˜¯ <code>main</code>ï¼ˆä¾‹å¦‚æ˜¯ <code>master</code>ï¼‰ï¼Œä½ è¦æ”¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>upstream/main
</span></span></code></pre></td></tr></table></div></div><p>ä¸ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>upstream/master
</span></span></code></pre></td></tr></table></div></div><p>æœ€ç»ˆä¸ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Upstream (master)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0 0 * * *&#39;</span><span class=w>     </span><span class=c># æ¯å¤©è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>         </span><span class=c># æ‰‹åŠ¨è§¦å‘æŒ‰é’®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Add upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git remote add upstream https://github.com/ä¸Šæ¸¸ç”¨æˆ·å/ä¸Šæ¸¸ä»“åº“.git
</span></span></span><span class=line><span class=cl><span class=sd>          git fetch upstream</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Merge upstream master into fork</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git merge upstream/master --allow-unrelated-histories || true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Push changes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git push origin master</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>å®Œæˆåï¼š</p><ul><li>æ¯å¤©å‡Œæ™¨è‡ªåŠ¨åŒæ­¥ä¸Šæ¸¸æ›´æ–°</li><li>ä½ ä¹Ÿå¯ä»¥åœ¨ Actions é¡µé¢æ‰‹åŠ¨ç‚¹å‡»â€œRun workflowâ€</li><li>ä¸éœ€è¦æ‰‹åŠ¨å¤„ç†å†²çªï¼ˆè„šæœ¬é‡Œ <code>|| true</code> è‡ªåŠ¨è·³è¿‡é”™è¯¯ï¼‰</li></ul><h2 id=è‡ªåŠ¨åŒæ­¥forkä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥å‰ç”¨çš„ï¼‰</h2><p>åˆ›å»ºæ–°çš„workflowï¼Œåœ¨ä»“åº“å³ä¸Šè§’ç‚¹<code>Add file</code>ï¼Œå…ˆè¾“å…¥<code>workflows</code>æ–‡ä»¶å¤¹åï¼Œå†ç‚¹å‡»ç©ºç™½ä½ç½®ï¼Œè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ç›®å½•ï¼Œç„¶åè¾“å…¥æ–‡ä»¶å<code>sync.yml</code>ã€‚æ¥ç€</p><p>åœ¨<code>sync.yml</code>è¾“å…¥é‡Œé¢çš„å†…å®¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upstream Sync</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>permissions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class=l>write</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0 0 * * *&#34;</span><span class=w> </span><span class=c># every day</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync_latest_from_upstream</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync latest commits from upstream repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.repository.fork }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 1: run a standard checkout action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout target repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 2: run the sync action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync upstream changes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>sync</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>aormsby/Fork-Sync-With-Upstream-action@v3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>upstream_sync_repo</span><span class=p>:</span><span class=w> </span><span class=l>ChatGPTNextWeb/ChatGPT-Next-Web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>upstream_sync_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>target_sync_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>target_repo_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w> </span><span class=c># automatically generated, no need to set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># Set test_mode true to run tests instead of the true action!!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>test_mode</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>failure()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;[Error] ç”±äºä¸Šæ¸¸ä»“åº“çš„ workflow æ–‡ä»¶å˜æ›´ï¼Œå¯¼è‡´ GitHub è‡ªåŠ¨æš‚åœäº†æœ¬æ¬¡è‡ªåŠ¨æ›´æ–°ï¼Œä½ éœ€è¦æ‰‹åŠ¨ Sync Fork ä¸€æ¬¡ï¼Œè¯¦ç»†æ•™ç¨‹è¯·æŸ¥çœ‹ï¼šhttps://github.com/Yidadaa/ChatGPT-Next-Web/blob/main/README_CN.md#%E6%89%93%E5%BC%80%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;[Error] Due to a change in the workflow file of the upstream repository, GitHub has automatically suspended the scheduled automatic update. You need to manually sync your fork. Please refer to the detailed tutorial for instructions: https://github.com/Yidadaa/ChatGPT-Next-Web#enable-automatic-updates&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          exit 1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=è‡ªåŠ¨åŒæ­¥forkä»¥ä»¥å‰ç”¨çš„>è‡ªåŠ¨åŒæ­¥Forkï¼ˆä»¥ä»¥å‰ç”¨çš„ï¼‰</h2><p>è™½ç„¶Githubè‡ªå¸¦ä¸€ä¸ªSync Forkçš„æŒ‰é’®ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è‡ªå·±ç‚¹æ€»æ˜¯éº»çƒ¦çš„ï¼Œæ‰€ä»¥æœ‰äººæäº†ä¸ªGithub Actionæ¥åšè¿™ä»¶äº‹ï¼Œhttps://github.com/tgymnich/fork-sync</p><h3 id=åˆ›å»ºworkflow>åˆ›å»ºworkflow</h3><p>åˆ›å»ºæ–°çš„workflowï¼Œåœ¨ä»“åº“å³ä¸Šè§’ç‚¹<code>Add file</code>ï¼Œå…ˆè¾“å…¥<code>workflows</code>æ–‡ä»¶å¤¹åï¼Œå†ç‚¹å‡»ç©ºç™½ä½ç½®ï¼Œè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ç›®å½•ï¼Œç„¶åè¾“å…¥æ–‡ä»¶å<code>sync.yml</code>ã€‚æ¥ç€</p><p>åœ¨<code>sync.yml</code>è¾“å…¥é‡Œé¢çš„å†…å®¹ï¼š</p><p><strong>å®˜æ–¹ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Fork</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*/30 * * * *&#39;</span><span class=w> </span><span class=c># every 30 minutes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w> </span><span class=c># on button click</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>tgymnich/fork-sync@v2.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PERSONAL_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=l>llvm</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>base</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>head</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>æ³¨é‡Šï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Fork</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class=c># push æ—¶è§¦å‘, ä¸»è¦æ˜¯ä¸ºäº†æµ‹è¯•é…ç½®æœ‰æ²¡æœ‰é—®é¢˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;* */24 * * *&#39;</span><span class=w> </span><span class=c># æ¯å¤©ä¸€æ¬¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repo-sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>tgymnich/fork-sync@v2.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.TOKEN }}</span><span class=w> </span><span class=c>#Github Tokenï¼Œè®°å¾—åŠ å…¥secrets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=l>ngosang</span><span class=w> </span><span class=c># fork çš„ä¸Šæ¸¸ä»“åº“ user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>head</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w> </span><span class=c># fork çš„ä¸Šæ¸¸ä»“åº“ branch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>base</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w> </span><span class=c># æœ¬åœ°ä»“åº“ branch</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>æœ€ç»ˆ</strong><code>sync.yml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Fork</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;* */24 * * *&#39;</span><span class=w> </span><span class=c># æ¯å¤©ä¸€æ¬¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w> </span><span class=c># on button click</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>tgymnich/fork-sync@v2.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PERSONAL_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=l>mack-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>base</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>head</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>* */24 * * *</code>æ”¹æˆ<code>* */48 * * *</code>æ¯ä¸¤å¤©è¿è¡Œä¸€æ¬¡</p><blockquote><p>PSï¼šChatGPTæœ‰æ—¶ç»™å‡ºçš„ç­”æ¡ˆå¯èƒ½æ˜¯é”™è¯¯çš„ï¼Œéœ€è¦éªŒè¯ï¼š<a class=link href=https://crontab.guru/ target=_blank rel=noopener>crontab guru</a></p></blockquote><h3 id=åˆ›å»ºgithubè®¿é—®token>åˆ›å»ºgithubè®¿é—®token</h3><p>å‚è€ƒï¼š<a class=link href=https://docs.github.com/zh/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens target=_blank rel=noopener>ç®¡ç†ä¸ªäººè®¿é—®ä»¤ç‰Œ</a></p><p>1.åœ¨ä»»ä½•é¡µé¢çš„å³ä¸Šè§’ï¼Œå•å‡»ä¸ªäººèµ„æ–™ç…§ç‰‡ï¼Œç„¶åå•å‡»â€œè®¾ç½®â€ã€‚</p><p>2.åœ¨å·¦ä¾§è¾¹æ ä¸­ï¼Œå•å‡»â€œ å¼€å‘äººå‘˜è®¾ç½®â€ã€‚
3.è¯·åœ¨å·¦ä¾§è¾¹æ çš„â€œ Personal access tokenâ€ä¸‹ï¼Œå•å‡»â€œç»†ç²’åº¦ä»¤ç‰Œâ€ ã€‚
4.å•å‡»â€œç”Ÿæˆæ–°ä»¤ç‰Œâ€ã€‚
5.åœ¨â€œä»¤ç‰Œåç§°â€ä¸‹ï¼Œè¾“å…¥ä»¤ç‰Œçš„åç§°ã€‚
6.åœ¨â€œè¿‡æœŸæ—¶é—´â€ä¸‹ï¼Œé€‰æ‹©ä»¤ç‰Œçš„è¿‡æœŸæ—¶é—´ï¼ˆæ°¸ä¸è¿‡æœŸï¼‰ã€‚</p><p>7.ç„¶åæƒé™è¦å¼€å¯<strong>repo</strong>å’Œ<strong>workflow</strong>çš„æƒé™</p><p><img src=/archives/12dd937c/github.png width=843 height=337 loading=lazy class=gallery-image data-flex-grow=250 data-flex-basis=600px></p><p>8.åˆ›å»ºå®Œæˆåå¤åˆ¶tokenå†…å®¹</p><h3 id=æ·»åŠ ç¯å¢ƒå˜é‡secret>æ·»åŠ ç¯å¢ƒå˜é‡secret</h3><p>åœ¨<code>settings/secrets(Secrets and variables)/actions</code>é‡ŒæŠŠGithubçš„Tokenè®¾ç½®ä¸Šï¼Œæ¯”å¦‚workflowå†™çš„æ˜¯secrets.PERSONAL_TOKENï¼Œæ‰€ä»¥æ·»åŠ çš„æ—¶å€™Nameå¡«å†™PERSONAL_TOKENï¼ŒSecreté‡Œå¡«å†™ä¸Šä¸€æ­¥åˆ›å»ºTokenå†…å®¹ã€‚</p><p>å¦‚æœéƒ¨ç½²å®Œæˆä¹‹åï¼Œè¿è¡Œæ˜¾ç¤ºé”™è¯¯æ˜¯ï¼š</p><blockquote><p>repo-sync
Failed to create or merge pull request: HttpError: Validation Failed: {â€œresourceâ€:â€PullRequestâ€,â€codeâ€:â€customâ€,â€messageâ€:â€No commits between knight000:master and ngosang:masterâ€}</p></blockquote><p>å°±è¯æ˜åˆæ­¥æˆåŠŸäº†ï¼Œå› ä¸ºä½ éƒ¨ç½²äº†workflowæ‰€ä»¥æ¯”åŸä»“åº“æ–°ï¼Œç­‰åŸä»“åº“æ›´æ–°åç‚¹<code>Re-run jobs</code>å°±å¯ä»¥æµ‹è¯•æ˜¯å¦æ­£ç¡®éƒ¨ç½²äº†ã€‚</p><h3 id=è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°giteeæœªæµ‹è¯•>è‡ªåŠ¨æäº¤ä¿®æ”¹åˆ°Gitee(æœªæµ‹è¯•)</h3><p>ä»¥ä¸‹actionæ–‡ä»¶æ¥è‡ªhttps://juejin.cn/post/6894928345830522887</p><p>æŠŠGITEE_PRIVATE_KEYã€<a class=link href=https://gitee.com/profile/personal_access_tokens target=_blank rel=noopener>GITEE_TOKEN</a>ã€GITEE_USERéƒ½æ·»åŠ åˆ°secretsé‡Œï¼Œç„¶åGiteeå†…<a class=link href=https://gitee.com/projects/import/url target=_blank rel=noopener>ä»URLå¯¼å…¥ä»“åº“</a>ï¼Œåˆ›å»ºåŒåä»“åº“å³å¯åŒæ­¥ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># é€šè¿‡ Github actionsï¼Œ åœ¨ Github ä»“åº“çš„æ¯ä¸€æ¬¡ commit åè‡ªåŠ¨åŒæ­¥åˆ° Gitee ä¸Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>sync2gitee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repo-sync</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>dst_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_PRIVATE_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>dst_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>gitee_user</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_USER }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>persist-credentials</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>sync github -&gt; gitee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>Yikun/hub-mirror-action@master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>env.dst_key &amp;&amp; env.dst_token &amp;&amp; env.gitee_user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¿…é€‰ï¼Œéœ€è¦åŒæ­¥çš„ Github ç”¨æˆ·ï¼ˆæºï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;github/${{ github.repository_owner }}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¿…é€‰ï¼Œéœ€è¦åŒæ­¥åˆ°çš„ Gitee ç”¨æˆ·ï¼ˆç›®çš„ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dst</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;gitee/${{ secrets.GITEE_USER }}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¿…é€‰ï¼ŒGiteeå…¬é’¥å¯¹åº”çš„ç§é’¥ï¼Œhttps://gitee.com/profile/sshkeys</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dst_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_PRIVATE_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¿…é€‰ï¼ŒGiteeå¯¹åº”çš„ç”¨äºåˆ›å»ºä»“åº“çš„tokenï¼Œhttps://gitee.com/profile/personal_access_tokens</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dst_token</span><span class=p>:</span><span class=w>  </span><span class=l>${{ secrets.GITEE_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¦‚æœæ˜¯ç»„ç»‡ï¼ŒæŒ‡å®šç»„ç»‡å³å¯ï¼Œé»˜è®¤ä¸ºç”¨æˆ· user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># account_type: org</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ç›´æ¥å–å½“å‰é¡¹ç›®çš„ä»“åº“å</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>static_list</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.repository.name }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>å› ä¸ºæœ‰<code>if: env.dst_key && env.dst_token && env.gitee_user</code>è¿™ä¸€å¥æ‰€ä»¥ä¿¡æ¯ä¸è¶³çš„æƒ…å†µä¸‹æ˜¯ä¼šè·³è¿‡æ‰§è¡Œï¼Œæ˜¾ç¤ºæ‰§è¡ŒæˆåŠŸè€Œä¸æ˜¯æ˜¾ç¤ºé”™è¯¯ï¼Œè¯·æ³¨æ„ã€‚</p><h2 id=è‡ªåŠ¨åŒæ­¥releases>è‡ªåŠ¨åŒæ­¥Releases</h2><p>1.åˆ›å»ºæ–°çš„workflowï¼Œåœ¨ä»“åº“å³ä¸Šè§’ç‚¹<code>Add file</code>ï¼Œå…ˆè¾“å…¥<code>workflows</code>æ–‡ä»¶å¤¹åï¼Œå†ç‚¹å‡»ç©ºç™½ä½ç½®ï¼Œè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ç›®å½•ï¼Œç„¶åè¾“å…¥æ–‡ä»¶å<code>Sync Upstream Releases.yaml</code>ã€‚æ¥ç€</p><p>åœ¨<code>Sync Upstream Releases.yaml</code>è¾“å…¥é‡Œé¢çš„å†…å®¹ï¼š<strong>(æ³¨æ„ä¿®æ”¹<code>UPSTREAM_OWNER</code>å’Œ<code>UPSTREAM_REPO</code>,ä¸Šæ¸¸ä»“åº“æ‹¥æœ‰è€…å’Œä»“åº“åç§°)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># åŒæ­¥ä¸Šæ¸¸ä»“åº“å…¨éƒ¨ releaseï¼ˆåŒ…æ‹¬æœ€æ–°ç‰ˆï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># è¯´æ˜ï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># - ä¼šåˆ†é¡µè·å–ä¸Šæ¸¸ä»“åº“çš„æ‰€æœ‰ releasesï¼ˆper_page=100ï¼‰ï¼Œé€ä¸ªæ£€æŸ¥æœ¬ä»“åº“æ˜¯å¦å·²æœ‰ç›¸åŒ tagã€‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># - è‹¥æœ¬ä»“åº“ä¸å­˜åœ¨è¯¥ tag çš„ releaseï¼Œåˆ™ä¼šï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#     1) ä¸‹è½½ä¸Šæ¸¸ release çš„æ‰€æœ‰ assetsï¼ˆæ”¾åˆ° upstream-assets/&lt;tag&gt;/ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#     2) é€šè¿‡ GitHub Releases API åœ¨å½“å‰ä»“åº“åˆ›å»ºåŒå releaseï¼ˆä¿ç•™ nameã€bodyã€draftã€prereleaseï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#     3) ä¸Šä¼ å¯¹åº”çš„ assets åˆ°æ–°åˆ›å»ºçš„ release</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># - å®šæ—¶ä¸æ‰‹åŠ¨è§¦å‘å‡æ”¯æŒã€‚è¯·ç¡®ä¿æœ¬ä»“åº“çš„ secrets.GITHUB_TOKEN æœ‰æƒé™åˆ›å»º release ä¸ä¸Šä¼ èµ„äº§ã€‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync Upstream Releases</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0 0 * * *&#34;</span><span class=w> </span><span class=c># every day</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=l>sync-upstream-releases</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cancel-in-progress</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sync-releases</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>UPSTREAM_OWNER</span><span class=p>:</span><span class=w> </span><span class=l>Decohererk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>UPSTREAM_REPO</span><span class=p>:</span><span class=w> </span><span class=l>DecoTV</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PER_PAGE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;100&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout repo (needed for GitHub context)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          sudo apt-get update -y
</span></span></span><span class=line><span class=cl><span class=sd>          sudo apt-get install -y jq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync all upstream releases to this repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GH_TOKEN</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GITHUB_REPOSITORY</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.repository }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          set -euo pipefail
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          UPSTREAM=&#34;${UPSTREAM_OWNER}/${UPSTREAM_REPO}&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;Syncing releases from $UPSTREAM into ${GITHUB_REPOSITORY}&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          mkdir -p upstream-assets
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          page=1
</span></span></span><span class=line><span class=cl><span class=sd>          while true; do
</span></span></span><span class=line><span class=cl><span class=sd>            echo &#34;Fetching releases page $page&#34;
</span></span></span><span class=line><span class=cl><span class=sd>            releases=$(curl -s -H &#34;Authorization: token $GH_TOKEN&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>              &#34;https://api.github.com/repos/${UPSTREAM_OWNER}/${UPSTREAM_REPO}/releases?per_page=${PER_PAGE}&amp;page=${page}&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            # å¦‚æœæœ¬é¡µæ²¡æœ‰æ¡ç›®åˆ™ç»“æŸ
</span></span></span><span class=line><span class=cl><span class=sd>            count=$(echo &#34;$releases&#34; | jq &#39;length&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>            if [ &#34;$count&#34; -eq 0 ]; then
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;No more releases (page $page empty).&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              break
</span></span></span><span class=line><span class=cl><span class=sd>            fi
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            echo &#34;Processing $count releases from page $page&#34;
</span></span></span><span class=line><span class=cl><span class=sd>            echo &#34;$releases&#34; | jq -c &#39;.[]&#39; | while read -r rel; do
</span></span></span><span class=line><span class=cl><span class=sd>              tag_name=$(echo &#34;$rel&#34; | jq -r &#39;.tag_name&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>              # é˜²æ­¢ç©º tag
</span></span></span><span class=line><span class=cl><span class=sd>              if [ -z &#34;$tag_name&#34; ] || [ &#34;$tag_name&#34; = &#34;null&#34; ]; then
</span></span></span><span class=line><span class=cl><span class=sd>                echo &#34;Skipping release with empty tag&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                continue
</span></span></span><span class=line><span class=cl><span class=sd>              fi
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              release_name=$(echo &#34;$rel&#34; | jq -r &#39;.name // &#34;&#34;&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>              release_body=$(echo &#34;$rel&#34; | jq -r &#39;.body // &#34;&#34;&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>              draft=$(echo &#34;$rel&#34; | jq -r &#39;.draft&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>              prerelease=$(echo &#34;$rel&#34; | jq -r &#39;.prerelease&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;Checking tag $tag_name...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              status_code=$(curl -s -o /dev/null -w &#34;%{http_code}&#34; -H &#34;Authorization: token $GH_TOKEN&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                &#34;https://api.github.com/repos/${GITHUB_REPOSITORY}/releases/tags/${tag_name}&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              if [ &#34;$status_code&#34; -eq 200 ]; then
</span></span></span><span class=line><span class=cl><span class=sd>                echo &#34;Release with tag $tag_name already exists in ${GITHUB_REPOSITORY}, skipping.&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                continue
</span></span></span><span class=line><span class=cl><span class=sd>              fi
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;Downloading assets for $tag_name (if any)...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              safe_dir=&#34;upstream-assets/$(echo &#34;$tag_name&#34; | sed &#39;s/[^A-Za-z0-9._-]/_/g&#39;)&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              mkdir -p &#34;$safe_dir&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;$rel&#34; | jq -r &#39;.assets[]?.browser_download_url&#39; | while read -r asset_url; do
</span></span></span><span class=line><span class=cl><span class=sd>                if [ -z &#34;$asset_url&#34; ] || [ &#34;$asset_url&#34; = &#34;null&#34; ]; then
</span></span></span><span class=line><span class=cl><span class=sd>                  continue
</span></span></span><span class=line><span class=cl><span class=sd>                fi
</span></span></span><span class=line><span class=cl><span class=sd>                fname=$(basename &#34;$asset_url&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>                echo &#34;  - Downloading $fname&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                # ä½¿ç”¨ -L è·Ÿéšé‡å®šå‘
</span></span></span><span class=line><span class=cl><span class=sd>                curl -sL -H &#34;Authorization: token $GH_TOKEN&#34; &#34;$asset_url&#34; -o &#34;${safe_dir}/${fname}&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              done
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;Creating release $tag_name in ${GITHUB_REPOSITORY}...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              # æ„é€  payloadï¼ˆä¿ç•™ draft &amp; prereleaseï¼‰
</span></span></span><span class=line><span class=cl><span class=sd>              payload=$(jq -nc --arg tag &#34;$tag_name&#34; --arg name &#34;$release_name&#34; --arg body &#34;$release_body&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                --argjson draft &#34;$draft&#34; --argjson prerelease &#34;$prerelease&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                &#39;{ tag_name: $tag, name: $name, body: $body, draft: $draft, prerelease: $prerelease }&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              create_resp=$(curl -s -H &#34;Authorization: token $GH_TOKEN&#34; -H &#34;Accept: application/vnd.github.v3+json&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                -d &#34;$payload&#34; &#34;https://api.github.com/repos/${GITHUB_REPOSITORY}/releases&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              upload_url=$(echo &#34;$create_resp&#34; | jq -r &#39;.upload_url // empty&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>              message=$(echo &#34;$create_resp&#34; | jq -r &#39;.message // empty&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              if [ -z &#34;$upload_url&#34; ]; then
</span></span></span><span class=line><span class=cl><span class=sd>                echo &#34;Failed to create release for $tag_name: $message&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                # ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ª releaseï¼Œè€Œä¸æ˜¯é€€å‡ºæ•´ä¸ªæµç¨‹
</span></span></span><span class=line><span class=cl><span class=sd>                continue
</span></span></span><span class=line><span class=cl><span class=sd>              fi
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;Upload URL obtained. Uploading assets for $tag_name...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              if compgen -G &#34;${safe_dir}/*&#34; &gt; /dev/null; then
</span></span></span><span class=line><span class=cl><span class=sd>                for f in &#34;${safe_dir}&#34;/*; do
</span></span></span><span class=line><span class=cl><span class=sd>                  [ -f &#34;$f&#34; ] || continue
</span></span></span><span class=line><span class=cl><span class=sd>                  fname=$(basename &#34;$f&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>                  echo &#34;  - Uploading $fname ...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                  # upload_url åŒ…å« &#34;{?name,label}&#34;ï¼Œå»æ‰æ‹¬å·éƒ¨åˆ†å¹¶é™„åŠ  ?name=...
</span></span></span><span class=line><span class=cl><span class=sd>                  upload_endpoint=&#34;${upload_url%\{*}?name=${fname}&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                  curl -s --fail -X POST -H &#34;Authorization: token $GH_TOKEN&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                    -H &#34;Content-Type: application/octet-stream&#34; --data-binary @&#34;$f&#34; &#34;$upload_endpoint&#34; \
</span></span></span><span class=line><span class=cl><span class=sd>                    || echo &#34;    Warning: failed to upload asset $fname for $tag_name&#34;
</span></span></span><span class=line><span class=cl><span class=sd>                done
</span></span></span><span class=line><span class=cl><span class=sd>              else
</span></span></span><span class=line><span class=cl><span class=sd>                echo &#34;  - No assets to upload for $tag_name.&#34;
</span></span></span><span class=line><span class=cl><span class=sd>              fi
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              echo &#34;Release $tag_name created successfully (if no errors above).&#34;
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            done
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            page=$((page + 1))
</span></span></span><span class=line><span class=cl><span class=sd>          done
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;All pages processed.&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>2.æ‰‹åŠ¨è¿è¡Œ<code>Action</code>é‡Œé¢çš„<code>Sync Upstream Releases</code></p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://knight.abn-team.top/2023/03/29/GithunActionAutoSync2Gitee/ target=_blank rel=noopener>GithunActionAutoSync2Gitee</a></li><li><a class=link href=https://zhuanlan.zhihu.com/p/500768626 target=_blank rel=noopener>åˆ©ç”¨Github Actionsè‡ªåŠ¨åŒæ­¥Fork</a></li><li><a class=link href=https://github.com/tgymnich/fork-sync target=_blank rel=noopener>fork-sync</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/github/>Github</a></section><section class=article-edit><svg class="icon icon-tabler icon-tabler-external-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 7H6A2 2 0 004 9v9a2 2 0 002 2h9a2 2 0 002-2v-5"/><line x1="10" y1="14" x2="20" y2="4"/><polyline points="15 4 20 4 20 9"/></svg>
<span><a style=color:inherit href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/%e5%88%a9%e7%94%a8Github-Actions%e8%87%aa%e5%8a%a8%e5%90%8c%e6%ad%a5Fork/index.md target=_blank rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a></span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span style=color:#999>æ›´æ–°äº 2026-02-09 22:08<a href=https://github.com/iwyang/iwyang.github.io/commit/84e6bb501103ad84c414f9f438bf4cb7c38b876b target=_blank rel="noopener noreferrer" style=color:#1e90ff;font-weight:400;margin-left:5px;text-decoration:none>
#84e6bb50</a></span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/archives/2284a148/><div class=article-details><h2 class=article-title>è§£å†³Github Port 443ä»¥åŠPort 22é—®é¢˜&&åˆå¹¶å†²çªé—®é¢˜&&amp;codespaces</h2></div></a></article><article><a href=/archives/4e8cacb0/><div class=article-details><h2 class=article-title>åˆ©ç”¨github Actionsè‡ªåŠ¨åŒæ­¥é¡¹ç›®åˆ°giteeå¹¶è‡ªåŠ¨éƒ¨ç½²Gitee Pages</h2></div></a></article><article><a href=/archives/c7ccd27d/><div class=article-details><h2 class=article-title>GitHub Actionsåˆ©ç”¨FTP&&amp;rsyncè‡ªåŠ¨éƒ¨ç½²hugo-hexoåˆ°Centos 8</h2></div></a></article><article><a href=/archives/b32c2189/><div class=article-details><h2 class=article-title>upptime-åˆ©ç”¨Github-Actionsæ£€æµ‹ç½‘ç«™è¿è¡ŒçŠ¶æ€</h2></div></a></article><article><a href=/archives/db6e761/><div class=article-details><h2 class=article-title>hexoåˆ©ç”¨Github Actionsè‡ªåŠ¨æ„å»ºåšå®¢</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send,.twikoo .tk-comments-no,.twikoo .el-input__count,.twikoo .tk-submit-action-icon{color:var(--twikoo-body-text-color-main)!important}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://t.bore.vip",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2026 Bore's Notes</section><section class=running-time>æœ€è¿‘æ›´æ–°ï¼š<span id=site-last-update data-time=2026-02-12T17:15:05+08:00>--</span>
<a href=https://github.com/iwyang/iwyang.github.io/commit/2bde6ed6f556f3a73b71b8f68277f9af3562a9ca target=_blank rel=noopener style=color:#1e90ff;margin-left:5px;text-decoration:none>#2bde6ed6</a></section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º |
ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=4.0.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><script>(function(){var e,t,n,o,i,a,r,c,l,d,s=document.getElementById("site-last-update");s&&(n=new Date(s.getAttribute("data-time")),o=new Date,e=(o-n)/1e3,t="",i=365*24*60*60,e>i?(a=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),c=String(n.getDate()).padStart(2,"0"),l=String(n.getHours()).padStart(2,"0"),d=String(n.getMinutes()).padStart(2,"0"),t=a+"-"+r+"-"+c+" "+l+":"+d):e<60?t="åˆšåˆš":e<3600?t=Math.floor(e/60)+" åˆ†é’Ÿå‰":e<86400?t=Math.floor(e/3600)+" å°æ—¶å‰":e<2592e3?t=Math.floor(e/86400)+" å¤©å‰":t=Math.floor(e/2592e3)+" ä¸ªæœˆå‰",s.innerText=t)})()</script><script type=module>
    import gallery from '\/ts\/gallery.js';

    const articleContent = document.querySelector('.article-content');
    const shouldLoad = articleContent && (articleContent.querySelectorAll('figure').length > 0 || articleContent.querySelectorAll('img.gallery-image').length > 0);
    
    if (shouldLoad) {
        gallery(articleContent);

        const PhotoSwipeLightbox = (await import("https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js")).default;
        const styleHref = "https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe.css";

        const styleTag = document.createElement('link');
        styleTag.rel = 'stylesheet';
        styleTag.href = styleHref;
        document.head.appendChild(styleTag);

        const lightbox = new PhotoSwipeLightbox({
            gallerySelector: '.article-content',
            childSelector: 'figure a.image-link',
            pswpModule: () => import("https:\/\/cdn.jsdelivr.net\/npm\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js")
        });
        lightbox.init();
    }
</script></main></div><script type=text/javascript src=/ts/main.acaf849f2b273f6a8368a58b001f336738d0c948d92e79b116467d0c7515f932.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>