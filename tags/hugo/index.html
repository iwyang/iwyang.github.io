<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘"><title>Hugo</title><link rel=canonical href=https://bore.vip/tags/hugo/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap"><link rel=stylesheet href=/scss/style.min.e0ca62bfdf40e4f4a995690d2a23469b3b89812fad1113b54d41fbfbd567c077.css><meta property='og:title' content="Hugo"><meta property='og:description' content="åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘"><meta property='og:url' content='https://bore.vip/tags/hugo/'><meta property='og:site_name' content="Bore's Notes"><meta property='og:type' content='website'><meta property='og:updated_time' content=' 2026-02-21T11:56:46+08:00 '><meta name=twitter:title content="Hugo"><meta name=twitter:description content="åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘"><link rel=alternate type=application/rss+xml href=https://bore.vip/tags/hugo/index.xml><link rel="shortcut icon" href=/img/avatar.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel=stylesheet></head><body><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar.png width=170 height=170 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Bore's Notes</a></h1><h2 class=site-description>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/link/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>é“¾æ¥</span></a></li><li><a href=/shuoshuo/><svg class="icon icon-tabler icon-tabler-message-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 20l1.3-3.9A9 8 0 117.7 19L3 20"/><line x1="12" y1="12" x2="12" y2="12.01"/><line x1="8" y1="12" x2="8" y2="12.01"/><line x1="16" y1="12" x2="16" y2="12.01"/></svg>
<span>è¯´è¯´</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><main class="main full-width"><main class="main list-container"><style>.shuoshuo-tags-nav{display:flex;flex-wrap:wrap;gap:12px;margin-top:10px;margin-bottom:30px}.shuoshuo-tags-nav a{display:inline-flex;align-items:center;padding:6px 16px;border-radius:20px;background:var(--card-background);color:var(--card-text-color-secondary);font-size:14px;text-decoration:none;transition:all .3s ease;box-shadow:0 2px 4px rgba(0,0,0,4%);border:1px solid transparent}.shuoshuo-tags-nav a:hover{color:#1e90ff;border-color:#1e90ff}.shuoshuo-tags-nav a.active{background:#1e90ff;color:#fff!important;border-color:#1e90ff;box-shadow:0 4px 8px rgba(30,144,255,.3)}.shuoshuo-tags-nav a .tag-count{margin-left:4px;font-size:12px;opacity:.9}.meta-wrapper{display:flex!important;align-items:center!important;flex-wrap:wrap!important;line-height:1!important;gap:20px!important}.meta-item,.shuoshuo-edit-link a,.shuoshuo-time,.shuoshuo-updated-time{display:flex!important;align-items:center!important;gap:8px!important;font-size:14px!important;line-height:1!important;text-decoration:none;margin:0!important;padding:0!important;border:0!important;background:0 0!important;color:var(--card-text-color-secondary)!important;opacity:1!important;-webkit-tap-highlight-color:transparent!important;outline:none!important}.shuoshuo-meta svg,.shuoshuo-edit-link svg,.shuoshuo-time svg,.shuoshuo-updated-time svg{width:14px!important;height:14px!important;min-width:14px!important;display:block!important;margin:0!important;padding:0!important;position:static!important;transform:none!important;opacity:1!important;color:inherit!important}.meta-item span,.meta-item time,.shuoshuo-updated-time span,.shuoshuo-edit-link span{display:block!important;margin:0!important;padding:0!important;line-height:1!important;font-size:14px!important;font-family:inherit;font-weight:400!important;color:inherit!important}.shuoshuo-edit-link a,.shuoshuo-edit-link .git-hash-text{color:#1e90ff!important;transition:opacity .3s ease}.shuoshuo-edit-link .separator{color:#1e90ff!important;opacity:1!important}.shuoshuo-edit-link a:hover{opacity:.7!important;text-decoration:underline}.shuoshuo-tag{transition:color .3s ease,opacity .3s ease}.shuoshuo-tag:hover{color:#1e90ff!important;opacity:.8!important}</style><div class=shuoshuo-tags-nav><a href=/shuoshuo/>ğŸ·ï¸ å…¨éƒ¨
</a><a href=/tags/%E6%97%A5%E5%B8%B8/>#æ—¥å¸¸ <span class=tag-count>11</span>
</a><a href=/tags/%E6%8A%98%E8%85%BE/>#æŠ˜è…¾ <span class=tag-count>5</span>
</a><a href=/tags/%E8%BF%BD%E7%95%AA/>#è¿½ç•ª <span class=tag-count>4</span></a></div><div class=shuoshuo-list id=masonry-container style="opacity:0;transition:opacity .4s ease"><div class=waterfall-column id=waterfall-left><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2021-08-15T08:39:34Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2021-08-15</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><h2 id=rsyncåŒæ­¥>rsyncåŒæ­¥</h2><p>è¿™æ˜¯ä¸€ä»½<strong>æ²¡æœ‰ä»»ä½•é—æ¼ã€ä»é›¶å¼€å§‹</strong>çš„ç»ˆæéƒ¨ç½²æŒ‡å—ã€‚ä¸ºäº†å½»åº•è§£å†³ä½ ä¹‹å‰é‡åˆ°çš„æƒé™ï¼ˆPermission deniedï¼‰å’Œå‘½ä»¤ç¼ºå¤±ï¼ˆrsync not foundï¼‰é—®é¢˜ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§è¿™ 5 ä¸ªé˜¶æ®µæ“ä½œã€‚</p><p>æˆ‘ä»¬é‡‡ç”¨**â€œé‡ç½®ä¸€åˆ‡â€**çš„ç­–ç•¥ï¼Œç¡®ä¿ç¯å¢ƒç»å¯¹å¹²å‡€ã€‚</p><hr><h3 id=é˜¶æ®µä¸€æœåŠ¡å™¨-vps-å‡†å¤‡>é˜¶æ®µä¸€ï¼šæœåŠ¡å™¨ (VPS) å‡†å¤‡</h3><p><strong>åœºæ™¯</strong>ï¼šä½ åœ¨ VPS çš„ç»ˆç«¯é‡Œæ“ä½œã€‚
<strong>ç›®æ ‡</strong>ï¼šå®‰è£…å¿…è¦è½¯ä»¶ï¼Œå»ºç«‹ç½‘ç«™ç›®å½•ï¼Œæ¸…ç†æ—§çš„ SSH é…ç½®ã€‚</p><ol><li><strong>ç™»å½•æœåŠ¡å™¨</strong>ï¼š
ä½¿ç”¨ä½ ç°æœ‰çš„æ–¹å¼ï¼ˆå¯†ç æˆ–æ§åˆ¶å°ï¼‰ç™»å½•åˆ° <code>142.171.177.173</code>ã€‚</li><li><strong>å®‰è£… Rsync (ä¿®å¤ code 12 æŠ¥é”™)</strong>ï¼š
è¿™æ˜¯ä¹‹å‰æŠ¥é”™çš„æ ¸å¿ƒåŸå› ï¼Œå¿…é¡»å®‰è£…ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># å¦‚æœæ˜¯ Debian/Ubuntu:</span>
</span></span><span class=line><span class=cl>sudo apt-get update <span class=o>&amp;&amp;</span> sudo apt-get install rsync -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¦‚æœæ˜¯ CentOS/RHEL:</span>
</span></span><span class=line><span class=cl>sudo yum install rsync -y
</span></span></code></pre></td></tr></table></div></div><p><em>éªŒè¯</em>ï¼šè¾“å…¥ <code>rsync --version</code>ï¼Œçœ‹åˆ°ç‰ˆæœ¬å·å³æˆåŠŸã€‚
3. <strong>åˆ›å»ºç½‘ç«™å­˜æ”¾ç›®å½•</strong>ï¼š
ç¡®ä¿ GitHub æœºå™¨äººæœ‰åœ°æ–¹æ”¾æ–‡ä»¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># åˆ›å»ºç›®å½•</span>
</span></span><span class=line><span class=cl>sudo mkdir -p /var/www/blog
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å°†ç›®å½•æ‰€æœ‰æƒäº¤ç»™ admin ç”¨æˆ· (è‡³å…³é‡è¦ï¼)</span>
</span></span><span class=line><span class=cl>sudo chown -R admin:admin /var/www/blog
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è®¾ç½®ç›®å½•æƒé™</span>
</span></span><span class=line><span class=cl>sudo chmod -R <span class=m>755</span> /var/www/blog
</span></span></code></pre></td></tr></table></div></div><ol start=4><li><strong>åˆå§‹åŒ– SSH ç›®å½• (ä¿®å¤æƒé™æŠ¥é”™)</strong>ï¼š
å³ä½¿ç›®å½•å·²å­˜åœ¨ï¼Œä¹Ÿè¯·è¿è¡Œä¸€éä»¥ä¿®æ­£æƒé™ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ç¡®ä¿åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> /home/admin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ›å»º .ssh ç›®å½•</span>
</span></span><span class=line><span class=cl>mkdir -p .ssh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># é”æ­»ç›®å½•æƒé™ (åªæœ‰ admin èƒ½è¿›)</span>
</span></span><span class=line><span class=cl>chmod <span class=m>700</span> .ssh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¡®ä¿æ‰€æœ‰æƒæ­£ç¡®</span>
</span></span><span class=line><span class=cl>sudo chown -R admin:admin .ssh
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=é˜¶æ®µäºŒç”Ÿæˆä¸“ç”¨é’¥åŒ™-æœ¬åœ°ç”µè„‘>é˜¶æ®µäºŒï¼šç”Ÿæˆâ€œä¸“ç”¨é’¥åŒ™â€ (æœ¬åœ°ç”µè„‘)</h3><p><strong>åœºæ™¯</strong>ï¼šåœ¨ä½ è‡ªå·±çš„ç”µè„‘ç»ˆç«¯ï¼ˆGit Bash / Terminalï¼‰é‡Œæ“ä½œã€‚
<strong>ç›®æ ‡</strong>ï¼šåˆ¶ä½œä¸€å¯¹å…¨æ–°çš„é’¥åŒ™ï¼Œä¸€æŠŠç»™ GitHubï¼Œä¸€æŠŠç»™ VPSã€‚</p><ol><li><strong>ç”Ÿæˆå¯†é’¥</strong>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ä¸è¦è®¾ç½®å¯†ç ï¼Œä¸€è·¯å›è½¦</span>
</span></span><span class=line><span class=cl>ssh-keygen -t ed25519 -C <span class=s2>&#34;github-actions-deploy&#34;</span> -f deploy_key
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><strong>æŸ¥çœ‹å¹¶å¤åˆ¶å…¬é’¥ (ç»™ VPS ç”¨)</strong>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat deploy_key.pub
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <strong>åŠ¨ä½œ</strong>ï¼šå¤åˆ¶è¾“å‡ºçš„é‚£ä¸€æ•´è¡Œå†…å®¹ï¼ˆä»¥ <code>ssh-ed25519</code> å¼€å¤´ï¼‰ã€‚
3. <strong>æŸ¥çœ‹å¹¶å¤åˆ¶ç§é’¥ (ç»™ GitHub ç”¨)</strong>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat deploy_key
</span></span></code></pre></td></tr></table></div></div><p>ğŸ‘‰ <strong>åŠ¨ä½œ</strong>ï¼šå¤åˆ¶<strong>å…¨éƒ¨å†…å®¹</strong>ï¼ŒåŒ…æ‹¬ <code>-----BEGIN...</code> å’Œ <code>-----END...</code>ã€‚</p><hr><h3 id=é˜¶æ®µä¸‰å®‰è£…é”-vps>é˜¶æ®µä¸‰ï¼šå®‰è£…â€œé”â€ (VPS)</h3><p><strong>åœºæ™¯</strong>ï¼šå›åˆ° VPS çš„ç»ˆç«¯é‡Œæ“ä½œã€‚
<strong>ç›®æ ‡</strong>ï¼šæŠŠé˜¶æ®µäºŒé‡Œå¤åˆ¶çš„<strong>å…¬é’¥</strong>ï¼Œå†™å…¥æœåŠ¡å™¨ç™½åå•ã€‚</p><ol><li><strong>å†™å…¥å…¬é’¥</strong>ï¼š
è¯·å°†ä¸‹é¢çš„ <code>ä½ çš„å…¬é’¥å†…å®¹</code> æ›¿æ¢ä¸ºä½ åˆšæ‰å¤åˆ¶çš„é‚£ä¸€é•¿ä¸²å­—ç¬¦ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ä½ çš„å…¬é’¥å†…å®¹&#34;</span> &gt; /home/admin/.ssh/authorized_keys
</span></span></code></pre></td></tr></table></div></div><p><em>ä¾‹å¦‚ï¼š</em> <code>echo "ssh-ed25519 AAAAC3Nz... github-actions-deploy" > /home/admin/.ssh/authorized_keys</code>
2. <strong>è®¾ç½®æ–‡ä»¶æƒé™ (è‡³å…³é‡è¦)</strong>ï¼š
SSH è§„å®šï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶æƒé™å¤ªå¼€æ”¾ï¼Œå®ƒä¼šæ‹’ç»ç™»å½•ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># åªèƒ½ä½ è‡ªå·±è¯»å†™</span>
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> /home/admin/.ssh/authorized_keys
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å†æ¬¡ç¡®è®¤æ‰€æœ‰æƒ</span>
</span></span><span class=line><span class=cl>sudo chown admin:admin /home/admin/.ssh/authorized_keys
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><strong>æœ€ç»ˆæ£€æŸ¥</strong>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /home/admin/.ssh/authorized_keys
</span></span></code></pre></td></tr></table></div></div><p><em>ç¡®è®¤çœ‹åˆ°çš„æ˜¯ä½ çš„æ–°å…¬é’¥ã€‚</em></p><hr><h3 id=é˜¶æ®µå››é…ç½®æŒé’¥äºº-github>é˜¶æ®µå››ï¼šé…ç½®â€œæŒé’¥äººâ€ (GitHub)</h3><p><strong>åœºæ™¯</strong>ï¼šåœ¨ GitHub ç½‘é¡µä¸Šæ“ä½œã€‚
<strong>ç›®æ ‡</strong>ï¼šæŠŠé˜¶æ®µäºŒé‡Œå¤åˆ¶çš„<strong>ç§é’¥</strong>ï¼Œäº¤ç»™ GitHub æœºå™¨äººã€‚</p><ol><li>æ‰“å¼€ä½ çš„ GitHub ä»“åº“é¡µé¢ã€‚</li><li>ç‚¹å‡» <strong>Settings</strong> -> <strong>Secrets and variables</strong> -> <strong>Actions</strong>ã€‚</li><li>æ‰¾åˆ° <code>SERVER_SSH_KEY</code> (å¦‚æœæœ‰æ—§çš„ï¼Œç›´æ¥åˆ é™¤æ–°å»ºï¼Œæˆ–è€…ç‚¹å‡» Update)ã€‚</li><li><strong>ç²˜è´´é˜¶æ®µäºŒé‡Œå¤åˆ¶çš„ç§é’¥å†…å®¹</strong>ã€‚</li><li>ç‚¹å‡» <strong>Add secret</strong>ã€‚</li></ol><hr><h3 id=é˜¶æ®µäº”é…ç½®è‡ªåŠ¨åŒ–è„šæœ¬-æœ¬åœ°ä»£ç >é˜¶æ®µäº”ï¼šé…ç½®è‡ªåŠ¨åŒ–è„šæœ¬ (æœ¬åœ°ä»£ç )</h3><p><strong>åœºæ™¯</strong>ï¼šåœ¨ VS Code æˆ–æœ¬åœ°ç¼–è¾‘å™¨é‡Œæ“ä½œã€‚
<strong>ç›®æ ‡</strong>ï¼šå‘Šè¯‰ GitHub æ€ä¹ˆç”¨è¿™æŠŠé’¥åŒ™ã€‚</p><ol><li>æ‰“å¼€é¡¹ç›®ä¸­çš„ <code>.github/workflows/gh_pages.yml</code> æ–‡ä»¶ã€‚</li><li><strong>å®Œå…¨è¦†ç›–</strong>ä¸ºä»¥ä¸‹å†…å®¹ï¼ˆç¡®ä¿æ²¡æœ‰ä»»ä½•ç¼©è¿›é”™è¯¯ï¼‰ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ã€ä¼˜åŒ–1ã€‘æ–°å¢æ‰‹åŠ¨è§¦å‘æŒ‰é’®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># å…è®¸ä½ åœ¨ä¸ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹ï¼Œåœ¨ GitHub Actions ç•Œé¢æ‰‹åŠ¨ç‚¹å‡»é‡æ–°éƒ¨ç½²</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Shanghai</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Git Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>git config --global core.quotePath false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache Hugo resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            ~/.cache/hugo_cache
</span></span></span><span class=line><span class=cl><span class=sd>            resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ã€ä¼˜åŒ–2ã€‘æ›´æ™ºèƒ½çš„ç¼“å­˜ Key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># å¦‚æœ go.sum ä¸å­˜åœ¨ï¼ˆæœ‰äº›ç®€å•é¡¹ç›®æ²¡æœ‰ï¼‰ï¼Œåˆ™ä½¿ç”¨ hugo é…ç½®æ–‡ä»¶åšå“ˆå¸Œï¼Œé˜²æ­¢ç¼“å­˜å¤±æ•ˆ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugo-${{ hashFiles(&#39;go.sum&#39;) || hashFiles(&#39;hugo.*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            ${{ runner.os }}-hugo-</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --gc --minify --logLevel info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to Server (Rsync)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># ã€ä¼˜åŒ–3ã€‘é”å®šæ’ä»¶ç‰ˆæœ¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># å»ºè®®ä½¿ç”¨å…·ä½“çš„ç‰ˆæœ¬å· (v5.1.0) è€Œä¸æ˜¯ @main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># @main æ˜¯å¼€å‘ç‰ˆï¼Œå¯èƒ½ä¼šçªç„¶å¼•å…¥ Bug å¯¼è‡´ä½ éƒ¨ç½²å¤±è´¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>easingthemes/ssh-deploy@v5.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SSH_PRIVATE_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SERVER_SSH_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ARGS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;-avzr --delete&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SOURCE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;public/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>REMOTE_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;142.171.177.173&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>REMOTE_USER</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;admin&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>TARGET</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/var/www/blog/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>EXCLUDE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/.git/, /.github/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ã€ä¼˜åŒ–4ã€‘è·³è¿‡ Host Key æ£€æŸ¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># é˜²æ­¢ VPS é‡è£…æˆ– IP å˜åŠ¨åï¼ŒGitHub æŠ¥é”™ &#34;Host key verification failed&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SSH_CMD_ARGS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;-o StrictHostKeyChecking=no&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li><strong>æ¨é€ä»£ç ï¼Œè§¦å‘éƒ¨ç½²</strong>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Fix: Final deployment configuration&#34;</span>
</span></span><span class=line><span class=cl>git push origin develop
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=é¢„æœŸç»“æœ>é¢„æœŸç»“æœ</h3><p>åªè¦ä½ ä¸¥æ ¼æ‰§è¡Œäº†ï¼š</p><ol><li><strong>VPS ä¸Šè£…äº† rsync</strong>ã€‚</li><li><strong>VPS ä¸Š <code>.ssh</code> ç›®å½•æƒé™æ˜¯ 700ï¼Œ<code>authorized_keys</code> æ˜¯ 600</strong>ã€‚</li><li><strong>GitHub Secret é‡Œå¡«çš„æ˜¯ç§é’¥</strong>ã€‚</li><li><strong>VPS æ–‡ä»¶é‡Œå¡«çš„æ˜¯å…¬é’¥</strong>ã€‚</li></ol><p>è¿™ä¸€æ¬¡ï¼ŒGitHub Actions <strong>ä¸€å®šä¼šå˜ç»¿</strong>ã€‚ç°åœ¨å¼€å§‹æ“ä½œå§ï¼</p><h2 id=rsync-vs-ftp>rsync vs FTP</h2><p>ç›¸æ¯”äºä¼ ç»Ÿçš„ FTP æˆ–ç®€å•çš„æ–‡ä»¶æ‹·è´ï¼Œ<strong>rsync (Remote Sync)</strong> åœ¨ç½‘ç«™éƒ¨ç½²å’Œæ–‡ä»¶åŒæ­¥ä¸­å…·æœ‰å‹å€’æ€§çš„ä¼˜åŠ¿ã€‚å¯¹äºç»´æŠ¤åƒ <strong>bore.vip</strong> è¿™æ ·åŸºäº Hugo çš„é™æ€åšå®¢ï¼Œrsync æ˜¯ç›®å‰å…¬è®¤çš„æœ€ä¼˜é€‰æ–¹æ¡ˆã€‚</p><p>ä»¥ä¸‹æ˜¯ rsync çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p><hr><h3 id=æé€Ÿçš„å¢é‡ä¼ è¾“-delta-transfer-algorithm>æé€Ÿçš„å¢é‡ä¼ è¾“ (Delta-transfer Algorithm)</h3><p>è¿™æ˜¯ rsync çš„æ€æ‰‹é”ã€‚</p><ul><li><strong>æŒ‰éœ€æ›´æ–°</strong>ï¼šå®ƒåªåŒæ­¥æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ä¹‹é—´æœ‰å·®å¼‚çš„éƒ¨åˆ†ã€‚å¦‚æœä½ åªæ˜¯ä¿®æ”¹äº†åšå®¢çš„ä¸€è¡Œå­—ï¼Œå®ƒåªä¼šä¼ è¾“é‚£å‡ ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯é‡ä¼ æ•´ä¸ª HTML æ–‡ä»¶ã€‚</li><li><strong>èŠ‚çœå¸¦å®½</strong>ï¼šç”±äºåªä¼ å·®å¼‚æ•°æ®ï¼Œéƒ¨ç½²æ—¶é—´é€šå¸¸èƒ½ä»åˆ†é’Ÿçº§ç¼©çŸ­åˆ°ç§’çº§ï¼Œç‰¹åˆ«é€‚åˆæ–‡ä»¶ä¼—å¤šçš„é™æ€ç½‘ç«™ã€‚</li></ul><h3 id=é•œåƒä¸€è‡´æ€§ä¸è‡ªåŠ¨æ¸…ç†>é•œåƒä¸€è‡´æ€§ä¸è‡ªåŠ¨æ¸…ç†</h3><p>é€šè¿‡ <code>--delete</code> å‚æ•°ï¼Œrsync å¯ä»¥ç¡®ä¿ç›®æ ‡æ–‡ä»¶å¤¹ï¼ˆVPSï¼‰ä¸æºæ–‡ä»¶å¤¹ï¼ˆGitHub å…¬å…±ç›®å½•ï¼‰å®Œå…¨ä¸€è‡´ã€‚</p><ul><li><strong>è‡ªåŠ¨åˆ é™¤æ®‹ç•™</strong>ï¼šå¦‚æœä½ åœ¨ Hugo ä¸­åˆ é™¤äº†ä¸€ç¯‡æ–‡ç« æˆ–ä¿®æ”¹äº† URLï¼Œrsync ä¼šè‡ªåŠ¨åˆ é™¤æœåŠ¡å™¨ä¸Šè¿‡æ—¶çš„æ—§æ–‡ä»¶ã€‚</li><li><strong>é˜²æ­¢å†—ä½™</strong>ï¼šè¿™é¿å…äº†æœåŠ¡å™¨å­˜å‚¨ç©ºé—´è¢«ä¸å†ä½¿ç”¨çš„æ—§é™æ€èµ„æºå¡«æ»¡ã€‚</li></ul><h3 id=çµæ´»çš„æ–‡ä»¶å±æ€§ä¿ç•™>çµæ´»çš„æ–‡ä»¶å±æ€§ä¿ç•™</h3><p>åœ¨è¿ç§»æˆ–åŒæ­¥æ—¶ï¼Œrsync å¯ä»¥ç²¾å‡†ä¿ç•™æ–‡ä»¶çš„å…ƒæ•°æ®ã€‚</p><ul><li><strong>æƒé™ä¸æ—¶é—´æˆ³</strong>ï¼šä½¿ç”¨ <code>-a</code> (Archive) å‚æ•°ï¼Œå¯ä»¥ä¸€é”®ä¿ç•™æ–‡ä»¶çš„æƒé™ï¼ˆPermissionsï¼‰ã€æ‰€æœ‰è€…ï¼ˆOwnerï¼‰å’Œä¿®æ”¹æ—¶é—´ï¼ˆTimestampsï¼‰ã€‚</li><li><strong>è½¯é“¾æ¥å¤„ç†</strong>ï¼šå®ƒèƒ½æ­£ç¡®å¤„ç†ç¬¦å·é“¾æ¥ï¼Œè€Œ FTP å¾€å¾€ä¼šåœ¨è¿™æ–¹é¢å‡ºé”™ã€‚</li></ul><h3 id=é«˜å®‰å…¨æ€§ä¸åŠ å¯†ä¼ è¾“>é«˜å®‰å…¨æ€§ä¸åŠ å¯†ä¼ è¾“</h3><p>rsync é€šå¸¸è¿è¡Œåœ¨ SSH åè®®ä¹‹ä¸Šï¼ˆå³ <strong>rsync over SSH</strong>ï¼‰ã€‚</p><ul><li><strong>åŠ å¯†é€šé“</strong>ï¼šæ‰€æœ‰çš„æ–‡ä»¶ä¼ è¾“å’Œè®¤è¯è¿‡ç¨‹éƒ½ç»è¿‡ SSH åŠ å¯†ï¼Œé˜²æ­¢å¯†ç æˆ–æ•°æ®åœ¨å…¬ç½‘è¢«çªƒå¬ã€‚</li><li><strong>å…å¯†éƒ¨ç½²</strong>ï¼šé…åˆ SSH Keyï¼ˆå¦‚ <code>SERVER_SSH_KEY</code>ï¼‰ï¼Œå¯ä»¥å®ç° GitHub Actions åˆ° VPS çš„å…¨è‡ªåŠ¨å®‰å…¨ç™»å½•ï¼Œæ— éœ€åœ¨ä»£ç ä¸­æ˜æ–‡æš´éœ²å¯†ç ã€‚</li></ul><hr><h3 id=rsync-vs-ftp-ä¼˜åŠ¿å¯¹æ¯”è¡¨>rsync vs FTP ä¼˜åŠ¿å¯¹æ¯”è¡¨</h3><table><thead><tr><th>ç‰¹æ€§</th><th>rsync (æ¨è)</th><th>FTP (ä¸æ¨è)</th></tr></thead><tbody><tr><td><strong>ä¼ è¾“æ–¹å¼</strong></td><td><strong>å¢é‡åŒæ­¥</strong>ï¼Œåªä¼ å˜åŠ¨éƒ¨åˆ†</td><td><strong>å…¨é‡ä¼ è¾“</strong>ï¼Œæ¯æ¬¡éƒ½è¦é‡ä¼ æ•´ä¸ªæ–‡ä»¶</td></tr><tr><td><strong>é€Ÿåº¦</strong></td><td><strong>æå¿«</strong>ï¼Œå°¤å…¶æ˜¯æ–‡ä»¶å¤šã€æ”¹åŠ¨å°‘æ—¶</td><td><strong>è¾ƒæ…¢</strong>ï¼Œä¸”å»ºç«‹è¿æ¥å¼€é”€å¤§</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td><strong>é«˜</strong>ï¼ŒåŸºäº SSH åŠ å¯†</td><td><strong>ä½</strong>ï¼Œé€šå¸¸æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œä¸å®‰å…¨</td></tr><tr><td><strong>ä¸€è‡´æ€§</strong></td><td>å®Œç¾ä¿æŒé•œåƒï¼Œæ”¯æŒ<strong>è‡ªåŠ¨åˆ é™¤</strong>æ—§æ–‡ä»¶</td><td>éœ€æ‰‹åŠ¨åˆ é™¤æœåŠ¡å™¨ä¸Šçš„è¿‡æ—¶æ–‡ä»¶</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>è‡ªåŠ¨åŒ–éƒ¨ç½²ã€æœåŠ¡å™¨å¤‡ä»½</td><td>é›¶æ˜Ÿçš„å•æ–‡ä»¶ä¸Šä¼ </td></tr></tbody></table><hr><h3 id=æ‚¨ç°åœ¨çš„éƒ¨ç½²çŠ¶æ€>æ‚¨ç°åœ¨çš„éƒ¨ç½²çŠ¶æ€</h3><p>æ‚¨å·²ç»æˆåŠŸä¿®å¤äº†æœåŠ¡å™¨ä¸Šçš„æƒé™é—®é¢˜å¹¶å®‰è£…äº† rsync è½¯ä»¶ã€‚ç°åœ¨æ‚¨çš„ <strong>gh_pages.yml</strong> å·¥ä½œæµå·²ç»åˆ©ç”¨äº† rsync çš„è¿™äº›ä¼˜åŠ¿ï¼šé€šè¿‡åŠ å¯†çš„ <code>SERVER_SSH_KEY</code> å®ç°äº†ç§’çº§çš„å¢é‡åŒæ­¥ï¼Œå¹¶èƒ½è‡ªåŠ¨æ¸…ç†æ—§æ–‡ç« äº§ç”Ÿçš„å†—ä½™æ–‡ä»¶ã€‚</p><p><strong>æ—¢ç„¶ rsync å·²ç»é€šäº†ï¼Œæ‚¨æƒ³äº†è§£å¦‚ä½•åˆ©ç”¨ rsync é…åˆè„šæœ¬å®ç°åšå®¢çš„â€œä¸€é”®å¤‡ä»½â€åˆ°æœ¬åœ°ç”µè„‘å—ï¼Ÿ</strong></p><h2 id=æœ¬åœ°æ“ä½œ>æœ¬åœ°æ“ä½œ</h2><p>éƒ¨ç½²hugoåˆ°æœåŠ¡å™¨ï¼Œç½‘ä¸Šä¸€èˆ¬æ–¹æ³•æ˜¯åˆ©ç”¨<code>git hook</code>ã€‚è¿™é‡Œè®°å½•ä¸€ç§æ–°çš„æ–¹æ³•ï¼šåˆ©ç”¨FTP Deploy GitHub Actionsè‡ªåŠ¨éƒ¨ç½²hugoåˆ°Centos8æœåŠ¡å™¨ã€‚ä»Šååªè¦æäº¤æºç åˆ°<code>github</code>ä»“åº“ï¼Œå‰©ä¸‹çš„äº‹å°±äº¤ç»™<code>GitHub Actions</code>äº†ã€‚</p><p>å‚è€ƒï¼š<a class=link href=/archives/hugo-install-on-coding-and-gitee/#%e6%9c%ac%e5%9c%b0%e6%93%8d%e4%bd%9c>hugoéƒ¨ç½²åˆ°coding&amp;gitee&å¤‡ä»½æºç -æœ¬åœ°æ“ä½œ</a></p><h2 id=æœåŠ¡å™¨æ“ä½œ>æœåŠ¡å™¨æ“ä½œ</h2><h3 id=å®‰è£…-nginx>å®‰è£… Nginx</h3><p>å‡†å¤‡å·¥ä½œï¼šå¦‚æœæœåŠ¡å™¨ç«¯å£ä¸æ˜¯22ï¼Œå…ˆè¦æ›´æ”¹SSHç«¯å£ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>port <span class=m>22</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åé‡å¯ç”Ÿæ•ˆã€‚</p><p>é¦–å…ˆï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…<code>nginx</code>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum update -y
</span></span><span class=line><span class=cl>yum install nginx -y
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæ˜¯centos 7ï¼Œå…ˆè¦å®‰è£…å®‰è£…epelï¼š<code>yum install epel-release</code>ï¼Œæ‰èƒ½å®‰è£…nginxã€‚</p><h3 id=å¯åŠ¨-nginx>å¯åŠ¨ Nginx</h3><p>Nginx å®‰è£…å®Œæˆåéœ€è¦æ‰‹åŠ¨å¯åŠ¨ï¼Œå¯åŠ¨Nginxå¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start nginx
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> nginx
</span></span></code></pre></td></tr></table></div></div><p>å…³é—­é˜²ç«å¢™ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl stop firewalld.service
</span></span><span class=line><span class=cl>systemctl disable firewalld.service 
</span></span></code></pre></td></tr></table></div></div><p>é…ç½®å®Œæˆåï¼Œè®¿é—®ä½¿ç”¨æµè§ˆå™¨æœåŠ¡å™¨ ip ï¼Œå¦‚æœèƒ½çœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œè¡¨ç¤ºè¿è¡ŒæˆåŠŸã€‚</p><h3 id=åˆ›å»ºæ–°çš„ç½‘ç«™ç›®å½•>åˆ›å»ºæ–°çš„ç½‘ç«™ç›®å½•</h3><p><strong>ä¸ºäº†å›¾æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥å°†ç½‘ç«™ç›®å½•æ”¹ä¸ºFTPå®¶ç›®å½•ã€‚</strong></p><p>ä¸ºäº†æ–¹ä¾¿æœŸé—´ï¼Œæˆ‘ä»¬åœ¨ <code>/var/www/</code> ç›®å½•ä¸‹ä¸ºæ¯ä¸ªç«™ç‚¹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mkdir -p /var/www/blog
</span></span><span class=line><span class=cl>sudo chown -R <span class=nv>$USER</span>:<span class=nv>$USER</span> /var/www/blog
</span></span><span class=line><span class=cl>sudo chmod -R <span class=m>755</span> /var/www
</span></span></code></pre></td></tr></table></div></div><ul><li>è§£å†³Nginxå‡ºç°403 forbidden</li></ul><p>å¦‚æœåé¢åˆ©ç”¨FTPä¸Šä¼ ç½‘é¡µåï¼Œå‡ºç°<code>403 Forbidden</code>ï¼Œè§£å†³æ–¹æ³•ï¼š</p><p>å‡è®¾ç½‘ç«™æ ¹ç›®å½•åœ¨<code>/var/www/blog/</code>ï¼Œåˆ™æ‰§è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod -R <span class=m>777</span> /var/www
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®-nginx>é…ç½® nginx</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/nginx/conf.d/blog.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>  listen  <span class=m>80</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>  listen <span class=o>[</span>::<span class=o>]</span>:80<span class=p>;</span>
</span></span><span class=line><span class=cl>  root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>  server_name bore.vip www.bore.vip<span class=p>;</span>
</span></span><span class=line><span class=cl>  access_log  /var/log/nginx/hexo_access.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_log   /var/log/nginx/hexo_error.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_page <span class=nv>404</span> <span class=o>=</span>  /404.html<span class=p>;</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>ico<span class=p>|</span>gif<span class=p>|</span>jpg<span class=p>|</span>jpeg<span class=p>|</span>png<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      1d<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>css<span class=p>|</span>js<span class=p>|</span>txt<span class=p>|</span>xml<span class=p>|</span>swf<span class=p>|</span>wav<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      10m<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location / <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>-f <span class=nv>$request_filename</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    rewrite ^/<span class=o>(</span>.*<span class=o>)</span>$  /<span class=nv>$1</span> break<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location /nginx_status <span class=o>{</span>
</span></span><span class=line><span class=cl>    stub_status on<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log off<span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>é‡å¯ Nginx æœåŠ¡å™¨ï¼Œä½¿æœåŠ¡å™¨è®¾å®šç”Ÿæ•ˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart nginx
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®sslè¯ä¹¦>é…ç½®sslè¯ä¹¦</h3><blockquote><p>æ›´å¤šæŸ¥çœ‹ï¼š<a class=link href=/archives/58fed3fc/>Nginx é…ç½® ssl è¯ä¹¦</a></p></blockquote><p>è¿™é‡Œè®°ä¸‹æ€æ ·æ·»åŠ  Letâ€™s Encrypt å…è´¹è¯ä¹¦ã€‚ï¼ˆè²Œä¼¼åªæœ‰ä¸Šä¼ äº†æ–‡ä»¶åˆ°ç½‘ç«™ç›®å½•ï¼Œæ‰èƒ½ç”³è¯·è¯ä¹¦æˆåŠŸã€‚ï¼‰å¦‚æœæƒ³å¯ç”¨é˜¿é‡Œè¯ä¹¦ï¼Œå¯æŸ¥çœ‹ï¼š<a class=link href=/archives/enable-ssl-on-nginx/#%e5%90%af%e7%94%a8%e9%98%bf%e9%87%8c%e5%85%8d%e8%b4%b9%e8%af%81%e4%b9%a6>å¯ç”¨é˜¿é‡Œå…è´¹è¯ä¹¦</a></p><h4 id=å®‰è£…certbot>å®‰è£…Certbot</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum install epel-release -y
</span></span><span class=line><span class=cl>yum install certbot -y
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åæ‰§è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>certbot certonly --webroot -w /var/www/blog -d bore.vip -m 455343442@qq.com --agree-tos
</span></span></code></pre></td></tr></table></div></div><h4 id=é…ç½®nginx>é…ç½®Nginx</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/nginx/conf.d/blog.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>    listen 80<span class=p>;</span>
</span></span><span class=line><span class=cl>    server_name bore.vip www.bore.vip<span class=p>;</span>
</span></span><span class=line><span class=cl>    rewrite ^<span class=o>(</span>.*<span class=o>)</span>$ https://<span class=nv>$server_name$1</span> permanent<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>  listen 443<span class=p>;</span>
</span></span><span class=line><span class=cl>  root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>  server_name bore.vip www.bore.vip<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl on<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_certificate /etc/letsencrypt/live/bore.vip/fullchain.pem<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_certificate_key /etc/letsencrypt/live/bore.vip/privkey.pem<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_session_timeout 5m<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP<span class=p>;</span>
</span></span><span class=line><span class=cl>  ssl_prefer_server_ciphers on<span class=p>;</span>
</span></span><span class=line><span class=cl>  access_log  /var/log/nginx/hexo_access.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_log   /var/log/nginx/hexo_error.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_page <span class=nv>404</span> <span class=o>=</span>  /404.html<span class=p>;</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>ico<span class=p>|</span>gif<span class=p>|</span>jpg<span class=p>|</span>jpeg<span class=p>|</span>png<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      1d<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>css<span class=p>|</span>js<span class=p>|</span>txt<span class=p>|</span>xml<span class=p>|</span>swf<span class=p>|</span>wav<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      10m<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location / <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>-f <span class=nv>$request_filename</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    rewrite ^/<span class=o>(</span>.*<span class=o>)</span>$  /<span class=nv>$1</span> break<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location /nginx_status <span class=o>{</span>
</span></span><span class=line><span class=cl>    stub_status on<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log off<span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>é‡å¯Nginxç”Ÿæ•ˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl restart nginx
</span></span></code></pre></td></tr></table></div></div><h4 id=è¯ä¹¦è‡ªåŠ¨æ›´æ–°>è¯ä¹¦è‡ªåŠ¨æ›´æ–°</h4><p>ç”±äºè¿™ä¸ªè¯ä¹¦çš„æ—¶æ•ˆåªæœ‰ 90 å¤©ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®è‡ªåŠ¨æ›´æ–°çš„åŠŸèƒ½ï¼Œå¸®æˆ‘ä»¬è‡ªåŠ¨æ›´æ–°è¯ä¹¦çš„æ—¶æ•ˆã€‚é¦–å…ˆå…ˆåœ¨å‘½ä»¤è¡Œæ¨¡æ‹Ÿè¯ä¹¦æ›´æ–°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>certbot renew --dry-run
</span></span></code></pre></td></tr></table></div></div><p>æ¨¡æ‹Ÿæ›´æ–°æˆåŠŸçš„æ•ˆæœå¦‚ä¸‹(ç•¥)</p><p>åœ¨æ— æ³•ç¡®è®¤ä½ çš„ nginx é…ç½®æ˜¯å¦æ­£ç¡®æ—¶ï¼Œä¸€å®šè¦è¿è¡Œæ¨¡æ‹Ÿæ›´æ–°å‘½ä»¤ï¼Œç¡®ä¿certbotå’ŒæœåŠ¡å™¨é€šè®¯æ­£å¸¸ã€‚ä½¿ç”¨ crontab -e çš„å‘½ä»¤æ¥å¯ç”¨è‡ªåŠ¨ä»»åŠ¡ï¼Œå‘½ä»¤è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>crontab -e
</span></span></code></pre></td></tr></table></div></div><p>æ·»åŠ é…ç½®ï¼šï¼ˆæ¯éš”ä¸¤ä¸ªæœˆå‡Œæ™¨2:30è‡ªåŠ¨æ‰§è¡Œè¯ä¹¦æ›´æ–°æ“ä½œï¼‰åä¿å­˜é€€å‡ºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>30</span> <span class=m>2</span> * */2 * /usr/bin/certbot renew --quiet <span class=o>&amp;&amp;</span> /bin/systemctl restart nginx
</span></span></code></pre></td></tr></table></div></div><p>æŸ¥çœ‹è¯ä¹¦æœ‰æ•ˆæœŸçš„å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>openssl x509 -noout -dates -in /etc/letsencrypt/live/bore.vip/cert.pem
</span></span></code></pre></td></tr></table></div></div><h3 id=å®‰è£…vsftpd>å®‰è£…vsftpd</h3><p>DebianæŸ¥çœ‹ï¼š<a class=link href=/archives/9eb70758/#Debian%e5%ae%89%e8%a3%85vsftpd>Debianå®‰è£…vsftpd</a>ï¼ŒCentoså‚è€ƒä¸‹é¢çš„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install vsftpd -y
</span></span></code></pre></td></tr></table></div></div><p>å®‰è£…è½¯ä»¶åŒ…åï¼Œå¯åŠ¨vsftpdï¼Œå¹¶ä½¿å…¶èƒ½å¤Ÿåœ¨å¼•å¯¼æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start vsftpd
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> vsftpd
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®vsftpd>é…ç½®vsftpd</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/vsftpd/vsftpd.conf
</span></span></code></pre></td></tr></table></div></div><p>åœ¨<code>userlist_enable=YES</code>ä¸‹é¢ï¼ŒåŠ ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>userlist_file</span><span class=o>=</span>/etc/vsftpd/user_list
</span></span><span class=line><span class=cl><span class=nv>userlist_deny</span><span class=o>=</span>NO
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ›å»ºftpç”¨æˆ·>åˆ›å»ºFTPç”¨æˆ·</h3><p>åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œåä¸ºadmin:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo adduser admin
</span></span><span class=line><span class=cl>sudo passwd admin
</span></span></code></pre></td></tr></table></div></div><p>å°†ç”¨æˆ·æ·»åŠ åˆ°å…è®¸çš„FTPç”¨æˆ·åˆ—è¡¨ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;admin&#34;</span> <span class=p>|</span> sudo tee -a /etc/vsftpd/user_list
</span></span></code></pre></td></tr></table></div></div><p>è®¾ç½®æ­£ç¡®çš„æƒé™ï¼ˆä½¿ftpç”¨æˆ·å¯ä»¥ä¸Šä¼ ç½‘ç«™æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chmod <span class=m>755</span> /var/www/blog
</span></span><span class=line><span class=cl>sudo chown -R admin: /var/www/blog
</span></span></code></pre></td></tr></table></div></div><h3 id=å…³é—­é˜²ç«å¢™>å…³é—­é˜²ç«å¢™</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl stop firewalld.service
</span></span><span class=line><span class=cl>systemctl disable firewalld.service 
</span></span></code></pre></td></tr></table></div></div><h3 id=é‡å¯vsftpdæœåŠ¡>é‡å¯vsftpdæœåŠ¡</h3><p>ä¿å­˜æ–‡ä»¶å¹¶é‡æ–°å¯åŠ¨vsftpdæœåŠ¡ï¼Œä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart vsftpd
</span></span></code></pre></td></tr></table></div></div><p>æ›´å¤šæœ‰å…³ftpéƒ¨åˆ†å¯æŸ¥çœ‹ï¼š<a class=link href=/archives/centos8-enable-ftp/>centos8æ­å»ºftpæœåŠ¡å™¨</a></p><h2 id=å…è®¸rootç™»å½•ftp>å…è®¸rootç™»å½•FTP</h2><ol><li>å°†<code>root</code>æ·»åŠ åˆ°å…è®¸çš„FTPç”¨æˆ·åˆ—è¡¨ä¸­ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;root&#34;</span> <span class=p>|</span> sudo tee -a /etc/vsftpd/user_list
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>ä¿®æ”¹/etc/vsftpd/user_listå’Œ/etc/vsftpd/ftpusersä¸¤ä¸ªè®¾ç½®æ–‡ä»¶è„šæœ¬ï¼Œå°†rootè´¦æˆ·å‰åŠ ä¸Š#å·å˜ä¸ºæ³¨é‡Šï¼ˆä½¿</li></ol><p>rootè´¦æˆ·ä»ç¦æ­¢ç™»å½•çš„ç”¨æˆ·åˆ—è¡¨ä¸­æ’é™¤ï¼‰ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/vsftpd/user_list
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/vsftpd/ftpusers
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>é‡å¯vsftpdæœåŠ¡</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart vsftpd
</span></span></code></pre></td></tr></table></div></div><h2 id=githubæ“ä½œ>Githubæ“ä½œ</h2><h3 id=é…ç½®ftp_mirror_password>é…ç½®<code>FTP_MIRROR_PASSWORD</code></h3><p>ç‚¹å‡»åšå®¢ä»“åº“çš„Settings->Secrets->Add a new secretï¼ŒNameå¡«å†™<code>FTP_MIRROR_PASSWORD</code>ï¼ŒValueå¡«å†™ç”¨æˆ·å¯†ç ã€‚</p><h3 id=é…ç½®-github-actions>é…ç½® Github actions</h3><p>åœ¨åšå®¢æ ¹ç›®å½•æ–°å»º<code>.github/workflows/gh_pages.yml</code>æ–‡ä»¶ã€‚ä»£ç ï¼ˆ<strong>ä¸æ·»åŠ ç¼“å­˜</strong>ï¼‰å¦‚ä¸‹ï¼šæœ€å¥½ä½¿ç”¨ä¸‹é¢æ·»åŠ äº†ç¼“å­˜çš„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>name: GitHub Page Deploy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>  push:
</span></span><span class=line><span class=cl>    branches:
</span></span><span class=line><span class=cl>      - develop
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  build-deploy:
</span></span><span class=line><span class=cl>    runs-on: ubuntu-latest
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name: Checkout master
</span></span><span class=line><span class=cl>        uses: actions/checkout@v2.3.4
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          submodules: <span class=nb>true</span>  <span class=c1># Fetch Hugo themes (true OR recursive)</span>
</span></span><span class=line><span class=cl>          fetch-depth: <span class=m>0</span>    <span class=c1># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span class=line><span class=cl>      - name: Setup Hugo
</span></span><span class=line><span class=cl>        uses: peaceiris/actions-hugo@v2.5.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          hugo-version: <span class=s1>&#39;latest&#39;</span>
</span></span><span class=line><span class=cl>          extended: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - name: Build Hugo
</span></span><span class=line><span class=cl>        run: hugo --minify
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - name: Deploy Hugo to gh-pages
</span></span><span class=line><span class=cl>        uses: peaceiris/actions-gh-pages@v3.8.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          github_token: <span class=si>${</span><span class=p>{ secrets.GITHUB_TOKEN </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>          PUBLISH_BRANCH: master
</span></span><span class=line><span class=cl>          PUBLISH_DIR: ./public
</span></span><span class=line><span class=cl>        <span class=c1># cname:</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>      - name: Deploy Hugo to Server
</span></span><span class=line><span class=cl>        uses: SamKirkland/FTP-Deploy-Action@4.2.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          server: 104.224.191.88
</span></span><span class=line><span class=cl>          username: admin
</span></span><span class=line><span class=cl>          password: <span class=si>${</span><span class=p>{ secrets.FTP_MIRROR_PASSWORD </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>          local-dir: ./public/
</span></span><span class=line><span class=cl>          server-dir: /var/www/blog/
</span></span></code></pre></td></tr></table></div></div><p><strong>æ·»åŠ ç¼“å­˜ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2.5.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache resources</span><span class=w> </span><span class=c># ç¼“å­˜ resource æ–‡ä»¶åŠ å¿«ç”Ÿæˆé€Ÿåº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=c># æ£€æŸ¥ç…§ç‰‡æ–‡ä»¶å˜åŒ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-${{ hashFiles(&#39;content/**/*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-          </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify --gc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to gh-pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3.8.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># cname:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to Server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>SamKirkland/FTP-Deploy-Action@4.3.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=m>104.224.191.88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.FTP_MIRROR_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>local-dir</span><span class=p>:</span><span class=w> </span><span class=l>./public/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server-dir</span><span class=p>:</span><span class=w> </span><span class=l>/usr/share/nginx/html/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>ç¬¬ä¸‰æ–¹ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>name: GitHub Page
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>    push:
</span></span><span class=line><span class=cl>        branches:
</span></span><span class=line><span class=cl>            - master <span class=c1># master æ›´æ–°è§¦å‘</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>    deploy:
</span></span><span class=line><span class=cl>        runs-on: ubuntu-18.04
</span></span><span class=line><span class=cl>        steps:
</span></span><span class=line><span class=cl>            - uses: actions/checkout@v2
</span></span><span class=line><span class=cl>              with:
</span></span><span class=line><span class=cl>                  submodules: <span class=nb>true</span> <span class=c1># clone submodules</span>
</span></span><span class=line><span class=cl>                  fetch-depth: <span class=m>0</span> <span class=c1># å…‹éš†æ‰€æœ‰å†å²ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - name: Setup Hugo
</span></span><span class=line><span class=cl>              uses: peaceiris/actions-hugo@v2
</span></span><span class=line><span class=cl>              with:
</span></span><span class=line><span class=cl>                  hugo-version: <span class=s2>&#34;0.87.0&#34;</span> <span class=c1># Hugo ç‰ˆæœ¬</span>
</span></span><span class=line><span class=cl>                  extended: <span class=nb>true</span> <span class=c1># hugoæ’ä»¶ç‰ˆ Stackä¸»é¢˜ å¿…é¡»å¯ç”¨</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - name: Cache resources <span class=c1># ç¼“å­˜ resource æ–‡ä»¶åŠ å¿«ç”Ÿæˆé€Ÿåº¦</span>
</span></span><span class=line><span class=cl>              uses: actions/cache@v2
</span></span><span class=line><span class=cl>              with:
</span></span><span class=line><span class=cl>                  path: resources
</span></span><span class=line><span class=cl>                  <span class=c1># æ£€æŸ¥ç…§ç‰‡æ–‡ä»¶å˜åŒ–</span>
</span></span><span class=line><span class=cl>                  key: <span class=si>${</span><span class=p>{ runner.os </span><span class=si>}</span><span class=o>}</span>-hugocache-<span class=si>${</span><span class=p>{ hashFiles(</span><span class=s1>&#39;content/**/*&#39;</span><span class=p>) </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>                  restore-keys: <span class=si>${</span><span class=p>{ runner.os </span><span class=si>}</span><span class=o>}</span>-hugocache-
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - name: Build <span class=c1># ç”Ÿæˆç½‘é¡µ åˆ é™¤æ— ç”¨ resource æ–‡ä»¶ å‰Šå‡ç©ºè¡Œ</span>
</span></span><span class=line><span class=cl>              run: hugo --minify --gc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            - name: Deploy <span class=c1># éƒ¨ç½²åˆ° GitHub Page</span>
</span></span><span class=line><span class=cl>              uses: peaceiris/actions-gh-pages@v3
</span></span><span class=line><span class=cl>              with:
</span></span><span class=line><span class=cl>                  <span class=c1># å¦‚æœåœ¨åŒä¸€ä¸ªä»“åº“ä¸‹ä½¿ç”¨è¯·ä½¿ç”¨ github_token å¹¶æ³¨é‡Š deploy_key</span>
</span></span><span class=line><span class=cl>                  <span class=c1># github_token: ${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span class=line><span class=cl>                  deploy_key: <span class=si>${</span><span class=p>{ secrets.ACTIONS_DEPLOY_KEY </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                  <span class=c1># å¦‚æœåœ¨åŒä¸€ä¸ªä»“åº“è¯·æ³¨é‡Š</span>
</span></span><span class=line><span class=cl>                  external_repository: <span class=c1># ä½ çš„ GitHub page ä»“åº“ example/example.github.io</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                  publish_dir: ./public
</span></span><span class=line><span class=cl>                  user_name: <span class=s2>&#34;github-actions[bot]&#34;</span>
</span></span><span class=line><span class=cl>                  user_email: <span class=s2>&#34;github-actions[bot]@users.noreply.github.com&#34;</span>
</span></span><span class=line><span class=cl>                  full_commit_message: Deploy from <span class=si>${</span><span class=p>{ github.repository </span><span class=si>}</span><span class=o>}</span>@<span class=si>${</span><span class=p>{ github.sha </span><span class=si>}</span><span class=o>}</span> ğŸš€
</span></span></code></pre></td></tr></table></div></div><h2 id=æäº¤æºç >æäº¤æºç </h2><p>åˆå§‹åŒ–gitï¼Œæ–°å»ºå¹¶åˆ‡æ¢åˆ°<code>develop</code>åˆ†æ”¯ï¼Œå°†æºç æäº¤åˆ°<code>develop</code>åˆ†æ”¯ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œgithub actionä¼šè‡ªåŠ¨éƒ¨ç½²blogåˆ°<code>master</code>åˆ†æ”¯å’ŒæœåŠ¡å™¨ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git checkout -b develop
</span></span><span class=line><span class=cl>git remote add origin git@github.com:iwyang/iwyang.github.io.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;å¤‡ä»½æºç &#34;</span>
</span></span><span class=line><span class=cl>git push --force origin develop
</span></span></code></pre></td></tr></table></div></div><p>æœ€ç»ˆéƒ¨ç½²è„šæœ¬ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to gitee...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># backup</span>
</span></span><span class=line><span class=cl>git config --global core.autocrlf <span class=nb>false</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;site backup&#34;</span>
</span></span><span class=line><span class=cl>git push origin develop --force
</span></span></code></pre></td></tr></table></div></div><h2 id=å…‹éš†æºç åˆ°æœ¬åœ°>å…‹éš†æºç åˆ°æœ¬åœ°</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b develop git@github.com:iwyang/iwyang.github.io.git blog --recursive
</span></span></code></pre></td></tr></table></div></div><p>å› ä¸ºä½¿ç”¨<code>Submodule</code>ç®¡ç†ä¸»é¢˜ï¼Œæ‰€ä»¥æœ€åè¦åŠ ä¸Š <code>--recursive</code>ï¼Œå› ä¸ºä½¿ç”¨ git clone å‘½ä»¤é»˜è®¤ä¸ä¼šæ‹‰å–é¡¹ç›®ä¸­çš„å­æ¨¡å—ï¼Œä½ ä¼šå‘ç°ä¸»é¢˜æ–‡ä»¶æ˜¯ç©ºçš„ã€‚ï¼ˆå¦å¤–ä¸€ç§æ–¹æ³•ï¼š<code>git submodule init && git submodule update</code>ï¼‰</p><h3 id=åŒæ­¥æ›´æ–°æºæ–‡ä»¶>åŒæ­¥æ›´æ–°æºæ–‡ä»¶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull origin develop
</span></span></code></pre></td></tr></table></div></div><h3 id=åŒæ­¥ä¸»é¢˜æ–‡ä»¶>åŒæ­¥ä¸»é¢˜æ–‡ä»¶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --remote
</span></span></code></pre></td></tr></table></div></div><p>è¿è¡Œæ­¤å‘½ä»¤åï¼Œ Git å°†ä¼šè‡ªåŠ¨è¿›å…¥å­æ¨¡å—ç„¶åæŠ“å–å¹¶æ›´æ–°ï¼Œæ›´æ–°åé‡æ–°æäº¤ä¸€éï¼Œå­æ¨¡å—æ–°çš„è·Ÿè¸ªä¿¡æ¯ä¾¿ä¹Ÿä¼šè®°å½•åˆ°ä»“åº“ä¸­ã€‚è¿™æ ·å°±ä¿è¯ä»“åº“ä¸»é¢˜æ˜¯æœ€æ–°çš„ã€‚</p><h2 id=githubgiteeæœåŠ¡å™¨ä¸‰çº¿éƒ¨ç½²hexo>githubã€giteeã€æœåŠ¡å™¨ä¸‰çº¿éƒ¨ç½²hexo</h2><p>å°†hexoä¸‰çº¿éƒ¨ç½²ï¼ˆç”±äºéƒ¨ç½²hexoè¾ƒæ…¢ï¼Œå¦‚æœå•ç‹¬ä¸º<code>gitee</code>å»ºç«‹ä¸€ä¸ª<code>workflows</code>ï¼Œgiteeä¼šå…ˆéƒ¨ç½²å®Œæˆï¼Œè¿™æ ·æ— æ³•åŒæ­¥ï¼›hugoå¯ä»¥å•ç‹¬ä¸º<code>gitee</code>å»ºç«‹ä¸€ä¸ª<code>workflows</code>ï¼Œå› ä¸º<code>hugo</code>éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¼šå…ˆäºéƒ¨ç½²åˆ°<code>gitee</code>ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hexo Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># åªç›‘å¬ source åˆ†æ”¯çš„æ”¹åŠ¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>POST_ASSET_IMAGE_CDN</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-and-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># è·å–åšå®¢æºç å’Œä¸»é¢˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout theme repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=l>jerryc127/hexo-theme-butterfly</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ref</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>themes/butterfly</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># è¿™é‡Œç”¨çš„æ˜¯ Node.js 14.x</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Node.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;14&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># è®¾ç½® yarn ç¼“å­˜ï¼Œnpm çš„è¯å¯ä»¥çœ‹ actions/cache@v2 çš„æ–‡æ¡£ç¤ºä¾‹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Get yarn cache directory path</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>yarn-cache-dir-path</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>echo &#34;::set-output name=dir::$(yarn cache dir)&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Use yarn cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v2.1.6</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>yarn-cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>${{ steps.yarn-cache-dir-path.outputs.dir }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-yarn-${{ hashFiles(&#39;**/yarn.lock&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            ${{ runner.os }}-yarn-</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># å®‰è£…ä¾èµ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          yarn install --prefer-offline --frozen-lockfile</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ä»ä¹‹å‰è®¾ç½®çš„ secret è·å–éƒ¨ç½²ç§é’¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up environment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>DEPLOY_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          sudo timedatectl set-timezone &#34;Asia/Shanghai&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          mkdir -p ~/.ssh
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;$DEPLOY_KEY&#34; &gt; ~/.ssh/id_rsa
</span></span></span><span class=line><span class=cl><span class=sd>          chmod 600 ~/.ssh/id_rsa
</span></span></span><span class=line><span class=cl><span class=sd>          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ç”Ÿæˆå¹¶éƒ¨ç½²</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          npx hexo deploy --generate
</span></span></span><span class=line><span class=cl><span class=sd>          </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hexo to Server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>SamKirkland/FTP-Deploy-Action@4.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=m>104.224.191.88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.FTP_MIRROR_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>local-dir</span><span class=p>:</span><span class=w> </span><span class=l>./public/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server-dir</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/blog/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync to Gitee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>wearerequired/git-mirror-action@master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„åœ¨ Settings-&gt;Secrets é…ç½® GITEE_RSA_PRIVATE_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SSH_PRIVATE_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_RSA_PRIVATE_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>source-repo</span><span class=p>:</span><span class=w> </span><span class=l>git@github.com:iwyang/iwyang.github.io.git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>destination-repo</span><span class=p>:</span><span class=w> </span><span class=l>git@gitee.com:iwyang/iwyang.git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Gitee Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>yanglbme/gitee-pages-action@main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-username</span><span class=p>:</span><span class=w> </span><span class=l>iwyang</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„åœ¨ Settings-&gt;Secrets é…ç½® GITEE_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“ï¼Œä»“åº“åä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œè¯·å‡†ç¡®å¡«å†™ï¼Œå¦åˆ™ä¼šå‡ºé”™</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-repo</span><span class=p>:</span><span class=w> </span><span class=l>iwyang/iwyang</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># è¦éƒ¨ç½²çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ masterï¼Œè‹¥æ˜¯å…¶ä»–åˆ†æ”¯ï¼Œåˆ™éœ€è¦æŒ‡å®šï¼ˆæŒ‡å®šçš„åˆ†æ”¯å¿…é¡»å­˜åœ¨ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=githubgiteeæœåŠ¡å™¨ä¸‰çº¿éƒ¨ç½²hugo>githubã€giteeã€æœåŠ¡å™¨ä¸‰çº¿éƒ¨ç½²hugo</h2><p>ç”±äºéƒ¨ç½²åˆ°<code>github</code>å’ŒæœåŠ¡å™¨å…ˆäº<code>gitee</code>ï¼Œæ‰€æœ‰å¯ä»¥å»ºç«‹ä¸¤ä¸ª<code>workflows</code>ã€‚</p><ol><li>æ ¹ç›®å½•æ–°å»º<code>.github/workflows/deploy.yml</code>ï¼ˆç”¨äºéƒ¨ç½²åˆ°<code>github</code>å’ŒæœåŠ¡å™¨ï¼‰</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>name: GitHub Page Deploy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>  push:
</span></span><span class=line><span class=cl>    branches:
</span></span><span class=line><span class=cl>      - develop
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  build-deploy:
</span></span><span class=line><span class=cl>    runs-on: ubuntu-latest
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name: Checkout master
</span></span><span class=line><span class=cl>        uses: actions/checkout@v2.3.4
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          submodules: <span class=nb>true</span>  <span class=c1># Fetch Hugo themes (true OR recursive)</span>
</span></span><span class=line><span class=cl>          fetch-depth: <span class=m>0</span>    <span class=c1># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span class=line><span class=cl>      - name: Setup Hugo
</span></span><span class=line><span class=cl>        uses: peaceiris/actions-hugo@v2.5.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          hugo-version: <span class=s1>&#39;latest&#39;</span>
</span></span><span class=line><span class=cl>          extended: <span class=nb>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - name: Build Hugo
</span></span><span class=line><span class=cl>        run: hugo --minify
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - name: Deploy Hugo to gh-pages
</span></span><span class=line><span class=cl>        uses: peaceiris/actions-gh-pages@v3.8.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          github_token: <span class=si>${</span><span class=p>{ secrets.GITHUB_TOKEN </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>          PUBLISH_BRANCH: master
</span></span><span class=line><span class=cl>          PUBLISH_DIR: ./public
</span></span><span class=line><span class=cl>        <span class=c1># cname:</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>      - name: Deploy Hugo to Server
</span></span><span class=line><span class=cl>        uses: SamKirkland/FTP-Deploy-Action@4.1.0
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          server: 104.224.191.88
</span></span><span class=line><span class=cl>          username: admin
</span></span><span class=line><span class=cl>          password: <span class=si>${</span><span class=p>{ secrets.FTP_MIRROR_PASSWORD </span><span class=si>}</span><span class=o>}</span>
</span></span><span class=line><span class=cl>          local-dir: ./public/
</span></span><span class=line><span class=cl>          server-dir: /var/www/blog/
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>æ ¹ç›®å½•æ–°å»º<code>.github/workflows/Sync to Gitee.yml</code>ï¼ˆç”¨äºéƒ¨ç½²åˆ°<code>gitee</code>ï¼‰</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync to Gitee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Sync to Gitee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>wearerequired/git-mirror-action@master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„åœ¨ Settings-&gt;Secrets é…ç½® GITEE_RSA_PRIVATE_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SSH_PRIVATE_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_RSA_PRIVATE_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>source-repo</span><span class=p>:</span><span class=w> </span><span class=l>git@github.com:iwyang/iwyang.github.io.git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>destination-repo</span><span class=p>:</span><span class=w> </span><span class=l>git@gitee.com:iwyang/iwyang.git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Gitee Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>yanglbme/gitee-pages-action@main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-username</span><span class=p>:</span><span class=w> </span><span class=l>iwyang</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„åœ¨ Settings-&gt;Secrets é…ç½® GITEE_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITEE_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“ï¼Œä»“åº“åä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œè¯·å‡†ç¡®å¡«å†™ï¼Œå¦åˆ™ä¼šå‡ºé”™</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>gitee-repo</span><span class=p>:</span><span class=w> </span><span class=l>iwyang/iwyang</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># è¦éƒ¨ç½²çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ masterï¼Œè‹¥æ˜¯å…¶ä»–åˆ†æ”¯ï¼Œåˆ™éœ€è¦æŒ‡å®šï¼ˆæŒ‡å®šçš„åˆ†æ”¯å¿…é¡»å­˜åœ¨ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=è§£å†³é—®é¢˜>è§£å†³é—®é¢˜</h2><p>1.<strong>Error: FTPError: 550 Remove directory operation failed</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>rm -rf /var/www/blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>sudo mkdir -p /var/www/blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>sudo chown -R $USER:$USER /var/www/blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>sudo chmod -R 755 /var/www</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>sudo chmod 755 /var/www/blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>sudo chown -R admin</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>sudo systemctl restart vsftpd</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><p><a class=link href=https://eliyar.biz/how_to_build_hexo_blog/ target=_blank rel=noopener>1.ä» 0 å¼€å§‹æ­å»º hexo åšå®¢</a></p><p><a class=link href=https://blog.yizhilee.com/post/letsencrypt-certificate/ target=_blank rel=noopener>2.ä¸ºåšå®¢æ·»åŠ  Letâ€™s Encrypt å…è´¹è¯ä¹¦</a></p><p><a class=link href=https://github.com/SamKirkland target=_blank rel=noopener>3.SamKirkland</a>/<a class=link href=https://github.com/SamKirkland/FTP-Deploy-Action target=_blank rel=noopener>FTP-Deploy-Action</a></p><p><a class=link href=https://blog.csdn.net/weixin_43782998/article/details/109163384 target=_blank rel=noopener>4.vsftpdå‚æ•°è®¾ç½®ï¼Œå¹¶å…è®¸rootè´¦æˆ·ç™»å½•ftp</a></p><p><a class=link href=https://blog.zhixuan.dev/posts/ce103e3b/ target=_blank rel=noopener>5.Stackä¸»é¢˜ + GitHub Action</a></p></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: æœåŠ¡å™¨"><span>#æœåŠ¡å™¨</span>
</a><a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span>
</a><a href=/tags/hexo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hexo"><span>#hexo</span>
</a><a href=/tags/github/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: github"><span>#github</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/GitHub%20Actions%e5%88%a9%e7%94%a8FTP&&amp;rsync%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2hugo-hexo%e5%88%b0Centos%208/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2021-08-09T00:54:56Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2021-08-09</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><p>æœ€è¿‘ä¸€ä¸¤å¤©åˆåœ¨æŠ˜è…¾ä¸»é¢˜ï¼Œè¿™å›æ˜¯<a class=link href=https://git.io/hugopapermod target=_blank rel=noopener>Hugo-PaperMod</a>ä¸»é¢˜ï¼Œè™½ç„¶è¿˜æ²¡æ‰“ç®—æ¢ï¼Œä½†è¿˜æ˜¯è®°å½•ä¸€ä¸‹å§ã€‚</p><h2 id=åŸºæœ¬æ“ä½œ>åŸºæœ¬æ“ä½œ</h2><p>æŸ¥çœ‹æ–‡æ¡£ï¼š<strong><a class=link href=https://github.com/adityatelange/hugo-PaperMod/wiki/Features target=_blank rel=noopener>PaperMod - Features</a></strong></p><h2 id=configymlé…ç½®><code>config.yml</code>é…ç½®</h2><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæŠŠ<code>baseURL</code>è®¾ç½®æˆ<code>"/"</code>ï¼Œé¡µé¢é¡¶éƒ¨å¯¼èˆªå¤±æ•ˆï¼Œå¦‚æœè¦ç”¨é¡¶éƒ¨å¯¼èˆªï¼Œå°±è®¾ç½®ä¸º<code>baseURL: "https://bore.vip"</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>baseURL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Bore&#39;s Notes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>paginate</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>PaperMod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>defaultContentLanguage</span><span class=p>:</span><span class=w> </span><span class=l>zh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>permalinks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>posts</span><span class=p>:</span><span class=w> </span><span class=l>/archives/:slug/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>enableInlineShortcodes</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>enableRobotsTXT</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>buildDrafts</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>buildFuture</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>buildExpired</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>enableEmoji</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># googleAnalytics: UA-123-45</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>minify</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableXML</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>minifyOutput</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>main</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>é¦–é¡µ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>archives</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>å½’æ¡£</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/archives/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>categories</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>åˆ†ç±»</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/categories/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>30</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>æ ‡ç­¾</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/tags/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>40</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>about</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>å…³äº</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/about/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>50</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>search</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>æœç´¢</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/search/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>outputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>home</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>HTML</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>RSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>JSON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w> </span><span class=l>production</span><span class=w> </span><span class=c># to enable google analytics, opengraph, twitter-cards and schema.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;æœ¬ç«™ä¸»è¦ç”¨æ¥æ”¶é›†æ•´ç†èµ„æ–™ã€è®°å½•ç¬”è®°ï¼Œæ–¹ä¾¿è‡ªå·±æŸ¥è¯¢ä½¿ç”¨ã€‚&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>author</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># author: [&#34;Me&#34;, &#34;You&#34;] # multiple authors</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>defaultTheme</span><span class=p>:</span><span class=w> </span><span class=l>auto</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableThemeToggle</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>DateFormat</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2006-01-02&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowShareButtons</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowReadingTime</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>disableSpecial1stPost</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>displayFullLangName</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowPostNavLinks</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowBreadCrumbs</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowCodeCopyButtons</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ShowToc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comments</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>images</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;papermod-cover.png&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mainSections</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>posts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>profileMode</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>PaperMod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>imageUrl</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;#&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>imageTitle</span><span class=p>:</span><span class=w> </span><span class=l>my image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># imageWidth: 120</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># imageHeight: 120</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>buttons</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Archives</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>archives</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># homeInfoParams:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Title: &#34;PaperMod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Content: &gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Welcome to demo of hugo&#39;s theme PaperMod.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># - **PaperMod** is a simple but fast and responsive theme with useful feature-set that enhances UX.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># - Do give a ğŸŒŸ on Github !</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># - PaperMod is based on theme [Paper](https://github.com/nanxiaobei/hugo-paper).</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>socialIcons</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>github</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/adityatelange/hugo-PaperMod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>KoFi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://ko-fi.com/adityatelange&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RsS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;index.xml&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>editPost</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/iwyang/iwyang.github.io/tree/develop/content&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>Text</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Suggest Changes&#34;</span><span class=w> </span><span class=c># edit text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>appendFilePath</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># to append file path to Edit link</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># label:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#     text: &#34;Home&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#     icon: icon.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#     iconHeight: 35</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># analytics:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#     google:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#         SiteVerificationTag: &#34;XYZabc&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>assets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>favicon</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/favicon.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>favicon16x16</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/favicon.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>favicon32x32</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/favicon.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>apple_touch_icon</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/favicon.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>safari_pinned_tab</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/favicon.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cover</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>hidden</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># hide everywhere but not in structured data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>hiddenInList</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># hide on list pages and home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>hiddenInSingle</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># hide on single page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>fuseOpts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>isCaseSensitive</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>shouldSort</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>location</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>distance</span><span class=p>:</span><span class=w> </span><span class=m>1000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>threshold</span><span class=p>:</span><span class=w> </span><span class=m>0.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>minMatchCharLength</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>keys</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;title&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;permalink&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;summary&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;content&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>taxonomies</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>category</span><span class=p>:</span><span class=w> </span><span class=l>categories</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>series</span><span class=p>:</span><span class=w> </span><span class=l>series</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>markup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>goldmark</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>renderer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>unsafe</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#     highlight:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         # anchorLineNos: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         codeFences: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         guessSyntax: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         lineNos: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         # noClasses: false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>#         style: monokai</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>privacy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>vimeo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>simple</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>twitter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enableDNT</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>simple</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>instagram</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>simple</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>youtube</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>privacyEnhanced</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>instagram</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disableInlineCSS</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>twitter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disableInlineCSS</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=archetypesé»˜è®¤æ¨¡æ¿><code>archetypes</code>é»˜è®¤æ¨¡æ¿</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;My 1st post&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=ld>2020-09-15T11:30:03</span><span class=m>+00</span><span class=p>:</span><span class=m>00</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># weight: 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># aliases: [&#34;/first&#34;]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;first&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Me&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># author: [&#34;Me&#34;, &#34;You&#34;] # multiple authors</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>showToc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>TocOpen</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>hidemeta</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>comments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Desc Text.&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>canonicalURL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://canonical.url/to/page&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>disableHLJS</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># to disable highlightjs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>disableShare</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>disableHLJS</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>hideSummary</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>searchHidden</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>ShowReadingTime</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>ShowBreadCrumbs</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>ShowPostNavLinks</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>cover</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;image path/url&gt;&#34;</span><span class=w> </span><span class=c># image path/url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>alt</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;alt text&gt;&#34;</span><span class=w> </span><span class=c># alt text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>caption</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;text&gt;&#34;</span><span class=w> </span><span class=c># display caption under cover</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>relative</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># when using page bundles set this to true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hidden</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># only hide on current single page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>editPost</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/&lt;path_to_repo&gt;/content&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>Text</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Suggest Changes&#34;</span><span class=w> </span><span class=c># edit text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>appendFilePath</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># to append file path to Edit link</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>è‡ªå®šä¹‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ replace .TranslationBaseName &#34;</span>-<span class=s2>&#34; &#34;</span><span class=w> </span><span class=s2>&#34; | title }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>slug</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>date</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>lastmod</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>showToc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=åŠ å…¥walineè¯„è®ºç³»ç»Ÿ>åŠ å…¥<code>Waline</code>è¯„è®ºç³»ç»Ÿ</h2><p>æ ¹ç›®å½•æ–°å»º<code>layouts\partials\comments.html</code>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>&lt;script <span class=nv>src</span><span class=o>=</span><span class=s2>&#34;https://cdn.jsdelivr.net/npm/@waline/client&#34;</span>&gt;&lt;/script&gt;
</span></span><span class=line><span class=cl>&lt;div <span class=nv>id</span><span class=o>=</span><span class=s2>&#34;waline&#34;</span>&gt;&lt;/div&gt;
</span></span><span class=line><span class=cl>&lt;script&gt;
</span></span><span class=line><span class=cl>  new Waline<span class=o>({</span>
</span></span><span class=line><span class=cl>    el: <span class=s1>&#39;#waline&#39;</span>,
</span></span><span class=line><span class=cl>    serverURL: <span class=s1>&#39;https://your-domain.vercel.app&#39;</span>,
</span></span><span class=line><span class=cl>    copyright: true,
</span></span><span class=line><span class=cl>    login: <span class=s1>&#39;enable&#39;</span>,
</span></span><span class=line><span class=cl>    placeholder: <span class=s1>&#39;æ¬¢è¿è¯„è®º&#39;</span>,
</span></span><span class=line><span class=cl>    dark: <span class=s1>&#39;.dark&#39;</span>,
</span></span><span class=line><span class=cl>	requiredMeta: <span class=o>[</span><span class=s1>&#39;nick&#39;</span>, <span class=s1>&#39;mail&#39;</span><span class=o>]</span>,
</span></span><span class=line><span class=cl>  <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>&lt;/script&gt;
</span></span></code></pre></td></tr></table></div></div><p>ç½‘ä¸Šåˆ«äººé…ç½®ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=nt>Waline</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>if</span> <span class=nc>.Site.Params.waline.enable</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span> <span class=nt>src</span><span class=o>=</span><span class=s2>&#34;https://cdn.jsdelivr.net/npm/@waline/client@{{ .Site.Params.waline.version }}/dist/Waline.min.js&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>div</span> <span class=nt>class</span><span class=o>=</span><span class=s2>&#34;pagination__title&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nt>span</span> <span class=nt>class</span><span class=o>=</span><span class=s2>&#34;pagination__title-h&#34;</span>
</span></span><span class=line><span class=cl>        <span class=o>&gt;&lt;</span><span class=nt>span</span> <span class=nt>class</span><span class=o>=</span><span class=s2>&#34;vcount&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>span</span><span class=o>&gt;</span><span class=nt>ç²¾å½©è¯„è®º</span><span class=o>&lt;/</span><span class=nt>span</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nt>hr</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>div</span> <span class=nt>id</span><span class=o>=</span><span class=s2>&#34;waline&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>var</span> <span class=nt>locale</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>admin</span><span class=o>:</span> <span class=s2>&#34;á¹¼erified&#34;</span><span class=o>,</span> <span class=c1>// åšä¸»æ ‡è¯†</span>
</span></span><span class=line><span class=cl>        <span class=na>busy</span><span class=o>:</span> <span class=s2>&#34;æ“ä½œé¢‘ç¹ï¼Œè¯·ç¨å€™å†è¯•...&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>cancel</span><span class=o>:</span> <span class=s2>&#34;å–æ¶ˆ&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>cancelReply</span><span class=o>:</span> <span class=s2>&#34;å–æ¶ˆå›å¤&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>comments</span><span class=o>:</span> <span class=s2>&#34;è¯„è®º&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>confirm</span><span class=o>:</span> <span class=s2>&#34;ç¡®è®¤&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>continue</span><span class=o>:</span> <span class=s2>&#34;ç»§ç»­&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>days</span><span class=o>:</span> <span class=s2>&#34;å¤©å‰&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>emoji</span><span class=o>:</span> <span class=s2>&#34;è¡¨æƒ…&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>expand</span><span class=o>:</span> <span class=s2>&#34;æŸ¥çœ‹æ›´å¤š...&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>hours</span><span class=o>:</span> <span class=s2>&#34;å°æ—¶å‰&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>link</span><span class=o>:</span> <span class=s2>&#34;ç½‘å€&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>login</span><span class=o>:</span> <span class=s2>&#34;ç™»å½•&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>logout</span><span class=o>:</span> <span class=s2>&#34;é€€å‡º&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>mail</span><span class=o>:</span> <span class=s2>&#34;é‚®ç®±&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>mailFail</span><span class=o>:</span> <span class=s2>&#34;è¯·å¡«å†™æ­£ç¡®çš„é‚®ä»¶åœ°å€&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>minutes</span><span class=o>:</span> <span class=s2>&#34;åˆ†é’Ÿå‰&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>more</span><span class=o>:</span> <span class=s2>&#34;åŠ è½½æ›´å¤š...&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>nick</span><span class=o>:</span> <span class=s2>&#34;æ˜µç§°&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>nickFail</span><span class=o>:</span> <span class=s2>&#34;æ˜µç§°ä¸èƒ½å°‘äº 3 ä¸ªå­—ç¬¦&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>now</span><span class=o>:</span> <span class=s2>&#34;åˆšåˆš&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>placeholder</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Â·æ”¯æŒ åŒ¿åè¯„è®º\nÂ·æ”¯æŒ Markdown\nÂ·æ”¯æŒ Twimoji\nÂ·æ”¯æŒ ä»£ç å—è¯­æ³•é«˜äº®\nÂ·ä¸æ”¶é›† UserAgent&#34;</span><span class=o>,</span> <span class=c1>// è¯„è®ºæ¡†æç¤ºè¯­</span>
</span></span><span class=line><span class=cl>        <span class=na>preview</span><span class=o>:</span> <span class=s2>&#34;é¢„è§ˆ&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>reply</span><span class=o>:</span> <span class=s2>&#34;å›å¤&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>seconds</span><span class=o>:</span> <span class=s2>&#34;ç§’å‰&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>sofa</span><span class=o>:</span> <span class=s2>&#34;æ¥å‘è¯„è®ºå§ï½&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>submit</span><span class=o>:</span> <span class=s2>&#34;æäº¤&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>uploadDone</span><span class=o>:</span> <span class=s2>&#34;ä¼ è¾“å®Œæˆï¼&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>uploading</span><span class=o>:</span> <span class=s2>&#34;æ­£åœ¨ä¼ è¾“...&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>word</span><span class=o>:</span> <span class=s2>&#34;å­—&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>wordHint</span><span class=o>:</span> <span class=s2>&#34;è¯„è®ºå­—æ•°åº”åœ¨ $0 åˆ° $1 å­—ä¹‹é—´ï¼\nå½“å‰å­—æ•°ï¼š$2&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-98&#34;</span><span class=o>:</span> <span class=s2>&#34;Waline åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ av-min.js ç‰ˆæœ¬&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-99&#34;</span><span class=o>:</span> <span class=s2>&#34;Waline åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ init ä¸­çš„`el`å…ƒç´ .&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-100&#34;</span><span class=o>:</span> <span class=s2>&#34;Waline åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä½ çš„ AppId å’Œ AppKey.&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-140&#34;</span><span class=o>:</span> <span class=s2>&#34;ä»Šæ—¥ API è°ƒç”¨æ€»æ¬¡æ•°å·²è¶…è¿‡å¼€å‘ç‰ˆé™åˆ¶.&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-401&#34;</span><span class=o>:</span> <span class=s2>&#34;æœªç»æˆæƒçš„æ“ä½œï¼Œè¯·æ£€æŸ¥ä½ çš„ AppId å’Œ AppKey.&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;code-403&#34;</span><span class=o>:</span> <span class=s2>&#34;è®¿é—®è¢« API åŸŸåç™½åå•æ‹’ç»ï¼Œè¯·æ£€æŸ¥ä½ çš„å®‰å…¨åŸŸåè®¾ç½®.&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nt>new</span> <span class=nt>Waline</span><span class=o>(</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>el</span><span class=o>:</span> <span class=s2>&#34;#waline&#34;</span><span class=o>,</span> <span class=c1>// åˆå§‹åŒ– Waline æŒ‚è½½å™¨</span>
</span></span><span class=line><span class=cl>        <span class=na>avatarCDN</span><span class=o>:</span> <span class=s2>&#34;https://sdn.geekzu.org/avatar/&#34;</span><span class=o>,</span> <span class=c1>// è®¾ç½® Gravatar å¤´åƒ CDN åœ°å€</span>
</span></span><span class=line><span class=cl>        <span class=na>copyright</span><span class=o>:</span> <span class=n>true</span><span class=o>,</span> <span class=c1>// Waline ç‰ˆæƒä¿¡æ¯</span>
</span></span><span class=line><span class=cl>        <span class=na>dark</span><span class=o>:</span> <span class=s2>&#34;auto&#34;</span><span class=o>,</span> <span class=c1>// é€‚é…æš—é»‘æ¨¡å¼</span>
</span></span><span class=line><span class=cl>        <span class=na>highlight</span><span class=o>:</span> <span class=n>true</span><span class=o>,</span> <span class=c1>// ä»£ç é«˜äº®</span>
</span></span><span class=line><span class=cl>        <span class=n>locale</span><span class=o>,</span> <span class=c1>// è‡ªå®šä¹‰è¯­è¨€ i18nï¼Œè¯·åœ¨ä¸Šé¢ locale ä¸­ä¿®æ”¹å†…å®¹</span>
</span></span><span class=line><span class=cl>        <span class=na>requiredMeta</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;nick&#34;</span><span class=o>,</span> <span class=s2>&#34;mail&#34;</span><span class=p>]</span><span class=o>,</span> <span class=c1>// å¿…å¡«é¡¹</span>
</span></span><span class=line><span class=cl>        <span class=na>serverURL</span><span class=o>:</span> <span class=s2>&#34;https://tcb.eallion.com/waline&#34;</span><span class=o>,</span> <span class=c1>// Waline çš„æœåŠ¡ç«¯åœ°å€ï¼Œæœ«å°¾å‹¿åŠ  â€œ/â€</span>
</span></span><span class=line><span class=cl>        <span class=na>visitor</span><span class=o>:</span> <span class=n>true</span><span class=o>,</span> <span class=c1>// å¼€å¯è®¿é—®é‡ç»Ÿè®¡</span>
</span></span><span class=line><span class=cl>        <span class=na>wordLimit</span><span class=o>:</span> <span class=mi>0</span><span class=o>,</span> <span class=c1>// è¯„è®ºå­—æ•°é™åˆ¶ï¼Œ0 ä¸ºæ— é™åˆ¶</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>end</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=nt>Twikoo</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>if</span> <span class=nc>.Site.Params.twikoo.enable</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>div</span> <span class=nt>class</span><span class=o>=</span><span class=s2>&#34;pagination__title&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nt>span</span> <span class=nt>class</span><span class=o>=</span><span class=s2>&#34;pagination__title-h&#34;</span><span class=o>&gt;</span><span class=nt>ç²¾å½©è¯„è®º</span><span class=o>&lt;/</span><span class=nt>span</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nt>hr</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>div</span> <span class=nt>id</span><span class=o>=</span><span class=s2>&#34;tcomment&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span> <span class=nt>src</span><span class=o>=</span><span class=s2>&#34;https://cdn.jsdelivr.net/npm/twikoo@{{ .Site.Params.twikoo.version }}/dist/twikoo.all.min.js&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=o>&lt;</span><span class=nt>script</span><span class=o>&gt;</span><span class=nt>window</span><span class=nc>.TWIKOO_MAGIC_PATH</span><span class=o>=</span><span class=s2>&#34;å…±ç”¨è¯„è®ºåŒºçš„åç§°&#34;</span><span class=o>&lt;/</span><span class=nt>script</span><span class=o>&gt;</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>twikoo</span><span class=nc>.init</span><span class=o>(</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>envId</span><span class=o>:</span> <span class=s2>&#34;eallion-8gkunp4re49bae66&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>el</span><span class=o>:</span> <span class=s2>&#34;#tcomment&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>path</span><span class=o>:</span> <span class=s1>&#39;window.TWIKOO_MAGIC_PATH||window.location.pathname&#39;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>onCommentLoaded</span><span class=o>:</span> <span class=n>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=err>$</span><span class=o>(</span><span class=s2>&#34;.tk-content img:not(.tk-avatar-img)&#34;</span><span class=o>)</span><span class=nc>.each</span><span class=o>(</span><span class=nt>function</span> <span class=o>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>var</span> <span class=nt>_b</span> <span class=o>=</span> <span class=err>$</span><span class=o>(</span><span class=s2>&#34;&lt;a&gt;&lt;/a&gt;&#34;</span><span class=o>)</span><span class=nc>.attr</span><span class=o>(</span><span class=s2>&#34;href&#34;</span><span class=o>,</span> <span class=nt>this</span><span class=nc>.src</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=err>$</span><span class=o>(</span><span class=nt>this</span><span class=o>)</span><span class=nc>.wrap</span><span class=o>(</span><span class=nt>_b</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=err>$</span><span class=o>(</span><span class=s2>&#34;.tk-content a[rel!=link]:has(img)&#34;</span><span class=o>)</span><span class=nc>.slimbox</span><span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>end</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=nt>DisqusJS</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>if</span> <span class=nc>.Site.Params.disqus.enable</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>div</span> <span class=nt>id</span><span class=o>=</span><span class=s2>&#34;disqus_thread&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>if</span> <span class=nc>.Site.Params.disqus.proxy</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span> <span class=nt>src</span><span class=o>=</span><span class=s2>&#34;https://cdn.jsdelivr.net/npm/disqusjs@{{ .Site.Params.disqus.version }}/dist/disqus.js&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>var</span> <span class=nt>dsqjs</span> <span class=o>=</span> <span class=nt>new</span> <span class=nt>DisqusJS</span><span class=o>(</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>shortname</span><span class=o>:</span> <span class=s2>&#34;eallion&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>siteName</span><span class=o>:</span> <span class=s2>&#34;{{ .Site.Params.title }}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>identifier</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;{{ if .Params.identifier }}{{ trim .Params.identifier &#34;/&#34; }}{{ else }}{{ trim .RelPermalink &#34;/&#34; }}{{ end }}&#39;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=ni>url</span><span class=o>:</span> <span class=s1>&#39;{{ if .Params.identifier }}&#34;{{ trim .Site.BaseURL &#34;/&#34; }}{{ .Params.identifier }}&#34;{{ else }}{{ .Permalink }}{{ end }}&#39;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>title</span><span class=o>:</span> <span class=s2>&#34;{{ .Title }}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>api</span><span class=o>:</span> <span class=s2>&#34;https://disqus.skk.moe/disqus/&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>apikey</span><span class=o>:</span> <span class=s2>&#34;fF9m3DwDSmNQ2g5DIpuWElDaQTx1ofpMSSW8JeKaB2loVBExeInmMbaEGeLs7lOL&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>admin</span><span class=o>:</span> <span class=s2>&#34;eallion&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>adminLabel</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=na>nocomment</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>else</span> <span class=o>-</span><span class=p>}}</span> <span class=p>{{</span><span class=o>-</span> <span class=err>$</span><span class=nt>script</span> <span class=nd>:</span><span class=o>=</span> <span class=nt>printf</span> <span class=err>`</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span> <span class=nt>defer</span> <span class=nt>src</span><span class=o>=</span><span class=s2>&#34;https://%s.disqus.com/embed.js&#34;</span><span class=o>&gt;&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=err>`</span> <span class=nc>.Site.Params.comment.disqus.shortname</span> <span class=o>-</span><span class=p>}}</span> <span class=p>{{</span><span class=o>-</span> <span class=nt>end</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>noscript</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>Please</span> <span class=nt>enable</span> <span class=nt>JavaScript</span> <span class=nt>to</span> <span class=nt>view</span> <span class=nt>the</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nt>a</span> <span class=nt>href</span><span class=o>=</span><span class=s2>&#34;https://disqus.com/?ref_noscript&#34;</span><span class=o>&gt;</span><span class=nt>comments</span> <span class=nt>powered</span> <span class=nt>by</span> <span class=nt>Disqus</span><span class=nc>.</span><span class=o>&lt;/</span><span class=nt>a</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=nt>noscript</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>end</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=nt>Utterances</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>if</span> <span class=nc>.Site.Params.utterances.enable</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nt>script</span>
</span></span><span class=line><span class=cl>    <span class=nt>src</span><span class=o>=</span><span class=s2>&#34;https://utteranc.es/client.js&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>repo</span><span class=o>=</span><span class=s2>&#34;eallion/blog&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>issueterm</span><span class=o>=</span><span class=s2>&#34;url&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>label</span><span class=o>=</span><span class=s2>&#34;Comments&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>theme</span><span class=o>=</span><span class=s2>&#34;github-light&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>crossorigin</span><span class=o>=</span><span class=s2>&#34;anonymous&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>async</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&lt;/</span><span class=nt>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=nt>end</span> <span class=o>-</span><span class=p>}}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æ›´æ”¹åˆ†ç±»æ ‡ç­¾æ˜¾ç¤ºä¸­æ–‡>æ›´æ”¹åˆ†ç±»ã€æ ‡ç­¾æ˜¾ç¤ºä¸­æ–‡</h2><ol><li><code>content</code>ç›®å½•ä¸‹æ–°å»º<code>categories\_index.md</code>:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;åˆ†ç±»&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li><code>content</code>ç›®å½•ä¸‹æ–°å»º<code>tags\_index.md</code>:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;æ ‡ç­¾&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li><code>posts</code>ç›®å½•ä¸‹æ–°å»º<code>posts\_index.md</code>:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;æ–‡ç« &#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://github.com/adityatelange/hugo-PaperMod/ target=_blank rel=noopener>1.hugo-PaperMod</a></li><li><a class=link href=https://404gle.cn/ target=_blank rel=noopener>2.Ä€KURAI&rsquo;s</a></li><li><a class=link href=https://github.com/akuraito/blog target=_blank rel=noopener>3.akuraito/blog</a></li></ul></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/hugo-papermod%e4%b8%bb%e9%a2%98%e9%85%8d%e7%bd%ae%e4%b8%8e%e4%bd%bf%e7%94%a8/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2021-07-24T01:15:26Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2021-07-24</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T18:49:55+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><h2 id=ä¿®æ”¹æ–‡ä»¶å>ä¿®æ”¹æ–‡ä»¶å</h2><p>éå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.md</code> æ–‡ä»¶ï¼Œä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ï¼Œå¹¶å°†æ–‡ä»¶ç§»åŠ¨è¿›å»é‡å‘½åä¸º <code>index.md</code></p><p>æ‚¨å¯ä»¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º <code>batch_convert.sh</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># éå†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ .md æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=k>for</span> file in *.md<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=c1># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ˆé˜²æ­¢æ²¡æœ‰ md æ–‡ä»¶æ—¶æŠ¥é”™ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=o>[</span> -e <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2>&#34;</span> <span class=o>]</span> <span class=o>||</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 1. è·å–æ–‡ä»¶åï¼ˆä¸å¸¦æ‰©å±•åï¼‰ï¼Œä¾‹å¦‚å°† &#34;A.md&#34; è½¬æ¢ä¸º &#34;A&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>dir_name</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>file</span><span class=p>%.*</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># æ’é™¤ index.md è‡ªèº«ï¼ˆé˜²æ­¢é€’å½’å¤„ç†æˆ–é”™è¯¯åˆ›å»º index æ–‡ä»¶å¤¹ï¼‰</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$dir_name</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;index&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=k>continue</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 2. åˆ›å»ºåŒåæ–‡ä»¶å¤¹ï¼ˆå¦‚æœæ–‡ä»¶å¤¹å·²å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™ï¼‰</span>
</span></span><span class=line><span class=cl>    mkdir -p <span class=s2>&#34;</span><span class=nv>$dir_name</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 3. å°†æ–‡ä»¶å¤åˆ¶åˆ°æ–‡ä»¶å¤¹ä¸­å¹¶é‡å‘½åä¸º index.md</span>
</span></span><span class=line><span class=cl>    <span class=c1># è¿™æ­¥æ“ä½œç­‰åŒäºï¼šå…ˆå¤åˆ¶è¿›å»ï¼Œå†æ”¹å</span>
</span></span><span class=line><span class=cl>    mv <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=nv>$dir_name</span><span class=s2>/index.md&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;å·²å¤„ç†: </span><span class=nv>$file</span><span class=s2> -&gt; </span><span class=nv>$dir_name</span><span class=s2>/index.md&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>åˆæ¢ä¸»é¢˜äº†ï¼Œè¿™å›ä½¿ç”¨çš„æ˜¯<a class=link href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener>hugo-theme-stack</a>ï¼Œæ— æ„å‘ç°è¿™æ¬¾ä¸»é¢˜ï¼Œæ­£åˆæˆ‘æ„ï¼Œå¤Ÿç®€å•ï¼Œæœ€é‡è¦çš„æ˜¯æ”¯æŒæœ¬åœ°æœç´¢ï¼Œå†ä¸ç”¨å¼„å“ªä¸ª<code>Alogia</code>äº†ã€‚</p><h2 id=ä¸‹è½½ä¸»é¢˜æ›´æ–°ä¸»é¢˜>ä¸‹è½½ä¸»é¢˜&æ›´æ–°ä¸»é¢˜</h2><ol><li>ä¸‹è½½ä¸»é¢˜</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git submodule add https://github.com/iwyang/hugo-theme-stack/ themes/hugo-theme-stack
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>æ›´æ–°ä¸»é¢˜</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --remote
</span></span></code></pre></td></tr></table></div></div><h2 id=æŸ¥çœ‹ä¸»é¢˜ç‰ˆæœ¬å·>æŸ¥çœ‹ä¸»é¢˜ç‰ˆæœ¬å·</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git show æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
</span></span><span class=line><span class=cl>----------------------------------------------------------------
</span></span><span class=line><span class=cl>git tagã€€åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬å·
</span></span><span class=line><span class=cl>git checkoutã€€+æŸç‰ˆæœ¬å·ã€€<span class=o>(</span>ä½ å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æºç ä¼šå˜æˆè¿™ä¸ªç‰ˆæœ¬å·çš„æºç <span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=configyamlé…ç½®æ–‡ä»¶><code>config.yaml</code>é…ç½®æ–‡ä»¶</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>baseurl</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>languageCode</span><span class=p>:</span><span class=w> </span><span class=l>zh-CN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>hugo-theme-stack</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>paginate</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Bore&#39;s Notes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># Change it to your Disqus shortname before using</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># disqusShortname: </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># GA Tracking ID</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>googleAnalytics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># Theme i18n support</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># Available values: en, fr, id, ja, ko, pt-br, zh-cn, zh-tw, es, de, nl, it, th, el, uk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>DefaultContentLanguage</span><span class=p>:</span><span class=w> </span><span class=l>zh-cn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># Set hasCJKLanguage to true if DefaultContentLanguage is in [zh-cn ja ko]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># This will make .Summary and .WordCount behave correctly for CJK languages.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>hasCJKLanguage</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>permalinks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>post</span><span class=p>:</span><span class=w> </span><span class=l>/archives/:slug/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>page</span><span class=p>:</span><span class=w> </span><span class=l>/:slug/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=c># whether to use emoji code</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>enableEmoji</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mainSections</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>post</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>featuredImageField</span><span class=p>:</span><span class=w> </span><span class=l>image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>rssFullContent</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>favicon</span><span class=p>:</span><span class=w> </span><span class=l>/img/favicon.png</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>footer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>since</span><span class=p>:</span><span class=w> </span><span class=m>2020</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>customText</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>dateFormat</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=ld>2006-01-02</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>lastUpdated</span><span class=p>:</span><span class=w> </span><span class=ld>2006-01-02</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sidebar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>emoji</span><span class=p>:</span><span class=w> </span><span class=l>ğŸ¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subtitle</span><span class=p>:</span><span class=w> </span><span class=l>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>avatar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>local</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class=l>img/avatar.jpg</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>article</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>math</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>toc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>readingTime</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>license</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>Licensed under CC BY-NC-SA 4.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>edit</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comments</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>provider</span><span class=p>:</span><span class=w> </span><span class=l>waline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>disqusjs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>shortname</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>apiUrl</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>apiKey</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>admin</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>adminLabel</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>utterances</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>repo</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>issueTerm</span><span class=p>:</span><span class=w> </span><span class=l>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>label</span><span class=p>:</span><span class=w> </span><span class=l>utterances</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>dark-orange</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>remark42</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>host</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>site</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>locale</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>vssue</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>platform</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>owner</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>repo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>clientId</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>clientSecret</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>autoCreateIssue</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Waline client configuration see: https://waline.js.org/en/reference/client.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>waline</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>serverURL</span><span class=p>:</span><span class=w> </span><span class=l>https://your-domain.vercel.app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>lang</span><span class=p>:</span><span class=w> </span><span class=l>zh-CN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>visitor</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>avatar</span><span class=p>:</span><span class=w> </span><span class=l>mp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>emoji</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>requiredMeta</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>nick</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>mail</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>placeholder</span><span class=p>:</span><span class=w> </span><span class=l>æ¬¢è¿è¯„è®º</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>locale</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>admin</span><span class=p>:</span><span class=w> </span><span class=l>åšä¸»</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>twikoo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>envId</span><span class=p>:</span><span class=w> </span><span class=l>https://twikoo-lake.vercel.app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>region</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>path</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>lang</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>giscus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>repo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>repoID</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>category</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>categoryID</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>mapping</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>lightTheme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>darkTheme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>reactionsEnabled</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>emitMetadata</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>gitalk</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>owner</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>admin</span><span class=p>:</span><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>repo</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>clientID</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>clientSecret</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>cusdis</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>host</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>id</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>widgets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>search</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>categories</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>tag-cloud</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>archives</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>           
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>archives</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>10000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tagCloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>10000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>categoriesCloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>10000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>opengraph</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>twitter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Your Twitter username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>site</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Available values: summary, summary_large_image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>card</span><span class=p>:</span><span class=w> </span><span class=l>summary_large_image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>defaultImage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>opengraph</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>local</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>src</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>colorScheme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Display toggle</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>toggle</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Available values: auto, light, dark</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>auto</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>imageProcessing</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>cover</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>### Custom menu</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>### See https://docs.stack.jimmycai.com/configuration/custom-menu.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c>### To remove about, archive and search page menu item, remove `menu` field from their FrontMatter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>menu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>main</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=l>home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>é¦–é¡µ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span>-<span class=m>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>pre</span><span class=p>:</span><span class=w> </span><span class=l>home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=c>### For demonstration purpose, the home link will be open in a new tab</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>newTab</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>home</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># social:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># - identifier: github</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># name: GitHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># url: https://github.com/iwyang</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># params:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># icon: brand-github</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># - identifier: twitter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># name: Twitter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># url: https://twitter.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># params:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># icon: brand-twitter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>related</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>includeNewer</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>threshold</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>toLower</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>indices</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>categories</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>200</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>markup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>goldmark</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>renderer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c>## Set to true if you have HTML content inside Markdown</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>unsafe</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tableOfContents</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>endLevel</span><span class=p>:</span><span class=w> </span><span class=m>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ordered</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>startLevel</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>highlight</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>noClasses</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=archetypesé»˜è®¤æ¨¡æ¿><code>archetypes</code>é»˜è®¤æ¨¡æ¿</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ replace .TranslationBaseName &#34;</span>-<span class=s2>&#34; &#34;</span><span class=w> </span><span class=s2>&#34; | title }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>slug</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>date</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>lastmod</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>toc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=æ˜¾ç¤ºå³ä¾§å·¥å…·æ åˆ†ç±»ç›®å½•><del>æ˜¾ç¤ºå³ä¾§å·¥å…·æ åˆ†ç±»ç›®å½•</del></h2><p><del>å‚è€ƒ <a class=link href=https://github.com/CaiJimmy/hugo-theme-stack/issues/169 target=_blank rel=noopener>https://github.com/CaiJimmy/hugo-theme-stack/issues/169</a></del></p><blockquote><p>æœ€æ–°ç‰ˆä¸»é¢˜å·²é»˜è®¤å¼€å¯åˆ†ç±»ç›®å½•å·¥å…·æ </p></blockquote><ol><li>Create <code>categories.html</code> in layouts/partials/widget</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>section</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;widget tagCloud&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;widget-icon&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ partial &#34;helper/icon&#34; &#34;categories&#34; }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;widget-title section-title&#34;</span><span class=p>&gt;</span>{{ T &#34;widget.categoriesCloud.title&#34; }}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;tagCloud-tags&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ range first .Site.Params.widgets.categoriesCloud.limit .Site.Taxonomies.categories.ByCount }}
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Page.RelPermalink }}&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;font_size_{{ .Count }}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              {{ .Page.Title }}
</span></span><span class=line><span class=cl>          <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ end }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>ä¿®æ”¹ <code>config.yaml</code></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>widgets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>categories</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>categoriesCloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>limit</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>ç½‘ç«™æ ¹ç›®å½•æ–°å»º<code>\i18n\zh-CN.yaml</code></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>widget</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>categoriesCloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>other</span><span class=p>:</span><span class=w> </span><span class=l>åˆ†ç±»</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=5><li>Download categories.svg paste to <code>assets/icons</code>, from <a class=link href=https://github.com/rmdhnreza/rmdhnreza.my.id/tree/main/assets/icons target=_blank rel=noopener>here</a></li></ol><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¯ä»¥æŒ‰éœ€åˆ é™¤å›¾æ ‡ã€‚</p></blockquote><h2 id=æ–‡ç« åº•éƒ¨æ·»åŠ åœ¨-github-ä¸Šç¼–è¾‘æ­¤é¡µ>æ–‡ç« åº•éƒ¨æ·»åŠ <code>åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</code></h2><ol><li>æ‹·è´ä¸»é¢˜ç›®å½•<code>/layouts/partials/article/components/footer.html</code>åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œä¿®æ”¹ä¸ºï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>footer</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-footer&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ partial &#34;article/components/tags&#34; . }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ if and (.Site.Params.article.license.enabled) (not (eq .Params.license false)) }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>section</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-copyright&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ partial &#34;helper/icon&#34; &#34;copyright&#34; }}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>{{ default .Site.Params.article.license.default .Params.license | markdownify }}<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ end }}
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	{{ if and (.Site.Params.article.edit.enabled) (not (eq .Params.edit false)) }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>section</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-edit&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ partial &#34;helper/icon&#34; &#34;external-link&#34; }}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;color: inherit;&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://github.com/iwyang/iwyang.github.io/edit/develop/content/{{ replace .File.Path &#34;</span><span class=err>\\&#34;</span> <span class=err>&#34;/&#34;</span> <span class=err>}}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;noopener noreferrer&#34;</span><span class=p>&gt;</span>åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{- if ne .Lastmod .Date -}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>section</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-lastmod&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ partial &#34;helper/icon&#34; &#34;clock&#34; }}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            {{ T &#34;article.lastUpdatedOn&#34; }} {{ .Lastmod.Format ( or .Site.Params.dateFormat.lastUpdated &#34;Jan 02, 2006 15:04 MST&#34; ) }}
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- end -}}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>footer</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>ç¼–è¾‘<code>config.yaml</code>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>article</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>math</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>toc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>readingTime</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>license</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class=l>Licensed under CC BY-NC-SA 4.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>edit</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä»¥ååªè¦åœ¨Frontmatteræ·»åŠ <code>edit: false</code>æ¥å…³é—­ã€‚</p><ol start=3><li>æ‹·è´<code>external-link.svg</code>å›¾æ ‡åˆ°ç½‘ç«™æ ¹ç›®å½•<code>/assets/icons</code>ä¸‹ã€‚å›¾æ ‡åœ°å€ï¼š<a class=link href=https://github.com/iwyang/iwyang.github.io/tree/develop/assets/icons target=_blank rel=noopener>ç‚¹å‡»ç›´è¾¾</a></li></ol><h2 id=è‡ªåŠ¨æ›´æ–°æ–‡ç« æœ€åä¿®æ”¹æ—¶é—´>è‡ªåŠ¨æ›´æ–°æ–‡ç« æœ€åä¿®æ”¹æ—¶é—´</h2><p>1.åœ¨<code>config.yaml</code>é‡Œå†™:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>frontmatter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>lastmod</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;:git&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;lastmod&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;:fileModTime&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;:defalut&#34;</span><span class=p>]</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=nt>enableGitInfo</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>gitRepo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/iwyang/hugo&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>:git</code>ï¼šgit æ–‡ä»¶æäº¤ä¿®æ”¹æ—¶é—´</li><li><code>:fileModTime</code>ï¼šæ–‡ä»¶ä¿®æ”¹æ—¶é—´</li><li><code>lastmod</code>ï¼šæ–‡ç« é‡Œ lastmod å­—æ®µ</li><li><code>:defalut</code>ï¼šé»˜è®¤æ—¶é—´</li></ul><blockquote><p><code>config.toml</code>é‡Œå†™ï¼š</p><p>[frontmatter]
lastmod = [":git", &ldquo;lastmod&rdquo;, &ldquo;:fileModTime&rdquo;, &ldquo;:defalut&rdquo;]</p><p>enableGitInfo = true</p><p>gitRepo = &ldquo;<a class=link href=https://github.com/iwyang/hugo%22 target=_blank rel=noopener>https://github.com/iwyang/hugo"</a></p></blockquote><p>2.<code>.github/workflows/xx.yml</code>ï¼š</p><p>yml æ–‡ä»¶ä¸­æ·»åŠ  2 è¡Œè®¾ç½®å½“å‰ç¯å¢ƒæ—¶åŒº</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hugo build and deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Shanghai</span><span class=w> </span><span class=c># è®¾ç½®å½“å‰ç¯å¢ƒæ—¶åŒº</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>3.gihutb action é‡Œ yaml ä¸Šé…ç½®</p><p><strong>å»ºæ„å‰</strong>æ–°å¢ä»¥ä¸‹é…ç½®ï¼Œä¸»è¦æ˜¯ quotePathï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ååŒ…å«ä¸­æ–‡æ—¶ï¼Œgit ä¼šä½¿ç”¨å¼•å·å§æ–‡ä»¶åæ‹¬èµ·æ¥ï¼Œè¿™ä¼šå¯¼è‡´ action ä¸­æ— æ³•è¯»å–<code>:GitInfo</code> å˜é‡ï¼Œæ‰€ä»¥è¦è®¾ç½® <code>Disable quotePath</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Git Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.quotePath false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.autocrlf false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.safecrlf true
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.ignorecase false</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨ <code>checkout</code> çš„è¯ <code>fetch-depth</code> éœ€è¦è®¾ä¸º 0ï¼Œdepth é»˜è®¤æ˜¯ä¸º 1ï¼Œé»˜è®¤åªæ‹‰å–åˆ†æ”¯æœ€è¿‘ä¸€æ¬¡ commitï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ–‡ç« çš„ <code>GitInfo</code> å˜é‡æ— æ³•è·å–ï¼Œè®¾ä¸º 0 ä»£è¡¨æ‹‰å»æ‰€æœ‰åˆ†æ”¯æ‰€æœ‰æäº¤ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>	</span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		  </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>   </span><span class=c>#è®¾ä¸º0</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä»¥ä¸‹æ˜¯æˆ‘æœ€ç»ˆçš„ yml é…ç½®æ–‡ä»¶ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Shanghai</span><span class=w> </span><span class=c># è®¾ç½®å½“å‰ç¯å¢ƒæ—¶åŒº</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Git Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.quotePath false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.autocrlf false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.safecrlf true
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.ignorecase false 
</span></span></span><span class=line><span class=cl><span class=sd>          </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2.5.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache resources</span><span class=w> </span><span class=c># ç¼“å­˜ resource æ–‡ä»¶åŠ å¿«ç”Ÿæˆé€Ÿåº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=c># æ£€æŸ¥ç…§ç‰‡æ–‡ä»¶å˜åŒ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-${{ hashFiles(&#39;content/**/*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-             </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo -v --gc --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to gh-pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3.8.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># cname:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to Server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>SamKirkland/FTP-Deploy-Action@4.3.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=m>104.224.191.88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.FTP_MIRROR_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>local-dir</span><span class=p>:</span><span class=w> </span><span class=l>./public/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server-dir</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/speak/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>åˆ«äººï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hugo build and deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Shanghai</span><span class=w> </span><span class=c># è®¾ç½®å½“å‰ç¯å¢ƒæ—¶åŒº</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Actions-Hugo-Deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Check out repository code</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive </span><span class=w> </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>         </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Git Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.quotePath false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.autocrlf false
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.safecrlf true
</span></span></span><span class=line><span class=cl><span class=sd>          git config --global core.ignorecase false          </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=l>latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo static files</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo -v --gc --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to Github Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>DEPLOY_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>Charlie-king/Charlie-king.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NPM install</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Update Algolia index</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ALGOLIA_APP_ID</span><span class=p>:</span><span class=w> </span><span class=l>B6R922P6DD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ALGOLIA_ADMIN_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ALGOLIA_ADMIN_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ALGOLIA_INDEX_NAME</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;dev_hugo&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ALGOLIA_INDEX_FILE</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;./public/index.json&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run algolia</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span></code></pre></td></tr></table></div></div><h3 id=åˆ é™¤æ–‡ç« åº•éƒ¨æ›´æ–°äº>åˆ é™¤æ–‡ç« åº•éƒ¨æ›´æ–°äº</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>article-footer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=åˆ é™¤ç›¸å…³æ–‡ç« åˆ†ç±»å›¾ç‰‡ä¿®æ”¹ç›¸å…³æ–‡ç« æ•°ç›®>åˆ é™¤ç›¸å…³æ–‡ç« ã€åˆ†ç±»å›¾ç‰‡ï¼Œä¿®æ”¹ç›¸å…³æ–‡ç« æ•°ç›®</h2><h3 id=åˆ é™¤ç›¸å…³æ–‡ç« å›¾ç‰‡>åˆ é™¤ç›¸å…³æ–‡ç« å›¾ç‰‡</h3><p>è¯·åœ¨ä½ çš„ <code>article.scss</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>.related-content</code> è¿™ä¸€å—ï¼ˆå¤§çº¦åœ¨æ–‡ä»¶ä¸­é—´åä¸‹çš„ä½ç½®ï¼‰ï¼Œå°†å®ƒ<strong>å®Œå…¨æ›¿æ¢</strong>ä¸ºä»¥ä¸‹ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nc>.related-content</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>overflow-x</span><span class=o>:</span> <span class=ni>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>padding-bottom</span><span class=o>:</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>&amp;</span><span class=o>&gt;</span><span class=nc>.flex</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>float</span><span class=o>:</span> <span class=ni>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>article</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>margin-right</span><span class=o>:</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>flex-shrink</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>overflow</span><span class=o>:</span> <span class=ni>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>width</span><span class=o>:</span> <span class=mi>250</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=cm>/* 1. å°†åŸæœ¬çš„ height: 150px æ”¹ä¸ºè‡ªé€‚åº”ï¼Œæ¶ˆé™¤å¤§ç‰‡ç©ºç™½ */</span>
</span></span><span class=line><span class=cl>        <span class=na>height</span><span class=o>:</span> <span class=ni>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>min-height</span><span class=o>:</span> <span class=mi>80</span><span class=kt>px</span><span class=p>;</span> <span class=cm>/* è®¾ç½®ä¸€ä¸ªèˆ’é€‚çš„æœ€å°é«˜åº¦ */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cm>/* 2. å½»åº•éšè—å›¾ç‰‡å®¹å™¨ */</span>
</span></span><span class=line><span class=cl>        <span class=nc>.article-image</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>display</span><span class=o>:</span> <span class=ni>none</span> <span class=k>!important</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cm>/* 3. æ–°å¢è¯¦æƒ…åŒºåŸŸæ ·å¼ï¼šè®©æ–‡å­—åœ¨å¡ç‰‡ä¸­å‚ç›´/æ°´å¹³å±…ä¸­ */</span>
</span></span><span class=line><span class=cl>        <span class=nc>.article-details</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>padding</span><span class=o>:</span> <span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>display</span><span class=o>:</span> <span class=ni>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>align-items</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>justify-content</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>min-height</span><span class=o>:</span> <span class=mi>80</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>box-sizing</span><span class=o>:</span> <span class=ni>border-box</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nc>.article-title</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>font-size</span><span class=o>:</span> <span class=mi>1</span><span class=mf>.6</span><span class=kt>rem</span><span class=p>;</span> <span class=cm>/* ç¨å¾®ç¼©å°ä¸€ç‚¹å­—å·æ˜¾å¾—æ›´ç²¾è‡´ */</span>
</span></span><span class=line><span class=cl>            <span class=na>margin</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>text-align</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span> <span class=cm>/* æ–‡å­—å±…ä¸­å¯¹é½ */</span>
</span></span><span class=line><span class=cl>            <span class=na>color</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>card-text-color-main</span><span class=p>)</span> <span class=k>!important</span><span class=p>;</span> <span class=cm>/* å¼ºåˆ¶æ–‡å­—æ˜¾ç¤ºä¸ºä¸»é¢˜çš„æ­£å¸¸é¢œè‰² */</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cm>/* 4. ç§»é™¤å¸¦å›¾ç‰‡æ—¶é™„å¸¦çš„é»‘è‰²åŠé€æ˜æ¸å˜é®ç½© */</span>
</span></span><span class=line><span class=cl>        <span class=k>&amp;</span><span class=nc>.has-image</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nc>.article-details</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=na>background</span><span class=o>:</span> <span class=ni>transparent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ é™¤åˆ†ç±»å›¾ç‰‡>åˆ é™¤åˆ†ç±»å›¾ç‰‡</h3><p>æ ¹ç›®å½•<code>assets/scss/partials/layout/list.scss</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nc>.subsection-list</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>margin-bottom</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>section-separation</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=na>overflow-x</span><span class=o>:</span> <span class=ni>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nc>.article-list--tile</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>display</span><span class=o>:</span> <span class=ni>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>padding-bottom</span><span class=o>:</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>article</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>width</span><span class=o>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span> <span class=c1>//æ”¹çˆ²200px
</span></span></span><span class=line><span class=cl>            <span class=na>height</span><span class=o>:</span> <span class=mi>50</span><span class=kt>px</span><span class=p>;</span> <span class=c1>//æ”¹çˆ²50px
</span></span></span><span class=line><span class=cl>            <span class=na>margin-right</span><span class=o>:</span> <span class=mi>5</span><span class=kt>px</span><span class=p>;</span> <span class=c1>//æ”¹çˆ²5px
</span></span></span><span class=line><span class=cl>            <span class=na>flex-shrink</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>box-shadow</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>shadow-l2</span><span class=p>);</span> <span class=c1>//æ”¹ä¸ªå¡ç‰‡é˜´å½±
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nc>.article-title</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=na>margin</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=na>font-size</span><span class=o>:</span> <span class=mi>1</span><span class=mf>.5</span><span class=kt>rem</span><span class=p>;</span> <span class=c1>//æ”¹çˆ²1.5remï¼Œèª¿æ•´å­—é«”å°ºå¯¸
</span></span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nc>.article-details</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=na>padding</span><span class=o>:</span> <span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=na>justify-content</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span> <span class=c1>//æ·»åŠ justify-contentè¨­å®šï¼Œä¿æŒå­—é«”å±…ä¸­
</span></span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¿®æ”¹ç›¸å…³æ–‡ç« æ•°ç›®>ä¿®æ”¹ç›¸å…³æ–‡ç« æ•°ç›®</h3><p>æ ¹ç›®å½•<code>layouts/partials/article/components/related-contents.html</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> {{ $related := (where (.Site.RegularPages.Related .) &#34;Params.hidden&#34; &#34;!=&#34; true) | first 3 }}  //ä¿®æ”¹æ•°å­—å³å¯
</span></span></code></pre></td></tr></table></div></div><p>æ•°å­—è®¾ä¸º0ï¼Œå³å…³é—­<code>ç›¸å…³æ–‡ç« </code>ã€‚</p><h2 id=åŠ å…¥å­—æ•°ç»Ÿè®¡ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡>åŠ å…¥å­—æ•°ç»Ÿè®¡ã€ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡</h2><h3 id=åŠ å…¥å­—æ•°ç»Ÿè®¡>åŠ å…¥å­—æ•°ç»Ÿè®¡</h3><p>1.ç›´æ¥ç”¨é˜…è¯»æ—¶é—´æ”¹çš„ï¼Œå›¾æ ‡è·¯å¾„ä¸ºæ ¹ç›®å½•<code>assets\icons</code></p><p>æ ¹ç›®å½•<code>layouts\partials\article\components\details.html</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>        {{ if .Site.Params.article.readingTime }}
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                {{ partial &#34;helper/icon&#34; &#34;pencil&#34; }}
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>time</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-words&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    {{ .WordCount }} å­—
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>time</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ end }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>footer</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>2.ç„¶ååœ¨<code>config.yaml</code>ä¸­åŠ å…¥ä¸€è¡Œï¼Œä»¥æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦æ•°é‡</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>hasCJKLanguage</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>3.<code>config.yaml</code>ä¸­ç¡®ä¿<code>readingTime: true</code></p><h3 id=ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡>ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡</h3><p>1.æ ¹ç›®å½•<code>layouts\partials\footer\footer.html</code>é‡Œå†™ä¸Šæ€»å­—æ•°å‚æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{$scratch := newScratch}}
</span></span><span class=line><span class=cl>{{ range (where .Site.Pages &#34;Kind&#34; &#34;page&#34; )}}
</span></span><span class=line><span class=cl>    {{$scratch.Add &#34;total&#34; .WordCount}}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></td></tr></table></div></div><p>2.æ ¹ç›®å½•<code>layouts\partials\footer\footer.html</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>section</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;copyright&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=ni>&amp;copy;</span> 
</span></span><span class=line><span class=cl>        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format &#34;2006&#34;))) }}
</span></span><span class=line><span class=cl>            {{ .Site.Params.footer.since }} - 
</span></span><span class=line><span class=cl>        {{ end }}
</span></span><span class=line><span class=cl>        {{ now.Format &#34;2006&#34; }} Bore&#39;s Blog<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>å…± {{ div ($scratch.Get &#34;total&#34;) 1000.0 | lang.FormatNumber 2 }}k å­— Â· å…± {{ len (where .Site.RegularPages &#34;Section&#34; &#34;post&#34;) }}ç¯‡æ–‡ç« <span class=p>&lt;/</span><span class=nt>br</span><span class=p>&gt;&lt;</span><span class=nt>span</span><span class=p>&gt;&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>PSï¼šå¦‚æœåŠ å…¥<code>ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡</code>ï¼Œ<code>Github Action</code>éƒ¨ç½²åˆ°æœåŠ¡å™¨å°±ä¼šå˜æ…¢ã€‚</strong></p><h2 id=æ·»åŠ å‹æƒ…é“¾æ¥-shortcodes>æ·»åŠ å‹æƒ…é“¾æ¥ shortcodes</h2><ol><li><p>ç½‘ç«™æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶<code>layouts\page\links.html</code>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{ define &#34;body-class&#34; }}article-page keep-sidebar{{ end }}
</span></span><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>    {{ partial &#34;article/article.html&#34; . }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-list--compact links&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ $siteResources := resources }}
</span></span><span class=line><span class=cl>        {{ range $i, $link :=  $.Site.Data.links }}
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>article</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ $link.website }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;noopener&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-details&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-title&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                            {{- $link.title -}}
</span></span><span class=line><span class=cl>                        <span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=p>&lt;</span><span class=nt>footer</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-time&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                            {{ with $link.description }}
</span></span><span class=line><span class=cl>                                {{ . }}
</span></span><span class=line><span class=cl>                            {{ else }}
</span></span><span class=line><span class=cl>                                {{ $link.website }}
</span></span><span class=line><span class=cl>                            {{ end }}
</span></span><span class=line><span class=cl>                        <span class=p>&lt;/</span><span class=nt>footer</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    {{ if $link.image }}
</span></span><span class=line><span class=cl>                        {{ $image := $siteResources.Get (delimit (slice &#34;link-img/&#34; $link.image) &#34;&#34;) | resources.Fingerprint &#34;md5&#34; }}
</span></span><span class=line><span class=cl>                        {{ $imageResized := $image.Resize &#34;120x120&#34; }}
</span></span><span class=line><span class=cl>                        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;article-image&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ $imageResized.RelPermalink }}&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;{{ $imageResized.Width }}&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;{{ $imageResized.Height }}&#34;</span>
</span></span><span class=line><span class=cl>                                <span class=na>loading</span><span class=o>=</span><span class=s>&#34;lazy&#34;</span> <span class=na>data-key</span><span class=o>=</span><span class=s>&#34;links-{{ $link.website }}&#34;</span> <span class=na>data-hash</span><span class=o>=</span><span class=s>&#34;{{ $image.Data.Integrity }}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    {{ end }}
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>article</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ end }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ if or (not (isset .Params &#34;comments&#34;)) (eq .Params.comments &#34;true&#34;)}} 
</span></span><span class=line><span class=cl>        {{ partial &#34;comments/include&#34; . }}
</span></span><span class=line><span class=cl>    {{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ partialCached &#34;footer/footer&#34; . }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ partialCached &#34;article/components/photoswipe&#34; . }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></td></tr></table></div></div></li><li><p>ç½‘ç«™æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶<code>\layouts\shortcodes\link.html</code>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{$URL := .Get 0}}
</span></span><span class=line><span class=cl>{{ with .Site.GetPage $URL }}
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview--meta&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;width:100%;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview--middle&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h4</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview--title&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>a</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Permalink }}&#34;</span><span class=p>&gt;</span>{{ .Title }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>h4</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>time</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview--date&#34;</span><span class=p>&gt;</span>{{ .Date.Format ( default &#34;2006-01-02&#34;) }}<span class=p>&lt;/</span><span class=nt>time</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ if .Params.tags }}
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>small</span><span class=p>&gt;</span>{{ range .Params.tags }}#{{ . }}<span class=ni>&amp;nbsp;</span>{{ end }}<span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      {{ end }}
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>section</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;max-height:105px;overflow:hidden;&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;post-preview--excerpt&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ .Summary | plainify}}
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>section</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><code>ç½‘ç«™å›¾åƒ</code>æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½•<code>\assets\link-img\</code>æ–‡ä»¶å¤¹ä¸‹ã€‚</li><li>ç½‘ç«™æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶<code>\data\links.json</code>ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Upptime&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://iwyang.github.io/check&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;upptime.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;åˆ©ç”¨Github ActionsæŸ¥çœ‹ç½‘ç«™è¿è¡ŒçŠ¶æ€ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;ConstOwn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://blog.juanertu.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;constown.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;èƒ½ä¸ä½ ä¸€èµ·æˆé•¿ï¼Œæˆ‘è£å¹¸ä¹‹è‡³ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;å°ä¸çš„ä¸ªäººåšå®¢&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://tding.top&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;ding.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;ä¸–é—´æ‰€æœ‰çš„ç›¸é‡ï¼Œéƒ½æ˜¯ä¹…åˆ«é‡é€¢ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Xu&#39;s Blog&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://hasaik.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;xu.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;ç®€å•ä¸å…ˆäºå¤æ‚ï¼Œè€Œæ˜¯åœ¨å¤æ‚ä¹‹åã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;çŸ¥è¡Œå¿—&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://baozi.fun&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;zhi.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Halo Theme Xueä½œè€…ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Takagi&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://lixingyong.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;takagi.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Takagiæ˜¯å•¥å‘€ï¼Ÿï¼Ÿå½“ç„¶æ˜¯æœ€å–œæ¬¢çš„Takagiäº†å–ãƒ¾(â‰§âˆ‡â‰¦*)ã‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;åƒä¸åƒå¯»&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://www.chihiro.org.cn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;qian.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;æ‰€ä»¥ï¼Œçœ‹ä¸åˆ°å…‰ï¼Œç®—æ˜¯ä¸å¹¸å—ï¼Ÿéœ€è¦å…‰æ‰æ˜¯çœŸæ­£çš„ä¸å¹¸å§ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Bill Yang&#39;s Blog&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://blog.bill.moe&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;bill.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;è¿™è¾ˆå­éƒ½ä¸å¯èƒ½æ›´æ–°çš„ ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Sanarous&#39;s Blog&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://bestzuo.cn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;sanarous.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Dream it possible, make it possible&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>	    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;JACKå°æ¡”å­çš„å°å±‹&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://jackxjz.top/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;jack.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;ä¸€ä¸ªåˆ†äº«ç§‘æŠ€/æ—¥å¸¸çš„ç½‘ç«™ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;è‹¥åªå¦‚åˆè§&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://joyli.net.cn/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;ruo.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;ä¸–é—´æ‰€æœ‰çš„ç›¸é‡ï¼Œéƒ½æ˜¯ä¹…åˆ«é‡é€¢ã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;å¤§å¤§çš„å°èœ—ç‰›&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;website&#34;</span><span class=p>:</span> <span class=s2>&#34;https://eallion.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;image&#34;</span><span class=p>:</span> <span class=s2>&#34;eallion.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;æœºä¼šæ€»æ˜¯å‚é’äºæœ‰å‡†å¤‡çš„äººã€‚&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>5.è°ƒæ•´å¸ƒå±€ï¼Œè®¾ç½®å‹æƒ…é“¾æ¥ä¸ºåŒæ ï¼š</p><p>ä¿®æ”¹æ ¹ç›®å½•<code>/assets/scss/custom.scss</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>//å‹æƒ…é“¾æ¥åŒæ 
</span></span></span><span class=line><span class=cl><span class=k>@media</span> <span class=p>(</span><span class=na>min-width</span><span class=o>:</span> <span class=mi>1024</span><span class=kt>px</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nc>.article-list--compact.links</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=na>display</span><span class=o>:</span> <span class=ni>grid</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>grid-template-columns</span><span class=o>:</span> <span class=mi>1</span><span class=kt>fr</span> <span class=mi>1</span><span class=kt>fr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>background</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=na>box-shadow</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nt>article</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>background</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>card-background</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=na>border</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>box-shadow</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>shadow-l2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=na>margin-bottom</span><span class=o>:</span> <span class=mi>8</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>border-radius</span><span class=o>:</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>&amp;</span><span class=nd>:nth-child</span><span class=o>(</span><span class=nt>odd</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=na>margin-right</span><span class=o>:</span> <span class=mi>8</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æ·»åŠ éŸ³ä¹çŸ­ä»£ç >æ·»åŠ éŸ³ä¹çŸ­ä»£ç </h2><p>1.ç½‘ç«™æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶<code>layouts\shortcodes\music.html</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{- $scratch := .Page.Scratch.Get &#34;scratch&#34; -}}
</span></span><span class=line><span class=cl><span class=c>&lt;!-- require APlayer --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span><span class=p>&gt;.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=mh>#212121</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span><span class=p>.</span><span class=nc>aplayer-withlist</span> <span class=p>.</span><span class=nc>aplayer-info</span><span class=p>{</span><span class=k>border-bottom-color</span><span class=p>:</span><span class=mh>#5c5c5c</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span><span class=p>.</span><span class=nc>aplayer-fixed</span> <span class=p>.</span><span class=nc>aplayer-list</span><span class=p>{</span><span class=k>border-color</span><span class=p>:</span><span class=mh>#5c5c5c</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-body</span><span class=p>{</span><span class=k>background-color</span><span class=p>:</span><span class=mh>#212121</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-info</span><span class=p>{</span><span class=k>border-top-color</span><span class=p>:</span><span class=mh>#212121</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-info</span> <span class=p>.</span><span class=nc>aplayer-music</span> <span class=p>.</span><span class=nc>aplayer-title</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#fff</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-info</span> <span class=p>.</span><span class=nc>aplayer-music</span> <span class=p>.</span><span class=nc>aplayer-author</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#fff</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-info</span> <span class=p>.</span><span class=nc>aplayer-controller</span> <span class=p>.</span><span class=nc>aplayer-time</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#eee</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-info</span> <span class=p>.</span><span class=nc>aplayer-controller</span> <span class=p>.</span><span class=nc>aplayer-time</span> <span class=p>.</span><span class=nc>aplayer-icon</span> <span class=nt>path</span><span class=p>{</span><span class=k>fill</span><span class=p>:</span><span class=mh>#eee</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span><span class=p>{</span><span class=k>background-color</span><span class=p>:</span><span class=mh>#212121</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span><span class=p>::</span><span class=nd>-webkit-scrollbar-thumb</span><span class=p>{</span><span class=k>background-color</span><span class=p>:</span><span class=mh>#999</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span><span class=p>::</span><span class=nd>-webkit-scrollbar-thumb</span><span class=p>:</span><span class=nd>hover</span><span class=p>{</span><span class=k>background-color</span><span class=p>:</span><span class=mh>#bbb</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span> <span class=nt>li</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#fff</span><span class=p>;</span><span class=k>border-top-color</span><span class=p>:</span><span class=mh>#666</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span> <span class=nt>li</span><span class=p>:</span><span class=nd>hover</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=mh>#4e4e4e</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span> <span class=nt>li</span><span class=p>.</span><span class=nc>aplayer-list-light</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=mh>#6c6c6c</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span> <span class=nt>li</span> <span class=p>.</span><span class=nc>aplayer-list-index</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#ddd</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-list</span> <span class=nt>li</span> <span class=p>.</span><span class=nc>aplayer-list-author</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#ddd</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-lrc</span><span class=p>{</span><span class=k>text-shadow</span><span class=p>:</span><span class=mi>-1</span><span class=kt>px</span> <span class=mi>-1</span><span class=kt>px</span> <span class=mi>0</span> <span class=mh>#666</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-lrc</span><span class=p>:</span><span class=nd>before</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=kp>-moz-</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>top</span><span class=p>,</span> <span class=mh>#212121</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>background</span><span class=p>:</span><span class=kp>-webkit-</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>top</span><span class=p>,</span> <span class=mh>#212121</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>background</span><span class=p>:</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>to</span> <span class=kc>bottom</span><span class=p>,</span> <span class=mh>#212121</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>filter</span><span class=p>:</span><span class=n>progid</span><span class=o>:</span><span class=n>DXImageTransform</span><span class=o>.</span><span class=n>Microsoft</span><span class=o>.</span><span class=nf>gradient</span><span class=p>(</span> <span class=n>startColorstr</span><span class=err>=</span><span class=s1>&#39;#212121&#39;</span><span class=p>,</span> <span class=n>endColorstr</span><span class=err>=</span><span class=s1>&#39;#00212121&#39;</span><span class=p>,</span><span class=n>GradientType</span><span class=err>=</span><span class=mi>0</span> <span class=p>)}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-lrc</span><span class=p>:</span><span class=nd>after</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=kp>-moz-</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>top</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mf>0.8</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>background</span><span class=p>:</span><span class=kp>-webkit-</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>top</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mf>0.8</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>background</span><span class=p>:</span><span class=nb>linear-gradient</span><span class=p>(</span><span class=kc>to</span> <span class=kc>bottom</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=mi>0</span><span class=kt>%</span><span class=p>,</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mf>0.8</span><span class=p>)</span> <span class=mi>100</span><span class=kt>%</span><span class=p>);</span><span class=k>filter</span><span class=p>:</span><span class=n>progid</span><span class=o>:</span><span class=n>DXImageTransform</span><span class=o>.</span><span class=n>Microsoft</span><span class=o>.</span><span class=nf>gradient</span><span class=p>(</span> <span class=n>startColorstr</span><span class=err>=</span><span class=s1>&#39;#00212121&#39;</span><span class=p>,</span> <span class=n>endColorstr</span><span class=err>=</span><span class=s1>&#39;#cc212121&#39;</span><span class=p>,</span><span class=n>GradientType</span><span class=err>=</span><span class=mi>0</span> <span class=p>)}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-lrc</span> <span class=nt>p</span><span class=p>{</span><span class=k>color</span><span class=p>:</span><span class=mh>#fff</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-miniswitcher</span><span class=p>{</span><span class=k>background</span><span class=p>:</span><span class=mh>#484848</span><span class=p>}.</span><span class=nc>dark-theme</span> <span class=p>.</span><span class=nc>aplayer</span> <span class=p>.</span><span class=nc>aplayer-miniswitcher</span> <span class=p>.</span><span class=nc>aplayer-icon</span> <span class=nt>path</span><span class=p>{</span><span class=k>fill</span><span class=p>:</span><span class=mh>#eee</span><span class=p>}&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- require MetingJS --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{- if .IsNamedParams -}}
</span></span><span class=line><span class=cl>    {{- if .Get &#34;url&#34; -}}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meting-js</span> <span class=na>url</span><span class=o>=</span><span class=s>&#34;{{ .Get `url` }}&#34;</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;{{ .Get `name` }}&#34;</span> <span class=na>artist</span><span class=o>=</span><span class=s>&#34;{{ .Get `artist` }}&#34;</span> <span class=na>cover</span><span class=o>=</span><span class=s>&#34;{{ .Get `cover` }}&#34;</span> <span class=na>theme</span><span class=o>=</span><span class=s>&#34;{{ .Get `theme` | default `#2980b9` }}&#34;</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>fixed</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>fixed</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mini</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mini</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>autoplay</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>autoplay</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>volume</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>volume</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mutex</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mutex</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&gt;&lt;/</span><span class=nt>meting-js</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- else if .Get &#34;auto&#34; -}}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meting-js</span> <span class=na>auto</span><span class=o>=</span><span class=s>&#34;{{ .Get `auto` }}&#34;</span> <span class=na>theme</span><span class=o>=</span><span class=s>&#34;{{ .Get `theme` | default `#2980b9` }}&#34;</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>fixed</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>fixed</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mini</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mini</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>autoplay</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>autoplay</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>loop</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>loop</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>order</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>order</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>volume</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>volume</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mutex</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mutex</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>list-folded</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>list-folded</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>list-max-height</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>list-max-height</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&gt;&lt;/</span><span class=nt>meting-js</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- else -}}
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meting-js</span> <span class=na>server</span><span class=o>=</span><span class=s>&#34;{{ .Get `server` }}&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;{{ .Get `type` }}&#34;</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;{{ .Get `id` }}&#34;</span> <span class=na>theme</span><span class=o>=</span><span class=s>&#34;{{ .Get `theme` | default `#2980b9` }}&#34;</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>fixed</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>fixed</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mini</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mini</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>autoplay</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>autoplay</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>loop</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>loop</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>order</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>order</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>volume</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>volume</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>mutex</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>mutex</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>list-folded</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>list-folded</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=err>{{</span><span class=na>-</span> <span class=na>with</span> <span class=err>.</span><span class=na>Get</span> <span class=err>&#34;</span><span class=na>list-max-height</span><span class=err>&#34;</span> <span class=err>}}</span> <span class=na>list-max-height</span><span class=o>=</span><span class=s>&#34;{{ . }}&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=na>-</span><span class=err>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&gt;&lt;/</span><span class=nt>meting-js</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- end -}}
</span></span><span class=line><span class=cl>{{- else if strings.HasSuffix (.Get 0) &#34;http&#34; -}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meting-js</span> <span class=na>auto</span><span class=o>=</span><span class=s>&#34;{{ .Get 0 }}&#34;</span> <span class=na>theme</span><span class=o>=</span><span class=s>&#34;#2980b9&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>meting-js</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{- else -}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meting-js</span> <span class=na>server</span><span class=o>=</span><span class=s>&#34;{{ .Get 0 }}&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;{{ .Get 1 }}&#34;</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;{{ .Get 2 }}&#34;</span> <span class=na>theme</span><span class=o>=</span><span class=s>&#34;#2980b9&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>meting-js</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{- end -}}
</span></span><span class=line><span class=cl>{{- $scratch.Set &#34;music&#34; true -}}
</span></span></code></pre></td></tr></table></div></div><p>2.æ·»åŠ æ­Œæ›²åˆ—è¡¨ï¼ˆæ³¨æ„ï¼šå»æ‰æ³¨é‡Š/* */ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{/* &lt; music auto=&#34;https://music.163.com/<span class=ni>#/playlist</span>?id=60198&#34;&gt; */}}
</span></span></code></pre></td></tr></table></div></div><p>3.æ·»åŠ å•æ›²ï¼ˆæ³¨æ„ï¼šå»æ‰æ³¨é‡Š/* */ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{/* &lt; music server=&#34;netease&#34; type=&#34;song&#34; id=&#34;1868553&#34; &gt; */}}
</span></span><span class=line><span class=cl>æˆ–è€…
</span></span><span class=line><span class=cl>{{/* &lt; music netease song 1868553 &gt; */}}
</span></span></code></pre></td></tr></table></div></div><p>4.å…¶å®ƒå‚æ•°</p><p><code>music</code> shortcode æœ‰ä¸€äº›å¯ä»¥åº”ç”¨äºä»¥ä¸Šä¸‰ç§æ–¹å¼çš„å…¶å®ƒå‘½åå‚æ•°:</p><ul><li><p><strong>autoplay</strong> <em>[å¯é€‰]</em></p><p>æ˜¯å¦è‡ªåŠ¨æ’­æ”¾éŸ³ä¹, é»˜è®¤å€¼æ˜¯ <code>false</code>.</p></li></ul><h2 id=æ›´æ”¹åˆ†ç±»æ ‡ç­¾é¡µé¢æ˜¾ç¤ºä¸­æ–‡>æ›´æ”¹åˆ†ç±»ã€æ ‡ç­¾ã€é¡µé¢æ˜¾ç¤ºä¸­æ–‡</h2><ol><li><code>content</code>ç›®å½•ä¸‹æ–°å»º<code>categories\_index.md</code>:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;åˆ†ç±»&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li><code>content</code>ç›®å½•ä¸‹æ–°å»º<code>tags\_index.md</code>:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;æ ‡ç­¾&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>æ ¹ç›®å½•<code>\i18n\zh-CN.yaml</code>è¾“å…¥ï¼š</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>list</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>page</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>one</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ .Count }} é¡µé¢&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>other</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ .Count }} é¡µé¢&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æœ€ç»ˆæ ¹ç›®å½•<code>\i18n\zh-CN.yaml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>list</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>page</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>one</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ .Count }} é¡µé¢&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>other</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ .Count }} é¡µé¢&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>widget</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>categoriesCloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>other</span><span class=p>:</span><span class=w> </span><span class=l>åˆ†ç±»</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=hugoæ·»åŠ è¯´è¯´>hugoæ·»åŠ è¯´è¯´</h2><p>æ·»åŠ è¯´è¯´ï¼šhttps://github.com/iwyang/iwyang.github.io/blob/develop/layouts/shuoshuo/list.html</p><p>é¦–é¡µè½®æ’­ï¼šhttps://github.com/iwyang/iwyang.github.io/blob/develop/layouts/home.html</p><p>CSSï¼šhttps://github.com/iwyang/iwyang.github.io/blob/develop/assets/scss/custom.scss</p><h2 id=é™„ä½¿ç”¨git-submoduleç®¡ç†hugoä¸»é¢˜>é™„ï¼šä½¿ç”¨Git Submoduleç®¡ç†Hugoä¸»é¢˜</h2><ul><li>å¦‚æœå…‹éš†åº“çš„æ—¶å€™è¦åˆå§‹åŒ–å­æ¨¡å—ï¼Œè¯·åŠ ä¸Š <code>--recursive</code> å‚æ•°ï¼Œå¦‚ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b develop git@github.com:iwyang/iwyang.github.io.git blog --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li>å¦‚æœå·²ç»å…‹éš†äº†ä¸»åº“ä½†æ²¡åˆå§‹åŒ–å­æ¨¡å—ï¼Œåˆ™ç”¨ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --init --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li>å¦‚æœå·²ç»å…‹éš†å¹¶åˆå§‹åŒ–å­æ¨¡å—ï¼Œè€Œéœ€è¦ä»å­æ¨¡å—çš„æºæ›´æ–°è¿™ä¸ªå­æ¨¡å—ï¼Œåˆ™ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --recursive --remote
</span></span></code></pre></td></tr></table></div></div><p>æ›´æ–°ä¹‹åä¸»åº“çš„ git å·®å¼‚ä¸­ä¼šæ˜¾ç¤ºæ–°çš„ SHA ç ï¼ŒæŠŠè¿™ä¸ªå·®å¼‚é€‰ä¸­æäº¤å³å¯ã€‚</p><hr><ul><li>å…¶ä»–å‘½ä»¤ï¼šåœ¨ä¸»ä»“åº“æ›´æ–°æ‰€æœ‰å­æ¨¡å—ï¼š<code>git submodule foreach git pull origin master</code></li></ul><h2 id=é™„hugoæ³¨é‡Š>é™„ï¼šhugoæ³¨é‡Š</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>{{<span class=l>/* comment */}}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><p><a class=link href=https://docs.stack.jimmycai.com/zh/ target=_blank rel=noopener>Hugo ä¸»é¢˜ Stackæ–‡æ¡£</a></p></li><li><p><a class=link href=https://github.com/CaiJimmy/hugo-theme-stack/issues/169 target=_blank rel=noopener>Adding the widget tag-cloud for &ldquo;categories&rdquo;, on the right content region on Homepage</a></p></li><li><p><a class=link href=https://github.com/vinceying/Vince-blog target=_blank rel=noopener>vinceying/Vince-blog-https://i.vince.pub/</a></p></li><li><p><a class=link href=https://immmmm.com/hugo-shortcodes-music/ target=_blank rel=noopener>hugoéŸ³ä¹çŸ­ä»£ç </a></p></li><li><p><a class=link href=https://hugodoit.pages.dev/zh-cn/theme-documentation-extended-shortcodes/#8-music target=_blank rel=noopener>ä¸»é¢˜æ–‡æ¡£ - æ‰©å±• Shortcodes-music</a></p></li><li><p><a class=link href=https://hugo.aiaide.com/post/hugo%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#%E6%B3%A8%E9%87%8A target=_blank rel=noopener>Hugoæ¨¡æ¿çš„åŸºæœ¬è¯­æ³•-æ³¨é‡Š</a></p></li><li><p><a class=link href=https://mantyke.icu/2022/stack-theme-furnish03/ target=_blank rel=noopener>Hugo | ç¬¬ä¸‰ç¯‡ Stack ä¸»é¢˜è£…ä¿®è®°å½•ï¼Œå ‚å ‚å†ä¸´ï¼</a></p></li><li><p><a class=link href=https://blog.yfei.page/cn/2021/03/lastmod-hugo/ target=_blank rel=noopener>è‡ªåŠ¨æ·»åŠ åšå®¢é¡µé¢æ›´æ–°æ—¥æœŸ</a></p></li><li><p><a class=link href=https://mantyke.icu/2021/f9f0ec87/ target=_blank rel=noopener>Hugo | çœ‹ä¸­ Stack ä¸»é¢˜çš„å½’æ¡£åŠŸèƒ½ï¼Œæ¬å®¶å¹¶åšä¿®æ”¹</a></p></li><li><p><a class=link href=https://kingpo.vercel.app/posts/202208/hugo-github-action%E5%92%8Cvecel%E9%83%A8%E7%BD%B2%E5%90%8E%E6%96%87%E7%AB%A0%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4%E5%BC%82%E5%B8%B8%E4%BF%AE%E5%A4%8D/# target=_blank rel=noopener>hugo github action|vecel éƒ¨ç½²åæ–‡ç« æ›´æ–°æ—¶é—´å¼‚å¸¸ä¿®å¤</a></p></li></ul></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/Hugo%20Stack%e4%b8%bb%e9%a2%98%e9%85%8d%e7%bd%ae%e4%b8%8e%e4%bd%bf%e7%94%a8/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/21eed6d167ab8079e847ebaa5e1216cec7b5e265 target=_blank rel="noopener noreferrer" title="Commit Hash: 21eed6d">#21eed6d</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2020-07-06T09:19:19Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2020-07-06</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><h2 id=åˆå§‹åŒ–-github-ä»“åº“>åˆå§‹åŒ– GitHub ä»“åº“</h2><p>Githubä¸Šæ–°å»ºä¸€ä¸ªåä¸º<code>iwyang.github.io</code>çš„ä»“åº“ã€‚</p><h2 id=é…ç½®actions_deploy_key>é…ç½®<code>ACTIONS_DEPLOY_KEY</code></h2><h3 id=ç”Ÿæˆå…¬é’¥>ç”Ÿæˆå…¬é’¥</h3><p>Windows ä¸Šå®‰è£… <a class=link href=https://git-for-windows.github.io/ target=_blank rel=noopener>Git for Windows</a> ä¹‹ååœ¨å¼€å§‹èœå•é‡Œæ‰“å¼€ Git Bash è¾“å…¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;ä½ çš„ç”¨æˆ·å&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;ä½ çš„ç”µå­é‚®ç®±&#34;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir .ssh
</span></span><span class=line><span class=cl><span class=nb>cd</span> .ssh
</span></span><span class=line><span class=cl>ssh-keygen -t rsa
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ç³»ç»Ÿå½“å‰ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†ç§é’¥ <code>id_rsa</code> å’Œå…¬é’¥ <code>id_rsa.pub</code>ã€‚</p><h3 id=ä¸Šä¼ id_rsapub>ä¸Šä¼ id_rsa.pub</h3><p>ç‚¹å‡»åšå®¢ä»“åº“çš„Settings->Deploy keys->add deploy keyï¼ŒTitleå¡«å†™<code>ACTIONS_DEPLOY_KEY</code>ï¼ŒKeyå¡«å†™<code>id_rsa.pub</code>æ–‡ä»¶çš„å†…å®¹ã€‚</p><h3 id=ä¸Šä¼ id_rsa>ä¸Šä¼ id_rsa</h3><p>ç‚¹å‡»åšå®¢ä»“åº“çš„Settings->Secrets->Add a new secretï¼ŒNameå¡«å†™<code>ACTIONS_DEPLOY_KEY</code>ï¼ŒValueå¡«å†™<code>id_rsa</code>æ–‡ä»¶çš„å†…å®¹ã€‚</p><h2 id=åˆ©ç”¨ftp-deploy-actionä¸Šä¼ æ–‡ä»¶>åˆ©ç”¨<code>FTP-Deploy-Action</code>ä¸Šä¼ æ–‡ä»¶</h2><p>è¿™é‡Œåœ¨<code>Github actions</code>é‡Œåˆ©ç”¨<code>FTP-Deploy-Action</code>ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚é¡¹ç›®åœ°å€ï¼š<a class=link href=https://github.com/SamKirkland target=_blank rel=noopener>SamKirkland</a>/<a class=link href=https://github.com/SamKirkland/FTP-Deploy-Action target=_blank rel=noopener>FTP-Deploy-Action</a></p><p>é¦–å…ˆæ˜¯æ­å»ºftpæœåŠ¡å™¨ã€‚</p><h3 id=å®‰è£…vsftpd>å®‰è£…vsftpd</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install vsftpd -y
</span></span></code></pre></td></tr></table></div></div><p>å®‰è£…è½¯ä»¶åŒ…åï¼Œå¯åŠ¨vsftpdï¼Œå¹¶ä½¿å…¶èƒ½å¤Ÿåœ¨å¼•å¯¼æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start vsftpd
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> vsftpd
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®vsftpd>é…ç½®vsftpd</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/vsftpd/vsftpd.conf
</span></span></code></pre></td></tr></table></div></div><p>åœ¨<code>userlist_enable=YES</code>ä¸‹é¢ï¼ŒåŠ ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>userlist_file</span><span class=o>=</span>/etc/vsftpd/user_list
</span></span><span class=line><span class=cl><span class=nv>userlist_deny</span><span class=o>=</span>NO
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ›å»ºftpç”¨æˆ·>åˆ›å»ºFTPç”¨æˆ·</h3><ul><li>åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œåä¸ºgit:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo adduser git
</span></span><span class=line><span class=cl>sudo passwd git
</span></span></code></pre></td></tr></table></div></div><ul><li>å°†ç”¨æˆ·æ·»åŠ åˆ°å…è®¸çš„FTPç”¨æˆ·åˆ—è¡¨ä¸­ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;git&#34;</span> <span class=p>|</span> sudo tee -a /etc/vsftpd/user_list
</span></span></code></pre></td></tr></table></div></div><ul><li>è®¾ç½®æ­£ç¡®çš„æƒé™</li></ul><p>ä¸ºäº†ä½¿ftpç”¨æˆ·å¯ä»¥ä¸Šä¼ ç½‘ç«™æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chmod <span class=m>755</span> /var/www/hexo
</span></span><span class=line><span class=cl>sudo chown -R git: /var/www/hexo
</span></span></code></pre></td></tr></table></div></div><ul><li>é‡å¯vsftpdæœåŠ¡ã€‚</li></ul><p>ä¿å­˜æ–‡ä»¶å¹¶é‡æ–°å¯åŠ¨vsftpdæœåŠ¡ï¼Œä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart vsftpd
</span></span></code></pre></td></tr></table></div></div><h2 id=é…ç½®ftp_mirror_password>é…ç½®<code>FTP_MIRROR_PASSWORD</code></h2><p>ç‚¹å‡»åšå®¢ä»“åº“çš„Settings->Secrets->Add a new secretï¼ŒNameå¡«å†™<code>FTP_MIRROR_PASSWORD</code>ï¼ŒValueå¡«å†™ç”¨æˆ·å¯†ç ã€‚</p><h2 id=é…ç½®-github-actions>é…ç½® Github actions</h2><p>åœ¨åšå®¢æ ¹ç›®å½•æ–°å»º<code>.github/workflows/gh_pages.yml</code>æ–‡ä»¶ã€‚ä»£ç ï¼ˆ<strong>ä¸æ·»åŠ ç¼“å­˜</strong>ï¼‰å¦‚ä¸‹ï¼šæœ€å¥½ä½¿ç”¨ä¸‹é¢æ·»åŠ äº†ç¼“å­˜çš„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2.5.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to gh-pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3.8.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># cname:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to Server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>SamKirkland/FTP-Deploy-Action@4.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=m>104.224.191.88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.FTP_MIRROR_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>local-dir</span><span class=p>:</span><span class=w> </span><span class=l>./public/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server-dir</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/hexo/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>æ·»åŠ ç¼“å­˜ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>develop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2.3.4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2.5.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache resources</span><span class=w> </span><span class=c># ç¼“å­˜ resource æ–‡ä»¶åŠ å¿«ç”Ÿæˆé€Ÿåº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=c># æ£€æŸ¥ç…§ç‰‡æ–‡ä»¶å˜åŒ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-${{ hashFiles(&#39;content/**/*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify --gc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to gh-pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3.8.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># cname:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to Server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>SamKirkland/FTP-Deploy-Action@4.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=m>104.224.191.88</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>git</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.FTP_MIRROR_PASSWORD }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>local-dir</span><span class=p>:</span><span class=w> </span><span class=l>./public/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>server-dir</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/hexo/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>ç¬¬ä¸‰æ–¹ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>master</span><span class=w> </span><span class=c># master æ›´æ–°è§¦å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-18.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># clone submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=c># å…‹éš†æ‰€æœ‰å†å²ä¿¡æ¯</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.87.0&#34;</span><span class=w> </span><span class=c># Hugo ç‰ˆæœ¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># hugoæ’ä»¶ç‰ˆ Stackä¸»é¢˜ å¿…é¡»å¯ç”¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache resources</span><span class=w> </span><span class=c># ç¼“å­˜ resource æ–‡ä»¶åŠ å¿«ç”Ÿæˆé€Ÿåº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># æ£€æŸ¥ç…§ç‰‡æ–‡ä»¶å˜åŒ–</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-${{ hashFiles(&#39;content/**/*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w> </span><span class=c># ç”Ÿæˆç½‘é¡µ åˆ é™¤æ— ç”¨ resource æ–‡ä»¶ å‰Šå‡ç©ºè¡Œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify --gc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w> </span><span class=c># éƒ¨ç½²åˆ° GitHub Page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># å¦‚æœåœ¨åŒä¸€ä¸ªä»“åº“ä¸‹ä½¿ç”¨è¯·ä½¿ç”¨ github_token å¹¶æ³¨é‡Š deploy_key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># github_token: ${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># å¦‚æœåœ¨åŒä¸€ä¸ªä»“åº“è¯·æ³¨é‡Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=c># ä½ çš„ GitHub page ä»“åº“ example/example.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>user_name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;github-actions[bot]&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>user_email</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;github-actions[bot]@users.noreply.github.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>full_commit_message</span><span class=p>:</span><span class=w> </span><span class=l>Deploy from ${{ github.repository }}@${{ github.sha }} ğŸš€</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=æäº¤æºç >æäº¤æºç </h3><p>åˆå§‹åŒ–gitï¼Œæ–°å»ºå¹¶åˆ‡æ¢åˆ°<code>develop</code>åˆ†æ”¯ï¼Œå°†æºç æäº¤åˆ°<code>develop</code>åˆ†æ”¯ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œgithub actionä¼šè‡ªåŠ¨éƒ¨ç½²blogåˆ°<code>master</code>åˆ†æ”¯ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git checkout -b develop
</span></span><span class=line><span class=cl>git remote add origin git@github.com:iwyang/iwyang.github.io.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;å¤‡ä»½æºç &#34;</span>
</span></span><span class=line><span class=cl>git push --force origin develop
</span></span></code></pre></td></tr></table></div></div><h3 id=æœ€ç»ˆéƒ¨ç½²è„šæœ¬>æœ€ç»ˆéƒ¨ç½²è„šæœ¬</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to gitee...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># backup</span>
</span></span><span class=line><span class=cl>git config --global core.autocrlf <span class=nb>false</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;site backup&#34;</span>
</span></span><span class=line><span class=cl>git push origin develop --force
</span></span></code></pre></td></tr></table></div></div><h2 id=æœ¬åœ°æ“ä½œ>æœ¬åœ°æ“ä½œ</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b develop git@github.com:iwyang/iwyang.github.io.git blog --recursive
</span></span></code></pre></td></tr></table></div></div><p>å› ä¸ºä½¿ç”¨<code>Submodule</code>ç®¡ç†ä¸»é¢˜ï¼Œæ‰€ä»¥æœ€åè¦åŠ ä¸Š <code>--recursive</code>ï¼Œå› ä¸ºä½¿ç”¨ git clone å‘½ä»¤é»˜è®¤ä¸ä¼šæ‹‰å–é¡¹ç›®ä¸­çš„å­æ¨¡å—ï¼Œä½ ä¼šå‘ç°ä¸»é¢˜æ–‡ä»¶æ˜¯ç©ºçš„ã€‚ï¼ˆå¦å¤–ä¸€ç§æ–¹æ³•ï¼š<code>git submodule init && git submodule update</code>ï¼‰</p><h3 id=åŒæ­¥æ›´æ–°æºæ–‡ä»¶>åŒæ­¥æ›´æ–°æºæ–‡ä»¶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull
</span></span></code></pre></td></tr></table></div></div><h3 id=åŒæ­¥ä¸»é¢˜æ–‡ä»¶>åŒæ­¥ä¸»é¢˜æ–‡ä»¶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --remote
</span></span></code></pre></td></tr></table></div></div><p>è¿è¡Œæ­¤å‘½ä»¤åï¼Œ Git å°†ä¼šè‡ªåŠ¨è¿›å…¥å­æ¨¡å—ç„¶åæŠ“å–å¹¶æ›´æ–°ï¼Œæ›´æ–°åé‡æ–°æäº¤ä¸€éï¼Œå­æ¨¡å—æ–°çš„è·Ÿè¸ªä¿¡æ¯ä¾¿ä¹Ÿä¼šè®°å½•åˆ°ä»“åº“ä¸­ã€‚è¿™æ ·å°±ä¿è¯ä»“åº“ä¸»é¢˜æ˜¯æœ€æ–°çš„ã€‚</p><h2 id=æœåŠ¡å™¨é€šè¿‡gitæ‹‰å–æ›´æ–°>æœåŠ¡å™¨é€šè¿‡gitæ‹‰å–æ›´æ–°</h2><p>2021.8.15 å·²ç»ä¸ç”¨æ­¤æ–¹æ³•ï¼Œç°åœ¨ç›´æ¥åœ¨<code>Github actions</code>åˆ©ç”¨<code>FTP-Deploy-Action</code>ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚</p><h3 id=å…‹éš†ä»“åº“>å…‹éš†ä»“åº“</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rm -rf /var/www/hexo
</span></span><span class=line><span class=cl>git clone git@github.com:iwyang/iwyang.github.io.git /var/www/hexo
</span></span></code></pre></td></tr></table></div></div><h3 id=å‡ºç°é—®é¢˜>å‡ºç°é—®é¢˜</h3><p>æ‰§è¡Œä¸Šä¸€æ­¥å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š<code> Permission denied (publickey). Could not read from remote repository</code>ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><h4 id=æœåŠ¡å™¨ç”Ÿæˆssh-key>æœåŠ¡å™¨ç”Ÿæˆssh key</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum install rsync -y
</span></span><span class=line><span class=cl>ssh-keygen -t rsa -C <span class=s2>&#34;455343442@qq.com&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸€è·¯å›è½¦å³å¯ï¼Œä¼šç”Ÿæˆä½ çš„ssh keyã€‚ç„¶åå†ç»ˆç«¯ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -v git@github.com
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ—¶ä¼šæŠ¥é”™ï¼Œæœ€åä¸¤å¥æ˜¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>No more authentication methods to try.  
</span></span><span class=line><span class=cl>ã€€ã€€Permission denied <span class=o>(</span>publickey<span class=o>)</span>.
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ç»ˆç«¯å†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-agent -s 
</span></span></code></pre></td></tr></table></div></div><p>æ¥ç€åœ¨æ‰§è¡Œ:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-add ~/.ssh/id_rsa
</span></span></code></pre></td></tr></table></div></div><p>å‡ºç°é—®é¢˜ï¼š<code>Could not open a connection to your authentication agent.</code></p><p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ï¼š<code>ssh-agent bash</code> å‘½ä»¤ï¼Œç„¶åå†æ¬¡ä½¿ç”¨<code>ssh-add ~/.ssh/id_rsa_name</code>è¿™ä¸ªå‘½ä»¤å°±æ²¡é—®é¢˜äº†ã€‚(<strong>æ³¨æ„</strong>ï¼šIdentity added: &mldr;è¿™æ˜¯ssh keyæ–‡ä»¶è·¯å¾„çš„ä¿¡æ¯ï¼Œå¦‚<code>/.ssh/id_rsa</code>)</p><h4 id=é…ç½®github>é…ç½®github</h4><p>æ‰“å¼€ä½ åˆšåˆšç”Ÿæˆçš„<code>id_rsa.pub</code>ï¼Œå°†é‡Œé¢çš„å†…å®¹å¤åˆ¶ï¼Œè¿›å…¥ä½ çš„githubè´¦å·ï¼Œåœ¨settingsä¸‹ï¼ŒSSH and GPG keysä¸‹new SSH keyï¼Œç„¶åå°†id_rsa.pubé‡Œçš„å†…å®¹å¤åˆ¶åˆ°Keyä¸­ï¼Œå®ŒæˆåAdd SSH Keyã€‚</p><h4 id=éªŒè¯key>éªŒè¯Key</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -T git@github.com 
</span></span></code></pre></td></tr></table></div></div><h3 id=è®¾ç½®crontabå®šæ—¶ä»»åŠ¡>è®¾ç½®crontabå®šæ—¶ä»»åŠ¡ï¼š</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>crontab -e
</span></span><span class=line><span class=cl>*/5 * * * * git -C /var/www/hexo pull
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ ·åªè¦æäº¤æºç ç»™githubï¼Œ<code>github action</code>å°±ä¼šå¸®ä½ éƒ¨ç½²åšå®¢åˆ°<code>github page</code>ï¼ŒæœåŠ¡å™¨é€šè¿‡<code>git pull</code>å®šæ—¶æ‹‰å–æ›´æ–°ã€‚æ¢å°ç”µè„‘ä¸ç”¨å†æ­å»ºç¯å¢ƒï¼Œç›´æ¥åœ¨gtihubæ–°å»ºæˆ–è€…ä¿®æ”¹æ–‡ç« ï¼Œå‰©ä¸‹çš„å·¥ä½œå°±äº¤ç»™<code>github action</code>ã€‚æ³¨æ„å›æœ¬åœ°ç”µè„‘å…ˆ<code>git pull</code>æ‹‰å–æ›´æ–°ï¼Œå†æäº¤æºç ã€‚</p><p><strong>æ³¨æ„ï¼šå¥½åƒå…ˆè¦ä»æºç ä»“åº“cloneä¸€ä»½æºç åˆ°æœ¬åœ°ï¼Œæ‰èƒ½åˆ©ç”¨<code>git pull</code>æ‹‰å–githubå·²æœ‰çš„æ›´æ–°ã€‚åªæœ‰å…ˆæ‹‰å–githubå·²æœ‰çš„æ›´æ–°ï¼Œå†åœ¨æœ¬åœ°æäº¤æºç ï¼Œgithubä¸Šçš„æ›´æ–°æ‰ä¸ä¼šè¢«åˆ é™¤</strong>ã€‚</p><h2 id=é™„ä½¿ç”¨git-submoduleç®¡ç†hugoä¸»é¢˜>é™„ï¼šä½¿ç”¨Git Submoduleç®¡ç†Hugoä¸»é¢˜</h2><ul><li>å¦‚æœå…‹éš†åº“çš„æ—¶å€™è¦åˆå§‹åŒ–å­æ¨¡å—ï¼Œè¯·åŠ ä¸Š <code>--recursive</code> å‚æ•°ï¼Œå¦‚ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b develop git@github.com:iwyang/iwyang.github.io.git blog --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li>å¦‚æœå·²ç»å…‹éš†äº†ä¸»åº“ä½†æ²¡åˆå§‹åŒ–å­æ¨¡å—ï¼Œåˆ™ç”¨ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --init --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li>å¦‚æœå·²ç»å…‹éš†å¹¶åˆå§‹åŒ–å­æ¨¡å—ï¼Œè€Œéœ€è¦ä»å­æ¨¡å—çš„æºæ›´æ–°è¿™ä¸ªå­æ¨¡å—ï¼Œåˆ™ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --recursive --remote
</span></span></code></pre></td></tr></table></div></div><p>æ›´æ–°ä¹‹åä¸»åº“çš„ git å·®å¼‚ä¸­ä¼šæ˜¾ç¤ºæ–°çš„ SHA ç ï¼ŒæŠŠè¿™ä¸ªå·®å¼‚é€‰ä¸­æäº¤å³å¯ã€‚</p><hr><ul><li>å…¶ä»–å‘½ä»¤ï¼šåœ¨ä¸»ä»“åº“æ›´æ–°æ‰€æœ‰å­æ¨¡å—ï¼š<code>git submodule foreach git pull origin master</code></li></ul><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://yanlong.me/post/deploy-blog-use-github-actions/ target=_blank rel=noopener>1.ä½¿ç”¨Github Actionsè‡ªåŠ¨ç¼–è¯‘éƒ¨ç½²åŸºäºhugoçš„åšå®¢</a></li><li><a class=link href=https://juejin.im/post/5e0d9f61f265da5d0d435a24 target=_blank rel=noopener>2.ç”¨ Hugo è‡ªåŠ¨æ„å»º æ­å»º GitHub Pages</a></li><li><a class=link href=https://blog.lunawen.com/posts/20200628-luna-tech-github-action-blog-autodeployment/ target=_blank rel=noopener>3.ä½¿ç”¨ GitHub Action è‡ªåŠ¨éƒ¨ç½²åšå®¢åˆ°è¿œç¨‹æœåŠ¡å™¨</a></li><li><a class=link href=https://frostming.com/2020/04-26/github-actions-deploy target=_blank rel=noopener>4.ä½¿ç”¨ GitHub Actions å®ç°åšå®¢è‡ªåŠ¨åŒ–éƒ¨ç½²</a></li><li><a class=link href=https://blog.csdn.net/ywl470812087/article/details/104459288 target=_blank rel=noopener>5.è§£å†³git@github.com: Permission denied (publickey). Could not read from remote repository</a></li><li><a class=link href=https://yihui.org/cn/2017/03/git-submodule/ target=_blank rel=noopener>6.GIT å­æ¨¡å—</a></li><li><a class=link href=https://zj-git-guide.readthedocs.io/zh_CN/stable/basic/%E5%AD%90%E6%A8%A1%E5%9D%97.html target=_blank rel=noopener>7.å­æ¨¡å—</a></li><li><a class=link href=https://blog.zhixuan.dev/posts/ce103e3b/ target=_blank rel=noopener>8.Stackä¸»é¢˜ + GitHub Action</a></li></ul></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span>
</a><a href=/tags/github/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: github"><span>#github</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/hugo%e5%88%a9%e7%94%a8Github%20Actions%e8%87%aa%e5%8a%a8%e6%9e%84%e5%bb%ba%e5%8d%9a%e5%ae%a2/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2020-05-14T16:19:25Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2020-05-14</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><p>æœ€å¥½é¦–å…ˆå…‹éš†<code>github</code>ä¸Šçš„æºç ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=n>-b</span> <span class=n>develop</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=n>iwyang</span><span class=p>/</span><span class=n>hugo</span><span class=p>.</span><span class=py>git</span> <span class=n>hugo</span> <span class=p>-</span><span class=n>-recursive</span>
</span></span></code></pre></td></tr></table></div></div><p>é¦–å…ˆå½“ç„¶æ˜¯å¤‡ä»½åšå®¢æºæ–‡ä»¶ã€‚</p><h2 id=æ›´æ¢æœåŠ¡å™¨>æ›´æ¢æœåŠ¡å™¨</h2><p>å‚è€ƒï¼š</p><ul><li><a class=link href=https://iwyang.gitee.io/post/hugo-install-on-centos/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%93%8D%E4%BD%9C target=_blank rel=noopener>Hugoéƒ¨ç½²åˆ°centos â€”æœåŠ¡å™¨æ“ä½œéƒ¨åˆ†</a></li><li><a class=link href=https://iwyang.gitee.io/post/hugo-install-on-ubuntu/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%93%8D%E4%BD%9C target=_blank rel=noopener>Hugoéƒ¨ç½²åˆ°ubuntu â€”æœåŠ¡å™¨æ“ä½œéƒ¨åˆ†</a></li></ul><h2 id=æ›´æ¢ç”µè„‘é‡è£…ç³»ç»Ÿ>æ›´æ¢ç”µè„‘ã€é‡è£…ç³»ç»Ÿ</h2><h3 id=æœ¬åœ°æ“ä½œ>æœ¬åœ°æ“ä½œ</h3><p>å‚è€ƒï¼š<a class=link href=https://bore.vip/post/hugo-install-on-coding/#%E6%9C%AC%E5%9C%B0%E6%93%8D%E4%BD%9C target=_blank rel=noopener>hugoéƒ¨ç½²åˆ°codingâ€”æœ¬åœ°æ“ä½œéƒ¨åˆ†</a>ï¼Œé‡æ–°é…ç½®ç¯å¢ƒï¼Œç”Ÿæˆå…¬é’¥ã€‚</p><p><strong>æ³¨æ„æœ€åä¸ç”¨åˆå§‹åŒ–hugoï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº†åšå®¢åŸæ–‡ä»¶äº†</strong>ã€‚</p><h3 id=æœåŠ¡å™¨ä¸Šçš„æ“ä½œ>æœåŠ¡å™¨ä¸Šçš„æ“ä½œ</h3><p>å¦‚æœæ˜¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå…ˆå°†æœåŠ¡å™¨åŸæ¥çš„SSH å…¬é’¥å…ˆåˆ é™¤ï¼Œå†ä¸Šä¼ æ–°çš„SSH å…¬é’¥ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹:</p><p>æœåŠ¡å™¨ä¸Šè¾“å…¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>su git
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/.ssh
</span></span><span class=line><span class=cl>rm -rf authorized_keys
</span></span></code></pre></td></tr></table></div></div><p>æœ¬åœ°Git Bashé‡Œè¾“å…¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>ssh</span><span class=o>-</span><span class=nx>copy</span><span class=o>-</span><span class=nx>id</span> <span class=o>-</span><span class=nx>i</span> <span class=o>~</span><span class=err>/.ssh/id_rsa.pub git@æœåŠ¡å™¨ipåœ°å€</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœåœ¨git bashä¸­è¾“å…¥ssh git@æœåŠ¡å™¨çš„IPåœ°å€,èƒ½å¤Ÿè¿œç¨‹ç™»å½•çš„è¯ï¼Œåˆ™è¡¨ç¤ºè®¾ç½®æˆåŠŸäº†ã€‚å¦‚è‹¥è¿˜æ˜¯è¦è¾“å…¥å¯†ç ï¼Œå°±ä¿®æ”¹ç›®å½•æƒé™ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>chmod</span> <span class=mi>600</span> <span class=o>~</span><span class=err>/.ssh/authorized_keys</span>
</span></span><span class=line><span class=cl><span class=nx>chmod</span> <span class=mi>700</span> <span class=o>~</span><span class=err>/.ssh</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=githubgiteeä¸Šçš„æ“ä½œ>github&amp;giteeä¸Šçš„æ“ä½œ</h3><p>å¦‚æœæ˜¯å¤‡ä»½æºç åˆ°githuhbä¸Šï¼Œéƒ¨ç½²ç½‘é¡µåˆ°giteeä¸Šï¼Œè¦å°†é‡æ–°ç”Ÿæˆçš„SSHå…¬é’¥æ·»åŠ åˆ°github&amp;giteeä¸Šã€‚ä¸¤è€…éƒ½åœ¨å³ä¸Šè§’<code>ä¸ªäººè®¾ç½®é‡Œæ·»åŠ </code>ã€‚</p><h3 id=è¿˜åŸæºç >è¿˜åŸæºç </h3><p><del>é‡è£…ç³»ç»Ÿåï¼ŒAlgoliaçš„è‡ªåŠ¨æäº¤ç´¢å¼•åŠŸèƒ½è¦é‡æ–°éƒ¨ç½²ä¸€éï¼Œå…·ä½“å¯æŸ¥çœ‹ï¼š<a class=link href=https://bore.vip/hugo-theme-loveit-algolia/ target=_blank rel=noopener>Hugoæ·»åŠ Algolia</a>ã€‚æœ€åè¿˜è¦åœ¨åšå®¢ç›®å½•é‡Œé‡æ–°å…³è”è¿œç¨‹ä»“åº“ï¼Œè¿˜æ˜¯ä¸€æ ·å…ˆå¤‡ä»½æºç åˆ°githubï¼Œå†éƒ¨ç½²ç½‘é¡µåˆ°ç›¸åº”æœåŠ¡å™¨ã€‚</del></p><p><del><strong>å…ˆå¤‡ä»½æºç ï¼Œå†éƒ¨ç½²ç½‘é¡µï¼Œæ˜¯ä¸ºäº†<code>GitInfo</code>ä»¥åŠ<code>lastmod</code>èƒ½å¤Ÿç”Ÿæ•ˆå’Œæ›´æ–°</strong>ï¼Œå…¶å®æºç å¯ä»¥å¤‡ä»½åˆ°githubã€giteeã€codingä¸­ä»»æ„ä¸€ä¸ªå…¬å¼€ä»“åº“éƒ½å¯ä»¥ï¼Œå½“ç„¶å¤‡ä»½åˆ°githubæœ€å¥½ã€‚ç½‘é¡µä¹Ÿæ— éœ€å’Œæºç æ”¾åœ¨åŒä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ä¸Šã€‚</del></p><p>2022.3.4 å¦‚æœä½¿ç”¨<code>Git Submodule</code>å­æ¨¡å—ç®¡ç†Hugoä¸»é¢˜ï¼Œå°†æºç å…‹éš†åˆ°æœ¬åœ°ï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤æ‰èƒ½å°†ä¸»é¢˜ä¸€åŒå…‹éš†åˆ°æœ¬åœ°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=n>-b</span> <span class=n>develop</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=n>iwyang</span><span class=p>/</span><span class=n>hugo</span><span class=p>.</span><span class=py>git</span> <span class=n>hugo</span> <span class=p>-</span><span class=n>-recursive</span>
</span></span></code></pre></td></tr></table></div></div></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/Hugo%e8%bf%81%e7%a7%bb%e7%ac%94%e8%ae%b0/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2020-05-13T10:05:25Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2020-05-13</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><p>æœåŠ¡å™¨ç¯å¢ƒï¼šCentos 8 x64</p><p>æœ¬åœ°ç¯å¢ƒï¼šWin10 x64</p><h2 id=æœ¬åœ°æ“ä½œ>æœ¬åœ°æ“ä½œ</h2><p>å‚è€ƒï¼š<a class=link href=https://bore.vip/hugo-install-on-coding-and-gitee/#1-%E6%9C%AC%E5%9C%B0%E6%93%8D%E4%BD%9C target=_blank rel=noopener>hugoéƒ¨ç½²åˆ°coding&amp;gitee-æœ¬åœ°æ“ä½œéƒ¨åˆ†</a></p><h2 id=æœåŠ¡å™¨æ“ä½œ>æœåŠ¡å™¨æ“ä½œ</h2><blockquote><p><strong>æ³¨æ„ï¼šè¿™é‡Œæ˜¯å‚ç…§æœåŠ¡å™¨æ­å»ºhexoï¼Œæ‰€ä»¥ä»£ç é‡Œhexoæ²¡æœ‰æ”¹æˆhugoï¼Œä¸è¿‡è¿™æ²¡æœ‰ä»»ä½•å½±å“</strong>ã€‚</p></blockquote><p>å‡†å¤‡å·¥ä½œï¼šå¦‚æœæœåŠ¡å™¨ç«¯å£ä¸æ˜¯22ï¼Œå…ˆè¦æ›´æ”¹SSHç«¯å£ï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/ssh/sshd_config
</span></span><span class=line><span class=cl>port <span class=m>22</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åé‡å¯ç”Ÿæ•ˆã€‚</p><p>é¦–å…ˆï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Git å’Œ nginxã€‚</p><div class="note primary">2021.5.27 æ³¨æ„æœ€å¥½ä¸è¦æ‰§è¡Œä¸‹é¢ç¬¬ä¸€æ­¥å‡çº§æ“ä½œï¼Œä¸ç„¶å‡çº§åˆ°æœ€åä¸€æ­¥ä¼šå¡æ­»ï¼Œæœ€åå¯¼è‡´åé¢æ— æ³•å¯åŠ¨nginxã€‚</div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum update -y
</span></span><span class=line><span class=cl>yum install git-core nginx -y
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæ˜¯centos 7ï¼Œå…ˆè¦å®‰è£…å®‰è£…epelï¼š<code>yum install epel-release</code>ï¼Œæ‰èƒ½å®‰è£…nginxã€‚</p><p>Nginx å®‰è£…å®Œæˆåéœ€è¦æ‰‹åŠ¨å¯åŠ¨ï¼Œå¯åŠ¨Nginxå¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start nginx
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> nginx
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœå¼€å¯äº†é˜²ç«å¢™ï¼Œè®°å¾—æ·»åŠ  HTTP å’Œ HTTPS ç«¯å£åˆ°é˜²ç«å¢™å…è®¸åˆ—è¡¨ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>firewall-cmd --permanent --zone<span class=o>=</span>public --add-service<span class=o>=</span>http 
</span></span><span class=line><span class=cl>firewall-cmd --permanent --zone<span class=o>=</span>public --add-service<span class=o>=</span>https
</span></span><span class=line><span class=cl>firewall-cmd --reload
</span></span><span class=line><span class=cl>systemctl restart firewalld.service
</span></span></code></pre></td></tr></table></div></div><p>é…ç½®å®Œæˆåï¼Œè®¿é—®ä½¿ç”¨æµè§ˆå™¨æœåŠ¡å™¨ ip ï¼Œå¦‚æœèƒ½çœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œè¡¨ç¤ºè¿è¡ŒæˆåŠŸã€‚</p><h3 id=é…ç½®ç”¨æˆ·>é…ç½®ç”¨æˆ·</h3><p>ç„¶åæ–°å¢ä¸€ä¸ªåä¸º git çš„ç”¨æˆ·ï¼Œè¿‡ç¨‹ä¸­éœ€è¦è®¾ç½®ç™»å½•å¯†ç ï¼Œè¾“å…¥ä¸¤æ¬¡å¯†ç å³å¯ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>adduser git
</span></span><span class=line><span class=cl>passwd git
</span></span></code></pre></td></tr></table></div></div><p>ç»™ç”¨æˆ· <code>git</code> èµ‹äºˆæ— éœ€å¯†ç æ“ä½œçš„æƒé™ï¼ˆå¦åˆ™åˆ°åé¢ Hexo éƒ¨ç½²çš„æ—¶å€™ä¼šæç¤ºæ— æƒé™ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>740</span> /etc/sudoers
</span></span><span class=line><span class=cl>vi /etc/sudoers
</span></span></code></pre></td></tr></table></div></div><p>åœ¨å›¾ç¤ºä½ç½®<code>root ALL=(ALL:ALL) ALL</code>çš„ä¸‹æ–¹æ·»åŠ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git <span class=nv>ALL</span><span class=o>=(</span>ALL:ALL<span class=o>)</span> ALL
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åä¿å­˜ã€‚ç„¶åæ›´æ”¹è¯»å†™æƒé™ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>440</span> /etc/sudoers
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸Šä¼ -ssh-å…¬é’¥>ä¸Šä¼  SSH å…¬é’¥</h3><p>æ¥ä¸‹æ¥è¦æŠŠæœ¬åœ°çš„ ssh å…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ ã€‚æ‰§è¡Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>su git
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir .ssh <span class=o>&amp;&amp;</span> <span class=nb>cd</span> .ssh
</span></span><span class=line><span class=cl>touch authorized_keys
</span></span><span class=line><span class=cl>vi authorized_keys
</span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨è¦æ‰“å¼€æœ¬åœ°çš„ <code>Git Bash</code>ï¼Œè¾“å…¥<code>vi ~/.ssh/id_rsa.pub</code>ï¼ŒæŠŠé‡Œé¢çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ç²˜è´´åˆ°ä¸Šé¢æ‰“å¼€çš„æ–‡ä»¶é‡Œã€‚</p><p>æ¥ç€æŠŠsshç›®å½•è®¾ç½®ä¸ºåªæœ‰å±ä¸»æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>600</span> ~/.ssh/authorized_keys
</span></span><span class=line><span class=cl>chmod <span class=m>700</span> ~/.ssh
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åå»ºç«‹æ”¾éƒ¨ç½²çš„ç½‘é¡µçš„ Git åº“ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir hexo.git <span class=o>&amp;&amp;</span> <span class=nb>cd</span> hexo.git
</span></span><span class=line><span class=cl>git init --bare
</span></span></code></pre></td></tr></table></div></div><p>æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ Git Bash ä¸­è¾“å…¥ <code>ssh git@æœåŠ¡å™¨çš„IPåœ°å€</code> èƒ½å¤Ÿè¿œç¨‹ç™»å½•çš„è¯ï¼Œåˆ™è¡¨ç¤ºè®¾ç½®æˆåŠŸäº†ã€‚å¦‚æœä½ çš„æœåŠ¡å™¨ç«¯å£ä¸æ˜¯22ã€‚æœ€å¥½åƒå¼€å¤´é‚£æ ·æ›´æ”¹SSHç«¯å£ã€‚ä¹Ÿå¯ä»¥å‚è€ƒï¼š<a class=link href=https://bore.vip/post/hugo-install-on-ubuntu-%e6%9c%8d%e5%8a%a1%e5%99%a8/#%E4%B8%8A%E4%BC%A0-ssh-%E5%85%AC%E9%92%A5 target=_blank rel=noopener>ä¸Šä¼ SSHå…¬é’¥</a>ã€‚</p><hr><p>ps: å¦‚æœé…ç½®å®Œæˆè¿˜æ˜¯æç¤ºè¦è¾“å…¥å¯†ç ï¼Œå¯ä»¥ä½¿ç”¨ <code>ssh-copy-id</code>ï¼Œåœ¨æœ¬åœ°æ‰“å¼€ Git Bash è¾“å…¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-copy-id -i ~/.ssh/id_rsa.pub git@æœåŠ¡å™¨ipåœ°å€
</span></span></code></pre></td></tr></table></div></div><hr><p>ç™»å½•æˆåŠŸä¼šæç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>$</span> <span class=n>ssh</span> <span class=n>git</span><span class=nv>@104</span><span class=p>.</span><span class=py>224</span><span class=p>.</span><span class=py>191</span><span class=p>.</span><span class=py>88</span>
</span></span><span class=line><span class=cl><span class=n>Last</span> <span class=n>login</span><span class=err>:</span> <span class=n>Sat</span> <span class=n>Feb</span> <span class=mf>26</span> <span class=mf>02</span><span class=err>:</span><span class=mf>33</span><span class=err>:</span><span class=mf>30</span> <span class=mf>2022</span> <span class=n>from</span> <span class=mf>171.81</span><span class=p>.</span><span class=py>158</span><span class=p>.</span><span class=py>144</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>git</span><span class=nv>@special</span><span class=n>-beep</span><span class=p>-</span><span class=mf>1</span> <span class=p>~]$</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ç”¨æˆ·æˆæƒ>ç”¨æˆ·æˆæƒ</h3><p>æ¥ä¸‹æ¥è¦ç»™ç”¨æˆ· git æˆäºˆæ“ä½œ nginx æ”¾ç½‘é¡µçš„åœ°æ–¹çš„æƒé™ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>su
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir -p /var/www/hexo
</span></span><span class=line><span class=cl>chown git:git -R /var/www/hexo
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®é’©å­>é…ç½®é’©å­</h3><p>ç°åœ¨å°±è¦å‘ Git Hooks æ“ä½œï¼Œé…ç½®å¥½é’©å­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>su git
</span></span><span class=line><span class=cl><span class=nb>cd</span> /home/git/hexo.git/hooks
</span></span><span class=line><span class=cl>vi post-receive
</span></span></code></pre></td></tr></table></div></div><p>è¾“å…¥å†…å®¹å¹¶ä¿å­˜ï¼šï¼ˆé‡Œé¢çš„è·¯å¾„çœ‹ç€æ¢å§ï¼Œä¸Šé¢çš„å‘½ä»¤æ²¡æ”¹çš„è¯ä¹Ÿä¸ç”¨æ¢ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=nv>GIT_REPO</span><span class=o>=</span>/home/git/hexo.git
</span></span><span class=line><span class=cl><span class=nv>TMP_GIT_CLONE</span><span class=o>=</span>/tmp/hexo
</span></span><span class=line><span class=cl><span class=nv>PUBLIC_WWW</span><span class=o>=</span>/var/www/hexo
</span></span><span class=line><span class=cl>rm -rf <span class=si>${</span><span class=nv>TMP_GIT_CLONE</span><span class=si>}</span>
</span></span><span class=line><span class=cl>git clone <span class=nv>$GIT_REPO</span> <span class=nv>$TMP_GIT_CLONE</span>
</span></span><span class=line><span class=cl>rm -rf <span class=si>${</span><span class=nv>PUBLIC_WWW</span><span class=si>}</span>/*
</span></span><span class=line><span class=cl>cp -rf <span class=si>${</span><span class=nv>TMP_GIT_CLONE</span><span class=si>}</span>/* <span class=si>${</span><span class=nv>PUBLIC_WWW</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><p>èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod +x post-receive
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®-nginx>é…ç½® nginx</h3><p>ç„¶åæ˜¯é…ç½® nginxã€‚æ‰§è¡Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>su
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/nginx/conf.d/hexo.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>  listen  <span class=m>80</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>  listen <span class=o>[</span>::<span class=o>]</span>:80<span class=p>;</span>
</span></span><span class=line><span class=cl>  root /var/www/hexo<span class=p>;</span>
</span></span><span class=line><span class=cl>  server_name bore.vip www.bore.vip<span class=p>;</span>
</span></span><span class=line><span class=cl>  access_log  /var/log/nginx/hexo_access.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_log   /var/log/nginx/hexo_error.log<span class=p>;</span>
</span></span><span class=line><span class=cl>  error_page <span class=nv>404</span> <span class=o>=</span>  /404.html<span class=p>;</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>ico<span class=p>|</span>gif<span class=p>|</span>jpg<span class=p>|</span>jpeg<span class=p>|</span>png<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/hexo<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      1d<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location ~* ^.+<span class=se>\.</span><span class=o>(</span>css<span class=p>|</span>js<span class=p>|</span>txt<span class=p>|</span>xml<span class=p>|</span>swf<span class=p>|</span>wav<span class=o>)</span>$ <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/hexo<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log   off<span class=p>;</span>
</span></span><span class=line><span class=cl>    expires      10m<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location / <span class=o>{</span>
</span></span><span class=line><span class=cl>    root /var/www/hexo<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>-f <span class=nv>$request_filename</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    rewrite ^/<span class=o>(</span>.*<span class=o>)</span>$  /<span class=nv>$1</span> break<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  location /nginx_status <span class=o>{</span>
</span></span><span class=line><span class=cl>    stub_status on<span class=p>;</span>
</span></span><span class=line><span class=cl>    access_log off<span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å› ä¸ºæ”¾ä¸­æ–‡è¿›å»ä¼šä¹±ç æ‰€ä»¥å°±ä¸åœ¨é‡Œé¢æ³¨é‡Šäº†ã€‚ä»£ç é‡Œé¢é…ç½®äº†é»˜è®¤çš„æ ¹ç›®å½•ï¼Œç»‘å®šäº†åŸŸåï¼Œå¹¶ä¸”è‡ªå®šä¹‰äº† 404 é¡µé¢çš„è·¯å¾„ã€‚
æœ€åå°±é‡å¯ nginx æœåŠ¡å™¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl restart nginx
</span></span></code></pre></td></tr></table></div></div><hr><p>å¦‚æœä¸Šä¼ ç½‘é¡µåï¼ŒNginx å‡ºç° 403 Forbiddenï¼Œæ‰§è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/selinux/config
</span></span></code></pre></td></tr></table></div></div><p>å°†SELINUX=enforcing ä¿®æ”¹ä¸º SELINUX=disabled çŠ¶æ€ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>SELINUX</span><span class=o>=</span>disabled
</span></span></code></pre></td></tr></table></div></div><p>é‡å¯ç”Ÿæ•ˆï¼Œrebootã€‚</p><hr><p>ps: æœ€å¥½åšä¸€ä¸ª301è·³è½¬ï¼ŒæŠŠbore.vipå’Œ<code>www.bore.vip</code>åˆå¹¶ï¼Œå¹¶æŠŠä¹‹å‰çš„åŸŸåä¹Ÿä¸€å¹¶åˆå¹¶. æœ‰ä¸¤ç§å®ç°æ–¹æ³•,ç¬¬ä¸€ç§æ–¹æ³•æ˜¯åˆ¤æ–­nginxæ ¸å¿ƒå˜é‡host(è€ç‰ˆæœ¬æ˜¯http_host)ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>server_name bore.vip www.bore.vip <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>(</span><span class=nv>$host</span> !<span class=o>=</span> <span class=s1>&#39;bore.vip&#39;</span> <span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>rewrite ^/<span class=o>(</span>.*<span class=o>)</span>$ http://bore.vip/<span class=nv>$1</span> permanent<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¿®æ”¹è‡ªåŠ¨éƒ¨ç½²è„šæœ¬>ä¿®æ”¹è‡ªåŠ¨éƒ¨ç½²è„šæœ¬</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to Coding...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Removing existing files</span>
</span></span><span class=line><span class=cl>rm -rf public/*
</span></span><span class=line><span class=cl><span class=c1># Build the project</span>
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=c1># Go To Public folder</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git remote add origin git@ä½ çš„ip:hexo.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Commit changes.</span>
</span></span><span class=line><span class=cl><span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;rebuilding site `date`&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>1</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=k>then</span> <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Push source and build repos.</span>
</span></span><span class=line><span class=cl>git push origin master --force
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Come Back up to the Project Root</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ..
</span></span></code></pre></td></tr></table></div></div><p>æˆ–ç›´æ¥åœ¨<code>Git Bash</code>ä¸­æ‰‹åŠ¨è¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rm -rf public/*
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git remote add origin git@104.224.191.88:hexo.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;building site&#34;</span>
</span></span><span class=line><span class=cl>git push origin master --force
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“</h2><p>æœ€å¥½ä¸è¦åå¤åˆ‡æ¢éƒ¨ç½²ä»“åº“ï¼Œå¦åˆ™gitä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>remote: error: The last gc run reported the following. Please correct the root cause
</span></span><span class=line><span class=cl>remote: and remove gc.log.
</span></span><span class=line><span class=cl>remote: Automatic cleanup will not be performed <span class=k>until</span> the file is removed.
</span></span><span class=line><span class=cl>remote:
</span></span><span class=line><span class=cl>remote: warning: There are too many unreachable loose objects<span class=p>;</span> run <span class=s1>&#39;git prune&#39;</span> to remove them.
</span></span></code></pre></td></tr></table></div></div><p>æŸ¥èµ„æ–™ï¼ŒåŸæ¥æ˜¯è‡ªå·±æœ¬åœ°ä¸€äº› â€œæ‚¬ç©ºå¯¹è±¡â€å¤ªå¤š(gitåˆ é™¤åˆ†æ”¯æˆ–è€…æ¸…ç©ºstashçš„æ—¶å€™ï¼Œè¿™äº›å…¶å®è¿˜æ²¡æœ‰çœŸæ­£åˆ é™¤ï¼Œæˆä¸ºæ‚¬ç©ºå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mergeå‘½ä»¤å¯ä»¥ä»ä¸­æ¢å¤ä¸€äº›æ–‡ä»¶)</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>1.è¾“å…¥å‘½ä»¤ï¼š<code>git fsck --lost-found</code>ï¼Œå¯ä»¥çœ‹åˆ°å¥½å¤šâ€œdangling commitâ€</p><p>2.æ¸…ç©ºä»–ä»¬ï¼š<code>git gc --prune=now</code>ï¼Œå®Œæˆ</p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://tiktoking.github.io/2016/01/26/hexo/# target=_blank rel=noopener>1.åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºhexoåšå®¢ï¼Œåˆ©ç”¨gitæ›´æ–°</a></li><li><a class=link href=https://eliyar.biz/how_to_build_hexo_blog/ target=_blank rel=noopener>2.ä» 0 å¼€å§‹æ­å»º hexo åšå®¢</a></li><li><a class=link href=https://segmentfault.com/a/1190000012907499 target=_blank rel=noopener>3.åŸºäºCentOSæ­å»ºHexoåšå®¢</a></li><li><a class=link href=https://blog.csdn.net/qq_35843543/article/details/81561240 target=_blank rel=noopener>4.Nginxå‡ºç°403 forbidden</a></li><li><a class=link href=https://blog.csdn.net/persist_xyz/article/details/88619036 target=_blank rel=noopener>5.gitè¿è¡Œçªç„¶æç¤º remote: error: The last gc run reported the following</a></li></ul></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span>
</a><a href=/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: æœåŠ¡å™¨"><span>#æœåŠ¡å™¨</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/Hugo%e9%83%a8%e7%bd%b2%e5%88%b0centos%e6%9c%8d%e5%8a%a1%e5%99%a8/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article><article class=shuoshuo-card><div class=shuoshuo-header><div class="shuoshuo-meta meta-wrapper"><time class="shuoshuo-time meta-item" datetime=2020-05-13T01:42:25Z><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span>2020-05-13</span>
</time><span class="shuoshuo-updated-time meta-item" datetime=2026-02-18T15:52:01+08:00><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4A2 2 0 002 6v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121.0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
<span>2026-02-18</span></span></div></div><div class="shuoshuo-content style-cs-content article-post"><h2 id=æœ¬åœ°æ“ä½œ>æœ¬åœ°æ“ä½œ</h2><h3 id=å®‰è£…git>å®‰è£…GIt</h3><p>æœ¬åœ°éœ€è¦å®‰è£… <a class=link href=https://git-scm.com/ target=_blank rel=noopener>Git</a> ï¼Œå®‰è£…è¿‡ç¨‹ç•¥ã€‚å®‰è£…å®Œgitåè¿˜è¦é…ç½®ç¯å¢ƒå˜é‡ï¼š
å³é”®æˆ‘çš„ç”µè„‘ &ndash;> å±æ€§ï¼Œç„¶åç‚¹å‡»é«˜çº§ç³»ç»Ÿè®¾ç½® &ndash;> ç¯å¢ƒå˜é‡ &ndash;> é€‰æ‹©ç”¨æˆ·å˜é‡æˆ–ç³»ç»Ÿå˜é‡ä¸­çš„Path,ç‚¹å‡»ç¼–è¾‘ï¼›æ‰¾åˆ°Gitå®‰è£…ç›®å½•,æ·»åŠ ä»¥ä¸‹åœ°å€:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>D:<span class=se>\P</span>rogram Files<span class=se>\G</span>it<span class=se>\b</span>in
</span></span><span class=line><span class=cl>D:<span class=se>\P</span>rogram Files<span class=se>\G</span>it<span class=se>\m</span>ingw64<span class=se>\l</span>ibexec<span class=se>\g</span>it-core
</span></span><span class=line><span class=cl>D:<span class=se>\P</span>rogram Files<span class=se>\G</span>it<span class=se>\m</span>ingw64<span class=se>\b</span>in
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®ssh-å…¬é’¥>é…ç½®SSH å…¬é’¥</h3><p>Windows ä¸Šå®‰è£… <a class=link href=https://git-for-windows.github.io/ target=_blank rel=noopener>Git for Windows</a> ä¹‹ååœ¨å¼€å§‹èœå•é‡Œæ‰“å¼€ Git Bash è¾“å…¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;ä½ çš„ç”¨æˆ·å&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;ä½ çš„ç”µå­é‚®ç®±&#34;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir .ssh
</span></span><span class=line><span class=cl><span class=nb>cd</span> .ssh
</span></span><span class=line><span class=cl>ssh-keygen -t rsa
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ç³»ç»Ÿå½“å‰ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†ç§é’¥ <code>id_rsa</code> å’Œå…¬é’¥ <code>id_rsa.pub</code>ã€‚</p><h3 id=åˆå§‹åŒ–-hugo>åˆå§‹åŒ– Hugo</h3><h4 id=å®‰è£…hugo>å®‰è£…hugo</h4><p>windows10ä¸‹å®‰è£…hugoï¼Œå¯ä»¥å‚ç…§Hugoå®˜æ–¹æ‰‹å†Œçš„æ–¹æ³•ï¼Œè¿™é‡Œè®²ä¸€ä¸ªç›¸å¯¹ç®€å•ç¨³å®šçš„æ–¹æ³•ã€‚</p><p>1.ä¸‹è½½hugoç¨‹åºå‹ç¼©åŒ…ï¼šå‰å¾€https://github.com/gohugoio/hugo/releasesä¸‹è½½å’Œè‡ªå·±ç³»ç»Ÿç‰ˆæœ¬ç›¸ç¬¦åˆçš„hugoç¨‹åºå‹ç¼©åŒ…ã€‚(å»ºè®®ä¸‹è½½hugo_extendedç‰ˆæœ¬)</p><p>2.è§£å‹åˆ°æŸä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ˆè·¯å¾„ä¸è¦æœ‰ä¸­æ–‡ï¼Œè€Œä¸”è‡ªå·±è¦è®°å¾—æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼‰ï¼Œæœ€å¥½æ˜¯ä¸å¸¸æ”¹åŠ¨çš„æ–‡ä»¶å¤¹ä¸‹è¾¹ï¼Œä»¥é˜²æ–‡ä»¶è¢«è¯¯åˆ æˆ–è€…ä¸¢å¤±ã€‚</p><p>3.æ·»åŠ hugoåˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡PATHä¸­</p><ul><li>æ‰¾åˆ°â€œç³»ç»Ÿç¯å¢ƒå˜é‡â€çš„è®¾ç½®ä½ç½®ï¼Œåœ¨å¼€å§‹èœå•çš„æœç´¢æ æœç´¢ç¯å¢ƒå˜é‡</li><li>æ·»åŠ ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼Œä¾æ­¤ï¼šç‚¹å‡»ç¯å¢ƒå˜é‡ï¼Œæ‰¾åˆ°ç”¨æˆ·å˜é‡ä¸­çš„pathï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œç„¶åç‚¹å‡»æ–°å»ºï¼Œåœ¨ä½¿ç”¨æµè§ˆæŒ‰é’®é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³å¯ä½¿ç”¨hugoã€‚ï¼ˆé€‰ä¸­åˆ°hugo.exeæ‰€åœ¨çš„æ–‡ä»¶å¤¹å³å¯ï¼Œä¸éœ€è¦é€‰ä¸­hugo.exeï¼Œè²Œä¼¼æ·»åŠ å®Œç³»ç»Ÿå˜é‡ï¼Œè¦é‡å¯ç”µè„‘æ‰èƒ½åœ¨Git Bashé‡Œè¿è¡Œhugoï¼‰</li><li>æ¥ä¸‹æ¥ï¼Œä¸ºäº†ä¸‡æ— ä¸€å¤±ï¼Œè¿˜æ˜¯è¦æ£€æŸ¥ä¸€ä¸‹hugoæ˜¯å¦å®‰è£…å®Œæˆã€‚ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€cmdå‘½ä»¤çª—å£ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo version
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœå¾—åˆ°å¦‚ä¸‹å“åº”ï¼Œï¼ˆå³æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼‰ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç©è½¬hugoäº†ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Hugo Static Site Generator v0.70.0/extended windows/amd64 BuildDate: unknown
</span></span></code></pre></td></tr></table></div></div><h4 id=åˆ›å»ºå¹¶é…ç½®ç«™ç‚¹>åˆ›å»ºå¹¶é…ç½®ç«™ç‚¹</h4><blockquote><p>ä»¥ä¸‹å‘½ä»¤å‡åœ¨&rsquo;Git Bash&rsquo;ä¸­è¿è¡Œ</p></blockquote><p>è¿›å…¥ä½ æƒ³å­˜æ”¾ Hugo ç½‘ç«™æ–‡ä»¶å¤¹çš„ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new site blog  
</span></span></code></pre></td></tr></table></div></div><h4 id=æ·»åŠ ä¸»é¢˜>æ·»åŠ ä¸»é¢˜</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/dillonzq/LoveIt.git themes/LoveIt
</span></span></code></pre></td></tr></table></div></div><p>é™„æ›´æ–°ä¸»é¢˜å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ./themes/LoveIt/
</span></span><span class=line><span class=cl>git pull
</span></span></code></pre></td></tr></table></div></div><p>é…ç½®ä¸»é¢˜</p><p>å°† æ ¹ç›®å½•\themes\even\exampleSiteè·¯å¾„ä¸‹çš„config.tomlæ–‡ä»¶å¤åˆ¶åˆ°æ ¹ç›®å½•ä¸‹ï¼Œè¦†ç›–æ‰æ ¹ç›®å½•ä¸‹çš„config.tomlæ–‡ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨notepad++ä¸­æ‰“å¼€å¹¶å¯¹å…¶ä½œä¸€å®šçš„ä¿®æ”¹å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><h4 id=é…ç½®configtoml>é…ç½®config.toml</h4><p>ç•¥</p><h4 id=è®¾ç½®æ–‡ç« æ¨¡æ¿>è®¾ç½®æ–‡ç« æ¨¡æ¿</h4><p>ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨é™„åŠ åŠŸèƒ½ï¼Œæˆ‘ä»¬æå‰ä¿®æ”¹ä¸€ä¸‹æ¨¡æ¿ã€‚è¿™æ ·ï¼Œæ¯æ¬¡ä½¿ç”¨æ–°å»ºä¸€ç¯‡æ–‡æ¡£æ—¶å€™å°±çœå»å¾ˆå¤šéº»çƒ¦äº‹ã€‚
ä½¿ç”¨Typoraæ–‡æ¡£å·¥å…·æ‰“å¼€themes/tranquilpeak/archetypesä¸­çš„post.mdç›´æ¥æ›¿æ¢ä¸ºä»¥ä¸‹çš„æ¨¡æ¿ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ replace .Name &#34;</span>-<span class=s2>&#34; &#34;</span><span class=w> </span><span class=s2>&#34; | title }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>date</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>lastmod</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>.Date }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=w> 
</span></span></span></code></pre></td></tr></table></div></div><p>ã€€æ¥ä¸‹æ¥åœ¨æ ¹ç›®å½•ä¸‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆä¸€ç¯‡æ–‡æ¡£å§ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new post/XXXX.md
</span></span></code></pre></td></tr></table></div></div><h4 id=æ–°å»ºå…³äºé¡µé¢>æ–°å»ºâ€œå…³äºâ€é¡µé¢</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new about.md
</span></span></code></pre></td></tr></table></div></div><p><code>config.toml</code>ç›¸åº”ä½ç½®æ·»åŠ ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=p>[[</span><span class=l>menu.main]]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>name = &#34;å…³äº&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>weight = 50</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>identifier = &#34;about&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>url = &#34;/about/&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=å¯åŠ¨åšå®¢çš„æœ¬åœ°é¢„è§ˆ>å¯åŠ¨åšå®¢çš„æœ¬åœ°é¢„è§ˆ</h4><p>å»ºè®®åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¥½ä¸»é¢˜ï¼Œæˆ–è€…ä½¿ç”¨ â€“tæŒ‡ä»¤æŒ‡å®šä¸»é¢˜ï¼Œåœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤è¿›è¡Œæœ¬åœ°å¯åŠ¨ï¼Œæœ¬åœ°å¯åŠ¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo server -D
</span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ http://localhost:1313 é¢„è§ˆã€‚</p><h2 id=éƒ¨ç½²åˆ°coding>éƒ¨ç½²åˆ°coding</h2><p>ç•¥</p><h3 id=æäº¤æœ¬åœ°ä»“åº“>æäº¤æœ¬åœ°ä»“åº“</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rm -rf public/*
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git remote add origin git@e.coding.net:iwyang/hugo/hugo.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Add a new post&#34;</span>
</span></span><span class=line><span class=cl>git push --force origin master
</span></span></code></pre></td></tr></table></div></div><h3 id=å¤‡ä»½è„šæœ¬>å¤‡ä»½è„šæœ¬</h3><p>ä¸ºäº†åç»­æ›´æ–°æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªä¸€é”®éƒ¨ç½²è„šæœ¬ï¼Œå‘½åä¸º<code>deploy.sh</code>ï¼ˆå¦‚æœå¯¹é…ç½®ä¸åšå¤§çš„æ”¹åŠ¨ï¼ˆä¾‹å¦‚ï¼šæ›´æ¢ä¸»é¢˜ç­‰ï¼‰ï¼Œåç»­çš„æ›´æ–°å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è„šæœ¬ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[0;32mDeploying updates to gitee...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Removing existing files</span>
</span></span><span class=line><span class=cl>rm -rf public/*
</span></span><span class=line><span class=cl><span class=c1># Build the project</span>
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=c1># Go To Public folder</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Commit changes.</span>
</span></span><span class=line><span class=cl><span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;rebuilding site `date`&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>1</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=k>then</span> <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Push source and build repos.</span>
</span></span><span class=line><span class=cl>git push origin master --force
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Come Back up to the Project Root</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ..
</span></span></code></pre></td></tr></table></div></div><p>åˆ›å»ºå®Œè„šæœ¬ä»¥åï¼Œä¸è¦å¿˜äº†åŠ æƒé™</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>777</span> xxx
</span></span></code></pre></td></tr></table></div></div><h3 id=æäº¤æœ¬åœ°ä»“åº“-1>æäº¤æœ¬åœ°ä»“åº“</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rm -rf public/*
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git remote add origin git@gitee.com:iwyang/iwyang.git
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Add a new post&#34;</span>
</span></span><span class=line><span class=cl>git push origin master --force
</span></span></code></pre></td></tr></table></div></div><h3 id=å¤‡ä»½hugoæºç >å¤‡ä»½hugoæºç </h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git checkout -b backup
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;å¤‡ä»½æºç &#34;</span>
</span></span><span class=line><span class=cl>git remote add origin git@gitee.com:iwyang/iwyang.git
</span></span><span class=line><span class=cl>git push origin backup --force
</span></span></code></pre></td></tr></table></div></div><h2 id=å¤‡ä»½hugoæºç -1>å¤‡ä»½hugoæºç </h2><p>PS: <strong>å¦‚æœæ‰§è¡Œç¬¬ä¸‰æ­¥<code>git checkout -b backup</code>åï¼Œæç¤º<code>fatal: A branch named 'backup' already exists.</code>ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git branch -D backup    <span class=c1>#åˆ é™¤åˆ†æ”¯:å¿…é¡»åˆ‡æ¢åˆ°å…¶ä»–çš„åˆ†ä¹‹ä¸‹æ‰å¯æ“ä½œ</span>
</span></span><span class=line><span class=cl>git checkout -b backup  <span class=c1>#åˆ‡æ¢åˆ†æ”¯</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å¤‡ä»½åˆ°github-masteråˆ†æ”¯>å¤‡ä»½åˆ°github masteråˆ†æ”¯</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote rm origin
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;å¤‡ä»½æºç &#34;</span>
</span></span><span class=line><span class=cl>git remote add origin git@github.com:iwyang/hugo.git
</span></span><span class=line><span class=cl>git push --force origin master
</span></span></code></pre></td></tr></table></div></div><hr><blockquote><p>PS:è¿™é‡Œ<code>Git Bash</code>å¼€å¤´ä¼šæŠ¥é”™ï¼š<code>warning: LF will be replaced by CRLF</code>ï¼Œè§£å†³æ–¹æ³•ï¼šåœ¨<code>git add .</code>å‰é¢æ·»åŠ ï¼š</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global core.autocrlf <span class=nb>false</span>
</span></span></code></pre></td></tr></table></div></div><p>æœ€ç»ˆæ•ˆæœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># backup</span>
</span></span><span class=line><span class=cl>git config --global core.autocrlf <span class=nb>false</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;å¤‡ä»½æºç &#34;</span>
</span></span><span class=line><span class=cl>git remote add origin git@github.com:iwyang/hugo-backup.git
</span></span><span class=line><span class=cl>git push origin master --force
</span></span></code></pre></td></tr></table></div></div><p>åœ¨éƒ¨ç½²è„šæœ¬é‡Œä¹Ÿè¦ä½œç›¸åº”ä¿®æ”¹ã€‚</p><h2 id=è¿˜åŸæºç >è¿˜åŸæºç </h2><p><del>é‡è£…ç³»ç»Ÿåï¼ŒAlgoliaçš„è‡ªåŠ¨æäº¤ç´¢å¼•åŠŸèƒ½è¦é‡æ–°éƒ¨ç½²ä¸€éï¼Œå…·ä½“å¯æŸ¥çœ‹ï¼š<a class=link href=https://bore.vip/hugo-theme-loveit-algolia/ target=_blank rel=noopener>Hugoæ·»åŠ Algolia</a>ã€‚æœ€åè¿˜è¦åœ¨åšå®¢ç›®å½•é‡Œé‡æ–°å…³è”è¿œç¨‹ä»“åº“ï¼Œè¿˜æ˜¯ä¸€æ ·å…ˆå¤‡ä»½æºç åˆ°githubï¼Œå†éƒ¨ç½²ç½‘é¡µåˆ°ç›¸åº”æœåŠ¡å™¨ã€‚</del></p><p><del><strong>å…ˆå¤‡ä»½æºç ï¼Œå†éƒ¨ç½²ç½‘é¡µï¼Œæ˜¯ä¸ºäº†<code>GitInfo</code>ä»¥åŠ<code>lastmod</code>èƒ½å¤Ÿç”Ÿæ•ˆå’Œæ›´æ–°</strong>ï¼Œå…¶å®æºç å¯ä»¥å¤‡ä»½åˆ°githubã€giteeã€codingä¸­ä»»æ„ä¸€ä¸ªå…¬å¼€ä»“åº“éƒ½å¯ä»¥ï¼Œå½“ç„¶å¤‡ä»½åˆ°githubæœ€å¥½ã€‚ç½‘é¡µä¹Ÿæ— éœ€å’Œæºç æ”¾åœ¨åŒä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ä¸Šã€‚</del></p><p>2022.3.4 å¦‚æœä½¿ç”¨<code>Git Submodule</code>å­æ¨¡å—ç®¡ç†Hugoä¸»é¢˜ï¼Œå°†æºç å…‹éš†åˆ°æœ¬åœ°ï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤æ‰èƒ½å°†ä¸»é¢˜ä¸€åŒå…‹éš†åˆ°æœ¬åœ°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=n>-b</span> <span class=n>develop</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=n>iwyang</span><span class=p>/</span><span class=n>hugo</span><span class=p>.</span><span class=py>git</span> <span class=n>hugo</span> <span class=p>-</span><span class=n>-recursive</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“</h2><p>æœ€å¥½ä¸è¦åå¤åˆ‡æ¢éƒ¨ç½²ä»“åº“ï¼Œå¦åˆ™gitä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>remote: error: The last gc run reported the following. Please correct the root cause
</span></span><span class=line><span class=cl>remote: and remove gc.log.
</span></span><span class=line><span class=cl>remote: Automatic cleanup will not be performed <span class=k>until</span> the file is removed.
</span></span><span class=line><span class=cl>remote:
</span></span><span class=line><span class=cl>remote: warning: There are too many unreachable loose objects<span class=p>;</span> run <span class=s1>&#39;git prune&#39;</span> to remove them.
</span></span></code></pre></td></tr></table></div></div><p>æŸ¥èµ„æ–™ï¼ŒåŸæ¥æ˜¯è‡ªå·±æœ¬åœ°ä¸€äº› â€œæ‚¬ç©ºå¯¹è±¡â€å¤ªå¤š(gitåˆ é™¤åˆ†æ”¯æˆ–è€…æ¸…ç©ºstashçš„æ—¶å€™ï¼Œè¿™äº›å…¶å®è¿˜æ²¡æœ‰çœŸæ­£åˆ é™¤ï¼Œæˆä¸ºæ‚¬ç©ºå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mergeå‘½ä»¤å¯ä»¥ä»ä¸­æ¢å¤ä¸€äº›æ–‡ä»¶)</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>1.è¾“å…¥å‘½ä»¤ï¼š<code>git fsck --lost-found</code>ï¼Œå¯ä»¥çœ‹åˆ°å¥½å¤šâ€œdangling commitâ€</p><p>2.æ¸…ç©ºä»–ä»¬ï¼š<code>git gc --prune=now</code>ï¼Œå®Œæˆ</p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a class=link href=https://saquarius.com/2019/07/hugo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2windows10/#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C target=_blank rel=noopener>1.Hugo+githubæ­å»ºä¸ªäººåšå®¢ (windows10)</a></li><li><a class=link href=https://zhuanlan.zhihu.com/p/57361697 target=_blank rel=noopener>2.å¦‚ä½•åˆ©ç”¨ GitHub Pages å’Œ Hugo è½»æ¾æ­å»ºä¸ªäººåšå®¢ï¼Ÿ</a></li><li><a class=link href=https://blog.olowolo.com/post/hugo-quick-start/ target=_blank rel=noopener>3.Hugo ä»å…¥é—¨åˆ°ä¼šç”¨</a></li><li><a class=link href=https://gitee.com/help/articles/4136#article-header0 target=_blank rel=noopener>4.ç äº‘Pages</a></li><li><a class=link href=https://blog.csdn.net/persist_xyz/article/details/88619036 target=_blank rel=noopener>5.gitè¿è¡Œçªç„¶æç¤º remote: error: The last gc run reported the following</a></li></ul></div><div class="shuoshuo-tags meta-wrapper" style=margin-top:15px!important;margin-bottom:5px!important;gap:10px!important><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:14px;height:14px;color:var(--card-text-color-secondary)"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a href=/tags/hugo/ class="meta-item shuoshuo-tag" title="æŸ¥çœ‹æ ‡ç­¾: hugo"><span>#hugo</span></a></div><div class=shuoshuo-footer-info><div class="shuoshuo-edit-link meta-wrapper" style=gap:15px!important><a href=https://github.com/iwyang/iwyang.github.io/edit/develop/content/post/hugo%e9%83%a8%e7%bd%b2%e5%88%b0coding&amp;gitee&%e5%a4%87%e4%bb%bd%e6%ba%90%e7%a0%81/index.md target=_blank rel="noopener noreferrer" class=meta-item title="å‰å¾€ GitHub ç¼–è¾‘æ­¤é¡µ"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
<span>ç¼–è¾‘æ­¤é¡µ</span>
</a><span class=separator>|</span>
<a class="meta-item git-hash-text" href=https://github.com/iwyang/iwyang.github.io/commit/26a215ebb8fca78d98f384856b8ab5e0e2056333 target=_blank rel="noopener noreferrer" title="Commit Hash: 26a215e">#26a215e</a></div></div></article></div><div class=waterfall-column id=waterfall-right></div></div><div class=shuoshuo-pagination></div><footer class=site-footer><style>.site-footer .running-time,.site-footer .powerby{font-size:14px!important;line-height:1.6!important;margin:10px 0!important;display:block!important;font-weight:400!important}.site-footer .running-time,.site-footer .running-time *,[data-scheme=dark] .site-footer .running-time,[data-scheme=dark] .site-footer .running-time *{color:#1e90ff!important}.site-footer .powerby,.site-footer .powerby *{color:var(--sys-color-text-muted)!important}[data-scheme=dark] .site-footer .powerby,[data-scheme=dark] .site-footer .powerby *{color:rgba(255,255,255,.7)!important}.footer-separator{margin:0 6px!important;font-size:14px!important}.site-footer .running-time .footer-separator{color:#1e90ff!important;opacity:1!important}.site-footer .powerby .footer-separator{color:inherit!important}.site-footer a{text-decoration:none!important;cursor:pointer}.site-footer a:hover{text-decoration:underline!important}.site-footer .powerby a:hover{color:var(--accent-color)!important}</style><section class=copyright>&copy;
2020 -
2026 Bore's Notes</section><section class=running-time>æœ€è¿‘æ›´æ–°ï¼š<span id=site-last-update data-time=2026-02-21T04:15:48Z title="2026-02-21 04:15">--</span><span class=footer-separator>|</span>
<a href=https://github.com/iwyang/iwyang.github.io/commit/b13dfb7373bc43e02c2a7b6370addb312153a08b target=_blank rel=noopener title="Commit Hash: b13dfb7">#b13dfb7</a></section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º
<span class=footer-separator>|</span>
ä¸»é¢˜ <a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=4.0.0>Stack</a> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><script>(function(){var e,t,n,o,i,a,r,c,l,d,s=document.getElementById("site-last-update");s&&(n=new Date(s.getAttribute("data-time")),o=new Date,e=(o-n)/1e3,i=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),c=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0"),d=i+"-"+a+"-"+r+" "+c+":"+l,s.setAttribute("title",d),t="",e<60?t="åˆšåˆš":e<3600?t=Math.floor(e/60)+" åˆ†é’Ÿå‰":e<86400?t=Math.floor(e/3600)+" å°æ—¶å‰":e<2592e3?t=Math.floor(e/86400)+" å¤©å‰":e<31536e3?t=Math.floor(e/2592e3)+" ä¸ªæœˆå‰":t=Math.floor(e/31536e3)+" å¹´å‰",s.innerText=t)})()</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css><script src=https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js></script><script>document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("masonry-container"),t=document.getElementById("waterfall-left"),i=document.getElementById("waterfall-right"),a=Array.from(t.querySelectorAll(".shuoshuo-card"));function n(){if(window.innerWidth<=768){a.forEach(e=>t.appendChild(e)),o.style.opacity=1;return}t.innerHTML="",i.innerHTML="",a.forEach(e=>{t.offsetHeight<=i.offsetHeight?t.appendChild(e):i.appendChild(e)}),o.style.opacity=1}n(),window.addEventListener("resize",n);const s=o.querySelectorAll("img");let e=0;s.length>0?s.forEach(t=>{t.complete?(e++,e===s.length&&n()):(t.addEventListener("load",()=>{e++,e===s.length&&n()}),t.addEventListener("error",()=>{e++,e===s.length&&n()}))}):o.style.opacity=1;const r=document.querySelectorAll(".shuoshuo-content img");r.forEach(e=>{const t=e.parentElement;if(t.tagName==="A")t.hasAttribute("data-fancybox")||(t.setAttribute("data-fancybox","gallery"),t.setAttribute("data-caption",e.alt||e.title||"è¯´è¯´å›¾ç‰‡"),t.classList.add("shuoshuo-image"),t.style.display="block");else{const t=document.createElement("a");t.href=e.src,t.setAttribute("data-fancybox","gallery"),t.setAttribute("data-caption",e.alt||e.title||"è¯´è¯´å›¾ç‰‡"),t.classList.add("shuoshuo-image"),t.style.display="block",e.parentNode.insertBefore(t,e),t.appendChild(e)}}),typeof Fancybox!="undefined"&&Fancybox.bind('[data-fancybox="gallery"]',{Hash:!1,Thumbs:{autoStart:!1},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW"],right:["slideshow","download","close"]}}});const c=new Date,l=document.querySelectorAll(".shuoshuo-time, .shuoshuo-updated-time");l.forEach(e=>d(e,c));function d(e,t){const n=e.getAttribute("datetime");if(!n)return;const s=new Date(n),o=(t-s)/1e3,i=e.querySelector("span")||e,a=u(s);if(!e.hasAttribute("title")){const t=e.classList.contains("shuoshuo-updated-time")?"æ›´æ–°äº ":"å‘å¸ƒäº ";e.setAttribute("title",t+a)}i.innerText=h(o)}function u(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return t+"-"+n+"-"+s+" "+o+":"+i}function h(e){return e<60?"åˆšåˆš":e<3600?Math.floor(e/60)+" åˆ†é’Ÿå‰":e<86400?Math.floor(e/3600)+" å°æ—¶å‰":e<2592e3?Math.floor(e/86400)+" å¤©å‰":e<31536e3?Math.floor(e/2592e3)+" ä¸ªæœˆå‰":Math.floor(e/31536e3)+" å¹´å‰"}})</script></main></main></div><script type=text/javascript src=/ts/main.acaf849f2b273f6a8368a58b001f336738d0c948d92e79b116467d0c7515f932.js defer></script></body></html>